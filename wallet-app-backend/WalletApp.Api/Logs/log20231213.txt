2023-12-13 18:57:36.275 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-12-13 18:57:36.321 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-12-13 18:57:36.326 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-12-13 18:57:36.383 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2023-12-13 18:57:36.387 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-12-13 18:57:36.391 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-12-13 18:57:36.402 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-12-13 18:57:36.418 +01:00 [INF] Applying migration '20231213175720_Initial'.
2023-12-13 18:57:36.519 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoles] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(256) NULL,
    [NormalizedName] nvarchar(256) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoles] PRIMARY KEY ([Id])
);
2023-12-13 18:57:36.523 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUsers] (
    [Id] uniqueidentifier NOT NULL,
    [IconType] int NOT NULL,
    [UserName] nvarchar(256) NULL,
    [NormalizedUserName] nvarchar(256) NULL,
    [Email] nvarchar(256) NULL,
    [NormalizedEmail] nvarchar(256) NULL,
    [EmailConfirmed] bit NOT NULL,
    [PasswordHash] nvarchar(max) NULL,
    [SecurityStamp] nvarchar(max) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    [PhoneNumber] nvarchar(max) NULL,
    [PhoneNumberConfirmed] bit NOT NULL,
    [TwoFactorEnabled] bit NOT NULL,
    [LockoutEnd] datetimeoffset NULL,
    [LockoutEnabled] bit NOT NULL,
    [AccessFailedCount] int NOT NULL,
    CONSTRAINT [PK_AspNetUsers] PRIMARY KEY ([Id])
);
2023-12-13 18:57:36.528 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Currencies] (
    [Id] uniqueidentifier NOT NULL,
    [CurrencyName] nvarchar(30) NOT NULL,
    [Code] nvarchar(3) NOT NULL,
    [Bid] decimal(10,3) NOT NULL,
    [Ask] decimal(10,3) NOT NULL,
    [TradingDate] datetime2 NOT NULL,
    [CratedBy] uniqueidentifier NULL,
    [CreatedTime] datetime2 NULL,
    [ModifiedBy] uniqueidentifier NULL,
    [ModifiedTime] datetime2 NULL,
    [DeletedBy] uniqueidentifier NULL,
    [DeletedTime] datetime2 NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_Currencies] PRIMARY KEY ([Id])
);
2023-12-13 18:57:36.533 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Groups] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(40) NOT NULL,
    [IconType] int NOT NULL,
    [MaxMembers] int NOT NULL,
    [Money] decimal(15,2) NOT NULL DEFAULT 0.0,
    [CratedBy] uniqueidentifier NULL,
    [CreatedTime] datetime2 NULL,
    [ModifiedBy] uniqueidentifier NULL,
    [ModifiedTime] datetime2 NULL,
    [DeletedBy] uniqueidentifier NULL,
    [DeletedTime] datetime2 NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_Groups] PRIMARY KEY ([Id])
);
2023-12-13 18:57:36.536 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [NotificationTypeDictionaries] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(max) NOT NULL,
    [CratedBy] uniqueidentifier NULL,
    [CreatedTime] datetime2 NULL,
    [ModifiedBy] uniqueidentifier NULL,
    [ModifiedTime] datetime2 NULL,
    [DeletedBy] uniqueidentifier NULL,
    [DeletedTime] datetime2 NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_NotificationTypeDictionaries] PRIMARY KEY ([Id])
);
2023-12-13 18:57:36.539 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Permissions] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Permissions] PRIMARY KEY ([Id])
);
2023-12-13 18:57:36.544 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoleClaims] (
    [Id] int NOT NULL IDENTITY,
    [RoleId] uniqueidentifier NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoleClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetRoleClaims_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE
);
2023-12-13 18:57:36.549 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AccountData] (
    [Id] uniqueidentifier NOT NULL,
    [ActualMoneyPln] decimal(15,2) NOT NULL DEFAULT 0.0,
    [ActualMoneyUsd] decimal(15,2) NOT NULL DEFAULT 0.0,
    [ActualMoneyEur] decimal(15,2) NOT NULL DEFAULT 0.0,
    [ActualMoneyChf] decimal(15,2) NOT NULL DEFAULT 0.0,
    [ActualMoneyGbp] decimal(15,2) NOT NULL DEFAULT 0.0,
    [UserIdentityId] uniqueidentifier NOT NULL,
    [CratedBy] uniqueidentifier NULL,
    [CreatedTime] datetime2 NULL,
    [ModifiedBy] uniqueidentifier NULL,
    [ModifiedTime] datetime2 NULL,
    [DeletedBy] uniqueidentifier NULL,
    [DeletedTime] datetime2 NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_AccountData] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AccountData_AspNetUsers_UserIdentityId] FOREIGN KEY ([UserIdentityId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2023-12-13 18:57:36.553 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserClaims] (
    [Id] int NOT NULL IDENTITY,
    [UserId] uniqueidentifier NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetUserClaims_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2023-12-13 18:57:36.559 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserLogins] (
    [LoginProvider] nvarchar(450) NOT NULL,
    [ProviderKey] nvarchar(450) NOT NULL,
    [ProviderDisplayName] nvarchar(max) NULL,
    [UserId] uniqueidentifier NOT NULL,
    CONSTRAINT [PK_AspNetUserLogins] PRIMARY KEY ([LoginProvider], [ProviderKey]),
    CONSTRAINT [FK_AspNetUserLogins_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2023-12-13 18:57:36.563 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserTokens] (
    [UserId] uniqueidentifier NOT NULL,
    [LoginProvider] nvarchar(450) NOT NULL,
    [Name] nvarchar(450) NOT NULL,
    [Value] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserTokens] PRIMARY KEY ([UserId], [LoginProvider], [Name]),
    CONSTRAINT [FK_AspNetUserTokens_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2023-12-13 18:57:36.567 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Tokens] (
    [Id] uniqueidentifier NOT NULL,
    [RefreshToken] nvarchar(max) NULL,
    [RefreshTokenExpiryTime] datetime2 NULL,
    [IpAddress] nvarchar(max) NOT NULL,
    [UserIdentityId] uniqueidentifier NOT NULL,
    CONSTRAINT [PK_Tokens] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Tokens_AspNetUsers_UserIdentityId] FOREIGN KEY ([UserIdentityId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2023-12-13 18:57:36.572 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Categories] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(50) NOT NULL,
    [UserIdentityId] uniqueidentifier NULL,
    [GroupId] uniqueidentifier NULL,
    [CratedBy] uniqueidentifier NULL,
    [CreatedTime] datetime2 NULL,
    [ModifiedBy] uniqueidentifier NULL,
    [ModifiedTime] datetime2 NULL,
    [DeletedBy] uniqueidentifier NULL,
    [DeletedTime] datetime2 NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_Categories] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Categories_AspNetUsers_UserIdentityId] FOREIGN KEY ([UserIdentityId]) REFERENCES [AspNetUsers] ([Id]),
    CONSTRAINT [FK_Categories_Groups_GroupId] FOREIGN KEY ([GroupId]) REFERENCES [Groups] ([Id])
);
2023-12-13 18:57:36.578 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Members] (
    [Id] uniqueidentifier NOT NULL,
    [UserIdentityId] uniqueidentifier NOT NULL,
    [UserRoleIdentityId] uniqueidentifier NOT NULL,
    [GroupId] uniqueidentifier NOT NULL,
    [CratedBy] uniqueidentifier NULL,
    [CreatedTime] datetime2 NULL,
    [ModifiedBy] uniqueidentifier NULL,
    [ModifiedTime] datetime2 NULL,
    [DeletedBy] uniqueidentifier NULL,
    [DeletedTime] datetime2 NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_Members] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Members_AspNetUsers_UserIdentityId] FOREIGN KEY ([UserIdentityId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Members_Groups_GroupId] FOREIGN KEY ([GroupId]) REFERENCES [Groups] ([Id]) ON DELETE CASCADE
);
2023-12-13 18:57:36.583 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Notes] (
    [Id] uniqueidentifier NOT NULL,
    [Title] nvarchar(50) NOT NULL,
    [Text] nvarchar(500) NULL,
    [IsDone] bit NOT NULL DEFAULT CAST(0 AS bit),
    [TextColor] nvarchar(7) NULL,
    [BackgroundColor] nvarchar(7) NULL,
    [UserIdentityId] uniqueidentifier NOT NULL,
    [GroupId] uniqueidentifier NULL,
    [CratedBy] uniqueidentifier NULL,
    [CreatedTime] datetime2 NULL,
    [ModifiedBy] uniqueidentifier NULL,
    [ModifiedTime] datetime2 NULL,
    [DeletedBy] uniqueidentifier NULL,
    [DeletedTime] datetime2 NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_Notes] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Notes_AspNetUsers_UserIdentityId] FOREIGN KEY ([UserIdentityId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Notes_Groups_GroupId] FOREIGN KEY ([GroupId]) REFERENCES [Groups] ([Id])
);
2023-12-13 18:57:36.589 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Notifications] (
    [Id] uniqueidentifier NOT NULL,
    [Date] datetime2 NOT NULL,
    [UserIdentityId] uniqueidentifier NOT NULL,
    [GuidId] uniqueidentifier NULL,
    [NotificationTypeId] uniqueidentifier NOT NULL,
    [CratedBy] uniqueidentifier NULL,
    [CreatedTime] datetime2 NULL,
    [ModifiedBy] uniqueidentifier NULL,
    [ModifiedTime] datetime2 NULL,
    [DeletedBy] uniqueidentifier NULL,
    [DeletedTime] datetime2 NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_Notifications] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Notifications_AspNetUsers_UserIdentityId] FOREIGN KEY ([UserIdentityId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Notifications_Groups_GuidId] FOREIGN KEY ([GuidId]) REFERENCES [Groups] ([Id]),
    CONSTRAINT [FK_Notifications_NotificationTypeDictionaries_NotificationTypeId] FOREIGN KEY ([NotificationTypeId]) REFERENCES [NotificationTypeDictionaries] ([Id]) ON DELETE CASCADE
);
2023-12-13 18:57:36.595 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [RolePermissions] (
    [RoleIdentityId] uniqueidentifier NOT NULL,
    [PermissionId] uniqueidentifier NOT NULL,
    CONSTRAINT [PK_RolePermissions] PRIMARY KEY ([RoleIdentityId], [PermissionId]),
    CONSTRAINT [FK_RolePermissions_AspNetRoles_RoleIdentityId] FOREIGN KEY ([RoleIdentityId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_RolePermissions_Permissions_PermissionId] FOREIGN KEY ([PermissionId]) REFERENCES [Permissions] ([Id]) ON DELETE CASCADE
);
2023-12-13 18:57:36.600 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [DefaultTransactions] (
    [Id] uniqueidentifier NOT NULL,
    [Title] nvarchar(50) NOT NULL,
    [Price] decimal(15,2) NOT NULL,
    [Description] nvarchar(500) NULL,
    [TextColor] nvarchar(7) NULL,
    [BackgroundColor] nvarchar(7) NULL,
    [UserIdentityId] uniqueidentifier NOT NULL,
    [CategoryId] uniqueidentifier NOT NULL,
    [CurrencyId] uniqueidentifier NOT NULL,
    [GroupId] uniqueidentifier NULL,
    [CratedBy] uniqueidentifier NULL,
    [CreatedTime] datetime2 NULL,
    [ModifiedBy] uniqueidentifier NULL,
    [ModifiedTime] datetime2 NULL,
    [DeletedBy] uniqueidentifier NULL,
    [DeletedTime] datetime2 NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_DefaultTransactions] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_DefaultTransactions_AspNetUsers_UserIdentityId] FOREIGN KEY ([UserIdentityId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_DefaultTransactions_Categories_CategoryId] FOREIGN KEY ([CategoryId]) REFERENCES [Categories] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_DefaultTransactions_Currencies_CurrencyId] FOREIGN KEY ([CurrencyId]) REFERENCES [Currencies] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_DefaultTransactions_Groups_GroupId] FOREIGN KEY ([GroupId]) REFERENCES [Groups] ([Id])
);
2023-12-13 18:57:36.607 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserRoles] (
    [UserId] uniqueidentifier NOT NULL,
    [RoleId] uniqueidentifier NOT NULL,
    [Discriminator] nvarchar(max) NOT NULL,
    [MemberId] uniqueidentifier NULL,
    CONSTRAINT [PK_AspNetUserRoles] PRIMARY KEY ([UserId], [RoleId]),
    CONSTRAINT [FK_AspNetUserRoles_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_AspNetUserRoles_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_AspNetUserRoles_Members_MemberId] FOREIGN KEY ([MemberId]) REFERENCES [Members] ([Id]) ON DELETE NO ACTION
);
2023-12-13 18:57:36.613 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Transactions] (
    [Id] uniqueidentifier NOT NULL,
    [Title] nvarchar(50) NOT NULL,
    [Price] decimal(15,2) NOT NULL,
    [Date] datetime2 NOT NULL,
    [Description] nvarchar(500) NULL,
    [IsDefault] bit NOT NULL DEFAULT CAST(0 AS bit),
    [DefaultTransactionId] uniqueidentifier NULL,
    [UserIdentityId] uniqueidentifier NOT NULL,
    [CategoryId] uniqueidentifier NOT NULL,
    [CurrencyId] uniqueidentifier NOT NULL,
    [GroupId] uniqueidentifier NULL,
    [CratedBy] uniqueidentifier NULL,
    [CreatedTime] datetime2 NULL,
    [ModifiedBy] uniqueidentifier NULL,
    [ModifiedTime] datetime2 NULL,
    [DeletedBy] uniqueidentifier NULL,
    [DeletedTime] datetime2 NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_Transactions] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Transactions_AspNetUsers_UserIdentityId] FOREIGN KEY ([UserIdentityId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Transactions_Categories_CategoryId] FOREIGN KEY ([CategoryId]) REFERENCES [Categories] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Transactions_Currencies_CurrencyId] FOREIGN KEY ([CurrencyId]) REFERENCES [Currencies] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Transactions_DefaultTransactions_DefaultTransactionId] FOREIGN KEY ([DefaultTransactionId]) REFERENCES [DefaultTransactions] ([Id]),
    CONSTRAINT [FK_Transactions_Groups_GroupId] FOREIGN KEY ([GroupId]) REFERENCES [Groups] ([Id])
);
2023-12-13 18:57:36.656 +01:00 [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CratedBy', N'CreatedTime', N'DeletedBy', N'DeletedTime', N'GroupId', N'IsDeleted', N'ModifiedBy', N'ModifiedTime', N'Name', N'UserIdentityId') AND [object_id] = OBJECT_ID(N'[Categories]'))
    SET IDENTITY_INSERT [Categories] ON;
INSERT INTO [Categories] ([Id], [CratedBy], [CreatedTime], [DeletedBy], [DeletedTime], [GroupId], [IsDeleted], [ModifiedBy], [ModifiedTime], [Name], [UserIdentityId])
VALUES ('13932146-a884-4d87-8311-51eb097c3d68', NULL, NULL, NULL, NULL, NULL, CAST(0 AS bit), NULL, NULL, N'Rachunki', NULL);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CratedBy', N'CreatedTime', N'DeletedBy', N'DeletedTime', N'GroupId', N'IsDeleted', N'ModifiedBy', N'ModifiedTime', N'Name', N'UserIdentityId') AND [object_id] = OBJECT_ID(N'[Categories]'))
    SET IDENTITY_INSERT [Categories] OFF;
2023-12-13 18:57:36.672 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Ask', N'Bid', N'Code', N'CratedBy', N'CreatedTime', N'CurrencyName', N'DeletedBy', N'DeletedTime', N'IsDeleted', N'ModifiedBy', N'ModifiedTime', N'TradingDate') AND [object_id] = OBJECT_ID(N'[Currencies]'))
    SET IDENTITY_INSERT [Currencies] ON;
INSERT INTO [Currencies] ([Id], [Ask], [Bid], [Code], [CratedBy], [CreatedTime], [CurrencyName], [DeletedBy], [DeletedTime], [IsDeleted], [ModifiedBy], [ModifiedTime], [TradingDate])
VALUES ('1037796d-a4d5-4afb-a873-ae19025ae654', 4.055, 3.972, N'CHF', NULL, NULL, N'frank szwajcarski', NULL, NULL, CAST(0 AS bit), NULL, NULL, '2023-12-13T18:57:20.2888600+01:00'),
('331a4fd2-b4dc-43cd-8eed-6dd7f7192091', 4.055, 3.972, N'EUR', NULL, NULL, N'euro', NULL, NULL, CAST(0 AS bit), NULL, NULL, '2023-12-13T18:57:20.2888597+01:00'),
('401f4fe1-d949-4c73-8455-bf133c6461a5', 4.055, 3.972, N'GBP', NULL, NULL, N'funt szterling', NULL, NULL, CAST(0 AS bit), NULL, NULL, '2023-12-13T18:57:20.2888604+01:00'),
('d18771fe-5a2a-4723-a8df-534b43acb5ef', 1.0, 1.0, N'PLN', NULL, NULL, N'polski zÅ‚oty', NULL, NULL, CAST(0 AS bit), NULL, NULL, '2023-12-13T18:57:20.2888607+01:00'),
('f67f295b-a92a-4e4f-9f12-bc9165636373', 4.055, 3.972, N'USD', NULL, NULL, N'dolar amerykanski', NULL, NULL, CAST(0 AS bit), NULL, NULL, '2023-12-13T18:57:20.2888551+01:00');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Ask', N'Bid', N'Code', N'CratedBy', N'CreatedTime', N'CurrencyName', N'DeletedBy', N'DeletedTime', N'IsDeleted', N'ModifiedBy', N'ModifiedTime', N'TradingDate') AND [object_id] = OBJECT_ID(N'[Currencies]'))
    SET IDENTITY_INSERT [Currencies] OFF;
2023-12-13 18:57:36.677 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_AccountData_UserIdentityId] ON [AccountData] ([UserIdentityId]);
2023-12-13 18:57:36.680 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetRoleClaims_RoleId] ON [AspNetRoleClaims] ([RoleId]);
2023-12-13 18:57:36.684 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [RoleNameIndex] ON [AspNetRoles] ([NormalizedName]) WHERE [NormalizedName] IS NOT NULL;
2023-12-13 18:57:36.688 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserClaims_UserId] ON [AspNetUserClaims] ([UserId]);
2023-12-13 18:57:36.691 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserLogins_UserId] ON [AspNetUserLogins] ([UserId]);
2023-12-13 18:57:36.695 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_AspNetUserRoles_MemberId] ON [AspNetUserRoles] ([MemberId]) WHERE [MemberId] IS NOT NULL;
2023-12-13 18:57:36.698 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserRoles_RoleId] ON [AspNetUserRoles] ([RoleId]);
2023-12-13 18:57:36.701 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [EmailIndex] ON [AspNetUsers] ([NormalizedEmail]);
2023-12-13 18:57:36.704 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [UserNameIndex] ON [AspNetUsers] ([NormalizedUserName]) WHERE [NormalizedUserName] IS NOT NULL;
2023-12-13 18:57:36.717 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Categories_GroupId] ON [Categories] ([GroupId]);
2023-12-13 18:57:36.722 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Categories_UserIdentityId] ON [Categories] ([UserIdentityId]);
2023-12-13 18:57:36.729 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_DefaultTransactions_CategoryId] ON [DefaultTransactions] ([CategoryId]);
2023-12-13 18:57:36.732 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_DefaultTransactions_CurrencyId] ON [DefaultTransactions] ([CurrencyId]);
2023-12-13 18:57:36.736 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_DefaultTransactions_GroupId] ON [DefaultTransactions] ([GroupId]);
2023-12-13 18:57:36.739 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_DefaultTransactions_UserIdentityId] ON [DefaultTransactions] ([UserIdentityId]);
2023-12-13 18:57:36.743 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Members_GroupId] ON [Members] ([GroupId]);
2023-12-13 18:57:36.747 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Members_UserIdentityId] ON [Members] ([UserIdentityId]);
2023-12-13 18:57:36.750 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Notes_GroupId] ON [Notes] ([GroupId]);
2023-12-13 18:57:36.754 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Notes_UserIdentityId] ON [Notes] ([UserIdentityId]);
2023-12-13 18:57:36.757 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Notifications_GuidId] ON [Notifications] ([GuidId]);
2023-12-13 18:57:36.761 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Notifications_NotificationTypeId] ON [Notifications] ([NotificationTypeId]);
2023-12-13 18:57:36.765 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Notifications_UserIdentityId] ON [Notifications] ([UserIdentityId]);
2023-12-13 18:57:36.768 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_RolePermissions_PermissionId] ON [RolePermissions] ([PermissionId]);
2023-12-13 18:57:36.771 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Tokens_UserIdentityId] ON [Tokens] ([UserIdentityId]);
2023-12-13 18:57:36.777 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Transactions_CategoryId] ON [Transactions] ([CategoryId]);
2023-12-13 18:57:36.781 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Transactions_CurrencyId] ON [Transactions] ([CurrencyId]);
2023-12-13 18:57:36.785 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Transactions_DefaultTransactionId] ON [Transactions] ([DefaultTransactionId]);
2023-12-13 18:57:36.788 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Transactions_GroupId] ON [Transactions] ([GroupId]);
2023-12-13 18:57:36.792 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Transactions_UserIdentityId] ON [Transactions] ([UserIdentityId]);
2023-12-13 18:57:36.796 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20231213175720_Initial', N'7.0.12');
2023-12-13 18:59:49.354 +01:00 [INF] User profile is available. Using 'C:\Users\maste\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-12-13 18:59:49.614 +01:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2023-12-13 18:59:49.616 +01:00 [INF] Quartz Scheduler created
2023-12-13 18:59:49.619 +01:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2023-12-13 18:59:49.623 +01:00 [INF] RAMJobStore initialized.
2023-12-13 18:59:49.626 +01:00 [INF] Quartz Scheduler 3.7.0.0 - 'QuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2023-12-13 18:59:49.628 +01:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2023-12-13 18:59:49.629 +01:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2023-12-13 18:59:49.646 +01:00 [INF] Adding 1 jobs, 1 triggers.
2023-12-13 18:59:49.652 +01:00 [INF] Adding job: DEFAULT.NBP
2023-12-13 18:59:49.809 +01:00 [INF] Now listening on: http://localhost:5238
2023-12-13 18:59:49.810 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-13 18:59:49.820 +01:00 [INF] Hosting environment: Development
2023-12-13 18:59:49.821 +01:00 [INF] Content root path: C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api
2023-12-13 18:59:49.824 +01:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2023-12-13 18:59:50.098 +01:00 [INF] Start processing HTTP request GET http://api.nbp.pl/api/exchangerates/tables/c
2023-12-13 18:59:50.101 +01:00 [INF] Sending HTTP request GET http://api.nbp.pl/api/exchangerates/tables/c
2023-12-13 18:59:50.294 +01:00 [INF] Received HTTP response headers after 188.38ms - 200
2023-12-13 18:59:50.301 +01:00 [INF] End processing HTTP request after 208.1311ms - 200
2023-12-13 18:59:53.058 +01:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Ask], [c].[Bid], [c].[Code], [c].[CratedBy], [c].[CreatedTime], [c].[CurrencyName], [c].[DeletedBy], [c].[DeletedTime], [c].[IsDeleted], [c].[ModifiedBy], [c].[ModifiedTime], [c].[TradingDate]
FROM [Currencies] AS [c]
2023-12-13 18:59:53.892 +01:00 [ERR] Job DEFAULT.NBP threw an unhandled Exception: 
System.NullReferenceException: Object reference not set to an instance of an object.
   at WalletApp.Application.Common.Currency.UpdateCurrency.UpdateCurrencyCommandHandler.Handle(UpdateCurrencyCommand request, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Common\Currency\UpdateCurrency\UpdateCurrencyCommandHandler.cs:line 27
   at WalletApp.Application.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Behaviours\ValidationBehaviour.cs:line 22
   at WalletApp.Infractructure.Quartz.CallToNbpApiJob.Execute(IJobExecutionContext context) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Infrastructure\Quartz\CallToNbpApiJob.cs:line 20
   at Quartz.Core.JobRunShell.Run(CancellationToken cancellationToken)
2023-12-13 18:59:53.905 +01:00 [ERR] Job DEFAULT.NBP threw an exception.
Quartz.SchedulerException: Job threw an unhandled exception.
 ---> System.NullReferenceException: Object reference not set to an instance of an object.
   at WalletApp.Application.Common.Currency.UpdateCurrency.UpdateCurrencyCommandHandler.Handle(UpdateCurrencyCommand request, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Common\Currency\UpdateCurrency\UpdateCurrencyCommandHandler.cs:line 27
   at WalletApp.Application.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Behaviours\ValidationBehaviour.cs:line 22
   at WalletApp.Infractructure.Quartz.CallToNbpApiJob.Execute(IJobExecutionContext context) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Infrastructure\Quartz\CallToNbpApiJob.cs:line 20
   at Quartz.Core.JobRunShell.Run(CancellationToken cancellationToken)
   --- End of inner exception stack trace --- [See nested exception: System.NullReferenceException: Object reference not set to an instance of an object.
   at WalletApp.Application.Common.Currency.UpdateCurrency.UpdateCurrencyCommandHandler.Handle(UpdateCurrencyCommand request, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Common\Currency\UpdateCurrency\UpdateCurrencyCommandHandler.cs:line 27
   at WalletApp.Application.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Behaviours\ValidationBehaviour.cs:line 22
   at WalletApp.Infractructure.Quartz.CallToNbpApiJob.Execute(IJobExecutionContext context) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Infrastructure\Quartz\CallToNbpApiJob.cs:line 20
   at Quartz.Core.JobRunShell.Run(CancellationToken cancellationToken)]
2023-12-13 19:00:11.537 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/token/NngFX3VLUb9UM8Zq+Ku5aFNhkOc3y9m87hzMaws3EDxsyyIR2EADi5AUwwCvononvepHG5eTeFxnP2GIYrLOiQ== - -
2023-12-13 19:00:11.601 +01:00 [WRN] Failed to determine the https port for redirect.
2023-12-13 19:00:11.604 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:00:11.624 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/token/NngFX3VLUb9UM8Zq+Ku5aFNhkOc3y9m87hzMaws3EDxsyyIR2EADi5AUwwCvononvepHG5eTeFxnP2GIYrLOiQ== - - - 204 - - 89.8626ms
2023-12-13 19:00:11.628 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/token/NngFX3VLUb9UM8Zq+Ku5aFNhkOc3y9m87hzMaws3EDxsyyIR2EADi5AUwwCvononvepHG5eTeFxnP2GIYrLOiQ== - -
2023-12-13 19:00:11.638 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:00:11.904 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '12.12.2023 21:01:50', Current time: '13.12.2023 18:00:11'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-12-13 19:00:11.909 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '12.12.2023 21:01:50', Current time: '13.12.2023 18:00:11'.
2023-12-13 19:00:11.915 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.TokenController.GetTokens (WalletApp.Api)'
2023-12-13 19:00:11.936 +01:00 [INF] Route matched with {action = "GetTokens", controller = "Token"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult`1[WalletApp.Application.Common.Token.UpdateRefreshToken.RefreshTokenResponseDto]]] GetTokens(System.String, System.Threading.CancellationToken) on controller WalletApp.Controllers.TokenController (WalletApp.Api).
2023-12-13 19:00:12.154 +01:00 [INF] Executed DbCommand (32ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [t].[Id], [t].[IpAddress], [t].[RefreshToken], [t].[RefreshTokenExpiryTime], [t].[UserIdentityId]
FROM [Tokens] AS [t]
WHERE [t].[RefreshToken] = @__refreshToken_0
2023-12-13 19:00:12.167 +01:00 [INF] Executing NotFoundObjectResult, writing value of type 'WalletApp.Application.Common.ApiResult`1[[WalletApp.Application.Common.Token.UpdateRefreshToken.RefreshTokenResponseDto, WalletApp.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-13 19:00:12.192 +01:00 [INF] Executed action WalletApp.Controllers.TokenController.GetTokens (WalletApp.Api) in 250.5249ms
2023-12-13 19:00:12.194 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.TokenController.GetTokens (WalletApp.Api)'
2023-12-13 19:00:12.204 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/token/NngFX3VLUb9UM8Zq+Ku5aFNhkOc3y9m87hzMaws3EDxsyyIR2EADi5AUwwCvononvepHG5eTeFxnP2GIYrLOiQ== - - - 404 - application/json;+charset=utf-8 575.7274ms
2023-12-13 19:03:22.554 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/account/register - -
2023-12-13 19:03:22.556 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:03:22.557 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/account/register - - - 204 - - 2.5786ms
2023-12-13 19:03:22.560 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5238/api/account/register application/json 112
2023-12-13 19:03:22.564 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:03:22.566 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.AccountController.Register (WalletApp.Api)'
2023-12-13 19:03:22.569 +01:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult]] Register(WalletApp.Application.Common.Account.Register.RegisterDto, System.Threading.CancellationToken) on controller WalletApp.Controllers.AccountController (WalletApp.Api).
2023-12-13 19:03:22.633 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'WalletApp.Application.Common.ApiResult'.
2023-12-13 19:03:22.638 +01:00 [INF] Executed action WalletApp.Controllers.AccountController.Register (WalletApp.Api) in 67.2345ms
2023-12-13 19:03:22.639 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.AccountController.Register (WalletApp.Api)'
2023-12-13 19:03:22.640 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5238/api/account/register application/json 112 - 400 - application/json;+charset=utf-8 79.8209ms
2023-12-13 19:03:43.989 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/account/register - -
2023-12-13 19:03:43.995 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:03:43.996 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/account/register - - - 204 - - 7.2090ms
2023-12-13 19:03:43.997 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5238/api/account/register application/json 112
2023-12-13 19:03:44.001 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:03:44.003 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.AccountController.Register (WalletApp.Api)'
2023-12-13 19:03:44.005 +01:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult]] Register(WalletApp.Application.Common.Account.Register.RegisterDto, System.Threading.CancellationToken) on controller WalletApp.Controllers.AccountController (WalletApp.Api).
2023-12-13 19:03:44.013 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'WalletApp.Application.Common.ApiResult'.
2023-12-13 19:03:44.014 +01:00 [INF] Executed action WalletApp.Controllers.AccountController.Register (WalletApp.Api) in 8.1316ms
2023-12-13 19:03:44.015 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.AccountController.Register (WalletApp.Api)'
2023-12-13 19:03:44.017 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5238/api/account/register application/json 112 - 400 - application/json;+charset=utf-8 19.6125ms
2023-12-13 19:07:17.438 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/account/register - -
2023-12-13 19:07:17.445 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:07:17.446 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/account/register - - - 204 - - 7.7007ms
2023-12-13 19:07:17.449 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5238/api/account/register application/json 125
2023-12-13 19:07:17.455 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:07:17.456 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.AccountController.Register (WalletApp.Api)'
2023-12-13 19:07:17.457 +01:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult]] Register(WalletApp.Application.Common.Account.Register.RegisterDto, System.Threading.CancellationToken) on controller WalletApp.Controllers.AccountController (WalletApp.Api).
2023-12-13 19:07:17.538 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IconType], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2023-12-13 19:07:17.763 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IconType], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-12-13 19:07:17.905 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Int32), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Guid), @p17='?' (DbType = Guid), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Guid), @p20='?' (DbType = DateTime2), @p21='?' (DbType = Boolean), @p22='?' (DbType = Guid), @p23='?' (DbType = DateTime2), @p24='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [IconType], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
INSERT INTO [AccountData] ([Id], [CratedBy], [CreatedTime], [DeletedBy], [DeletedTime], [IsDeleted], [ModifiedBy], [ModifiedTime], [UserIdentityId])
OUTPUT INSERTED.[ActualMoneyChf], INSERTED.[ActualMoneyEur], INSERTED.[ActualMoneyGbp], INSERTED.[ActualMoneyPln], INSERTED.[ActualMoneyUsd]
VALUES (@p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24);
2023-12-13 19:07:18.367 +01:00 [INF] Executing OkObjectResult, writing value of type 'WalletApp.Application.Common.ApiResult'.
2023-12-13 19:07:18.368 +01:00 [INF] Executed action WalletApp.Controllers.AccountController.Register (WalletApp.Api) in 909.9794ms
2023-12-13 19:07:18.370 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.AccountController.Register (WalletApp.Api)'
2023-12-13 19:07:18.371 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5238/api/account/register application/json 125 - 200 - application/json;+charset=utf-8 922.1722ms
2023-12-13 19:07:28.937 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/account/confirmEmail?token=Q2ZESjhFaUR6aHY0MnJKTWp1VTh3VVlEbHorUmJBL0ptRlNxbmRqWFJjUFp6SGFMMVB4eEk5bFRFak93MlFvRTY2VExXSW8wUXlGbjRhNUNPZFZRYWlOb1RBckNMSDRLQnJsbXNjc25nNEtwTTl6M1VXSUkybG9TTmdYNS8yM1Ezang3d0NROXhHSGxvUHFTMHh3UXZlZFNzMXovWkdEQ3NBam5RdGtYU0pvTVY4bWhMdTh5d0grZ3I1d1BzbUlZZVdoUDIra3Y0akJ5Tk56SVpBa25NMnp4bFlhNXJGY2tETE9LZU5kdFAvekNiZkFmanBaTS92OFVBaFM5OVkwcldWckJvQT09&email=gryciuk1102%40gmail.com - -
2023-12-13 19:07:28.938 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:07:28.939 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.AccountController.EmailConfirmation (WalletApp.Api)'
2023-12-13 19:07:28.943 +01:00 [INF] Route matched with {action = "EmailConfirmation", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult]] EmailConfirmation(System.String, System.String, System.Threading.CancellationToken) on controller WalletApp.Controllers.AccountController (WalletApp.Api).
2023-12-13 19:07:28.963 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IconType], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2023-12-13 19:07:28.982 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IconType], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-12-13 19:07:29.014 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[@p15='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p16='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [IconType] = @p4, [LockoutEnabled] = @p5, [LockoutEnd] = @p6, [NormalizedEmail] = @p7, [NormalizedUserName] = @p8, [PasswordHash] = @p9, [PhoneNumber] = @p10, [PhoneNumberConfirmed] = @p11, [SecurityStamp] = @p12, [TwoFactorEnabled] = @p13, [UserName] = @p14
OUTPUT 1
WHERE [Id] = @p15 AND [ConcurrencyStamp] = @p16;
2023-12-13 19:07:29.018 +01:00 [INF] Executing OkObjectResult, writing value of type 'WalletApp.Application.Common.ApiResult'.
2023-12-13 19:07:29.019 +01:00 [INF] Executed action WalletApp.Controllers.AccountController.EmailConfirmation (WalletApp.Api) in 74.5806ms
2023-12-13 19:07:29.020 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.AccountController.EmailConfirmation (WalletApp.Api)'
2023-12-13 19:07:29.021 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/account/confirmEmail?token=Q2ZESjhFaUR6aHY0MnJKTWp1VTh3VVlEbHorUmJBL0ptRlNxbmRqWFJjUFp6SGFMMVB4eEk5bFRFak93MlFvRTY2VExXSW8wUXlGbjRhNUNPZFZRYWlOb1RBckNMSDRLQnJsbXNjc25nNEtwTTl6M1VXSUkybG9TTmdYNS8yM1Ezang3d0NROXhHSGxvUHFTMHh3UXZlZFNzMXovWkdEQ3NBam5RdGtYU0pvTVY4bWhMdTh5d0grZ3I1d1BzbUlZZVdoUDIra3Y0akJ5Tk56SVpBa25NMnp4bFlhNXJGY2tETE9LZU5kdFAvekNiZkFmanBaTS92OFVBaFM5OVkwcldWckJvQT09&email=gryciuk1102%40gmail.com - - - 200 - application/json;+charset=utf-8 84.5099ms
2023-12-13 19:07:46.585 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/account/authenticate - -
2023-12-13 19:07:46.586 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:07:46.587 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/account/authenticate - - - 204 - - 2.4101ms
2023-12-13 19:07:46.588 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5238/api/account/authenticate application/json 47
2023-12-13 19:07:46.589 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:07:46.590 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.AccountController.Authentication (WalletApp.Api)'
2023-12-13 19:07:46.593 +01:00 [INF] Route matched with {action = "Authentication", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult`1[WalletApp.Application.Account.Authenticate.AuthenticateResponseDto]]] Authentication(WalletApp.Application.Account.Authenticate.AuthenticateDto, System.Threading.CancellationToken) on controller WalletApp.Controllers.AccountController (WalletApp.Api).
2023-12-13 19:07:46.606 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IconType], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-12-13 19:07:46.726 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2023-12-13 19:07:46.755 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-12-13 19:07:46.770 +01:00 [INF] AuthenticationScheme: Identity.Application signed in.
2023-12-13 19:07:46.775 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IconType], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-12-13 19:07:46.780 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-12-13 19:07:46.809 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__ipAddress_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [t].[Id], [t].[IpAddress], [t].[RefreshToken], [t].[RefreshTokenExpiryTime], [t].[UserIdentityId]
FROM [Tokens] AS [t]
WHERE [t].[UserIdentityId] = @__userId_0 AND [t].[IpAddress] = @__ipAddress_1
2023-12-13 19:07:46.829 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IconType], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-12-13 19:07:46.851 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@p15='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p16='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 256), @p17='?' (DbType = Guid), @p18='?' (Size = 4000), @p19='?' (Size = 4000), @p20='?' (DbType = DateTime2), @p21='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [IconType] = @p4, [LockoutEnabled] = @p5, [LockoutEnd] = @p6, [NormalizedEmail] = @p7, [NormalizedUserName] = @p8, [PasswordHash] = @p9, [PhoneNumber] = @p10, [PhoneNumberConfirmed] = @p11, [SecurityStamp] = @p12, [TwoFactorEnabled] = @p13, [UserName] = @p14
OUTPUT 1
WHERE [Id] = @p15 AND [ConcurrencyStamp] = @p16;
INSERT INTO [Tokens] ([Id], [IpAddress], [RefreshToken], [RefreshTokenExpiryTime], [UserIdentityId])
VALUES (@p17, @p18, @p19, @p20, @p21);
2023-12-13 19:07:46.969 +01:00 [INF] Executed action WalletApp.Controllers.AccountController.Authentication (WalletApp.Api) in 375.1874ms
2023-12-13 19:07:46.971 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.AccountController.Authentication (WalletApp.Api)'
2023-12-13 19:07:47.054 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at WalletApp.Application.Common.Account.Authenticate.AuthenticateCommandHandler.Handle(AuthenticateCommand request, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Common\Account\Authenticate\AuthenticateCommandHandler.cs:line 65
   at WalletApp.Controllers.AccountController.Authentication(AuthenticateDto dto, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api\Controllers\AccountController.cs:line 36
   at lambda_method528(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at WalletApp.Middleware.ValidationErrorsMiddleware.InvokeAsync(HttpContext context) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api\Middleware\ValidationErrorsMiddleware.cs:line 19
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-12-13 19:07:47.067 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5238/api/account/authenticate application/json 47 - 500 - text/plain;+charset=utf-8 478.5346ms
2023-12-13 19:08:07.837 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/account/authenticate - -
2023-12-13 19:08:07.838 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:08:07.842 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/account/authenticate - - - 204 - - 4.1358ms
2023-12-13 19:08:07.844 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5238/api/account/authenticate application/json 47
2023-12-13 19:08:07.848 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:08:07.849 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.AccountController.Authentication (WalletApp.Api)'
2023-12-13 19:08:07.850 +01:00 [INF] Route matched with {action = "Authentication", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult`1[WalletApp.Application.Account.Authenticate.AuthenticateResponseDto]]] Authentication(WalletApp.Application.Account.Authenticate.AuthenticateDto, System.Threading.CancellationToken) on controller WalletApp.Controllers.AccountController (WalletApp.Api).
2023-12-13 19:08:07.858 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IconType], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-12-13 19:08:07.932 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2023-12-13 19:08:07.936 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-12-13 19:08:07.939 +01:00 [INF] AuthenticationScheme: Identity.Application signed in.
2023-12-13 19:08:07.942 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IconType], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-12-13 19:08:07.946 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-12-13 19:08:07.963 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__ipAddress_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [t].[Id], [t].[IpAddress], [t].[RefreshToken], [t].[RefreshTokenExpiryTime], [t].[UserIdentityId]
FROM [Tokens] AS [t]
WHERE [t].[UserIdentityId] = @__userId_0 AND [t].[IpAddress] = @__ipAddress_1
2023-12-13 19:08:07.967 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IconType], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-12-13 19:08:07.982 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@p15='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p16='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 256), @p19='?' (DbType = Guid), @p17='?' (Size = 4000), @p18='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [IconType] = @p4, [LockoutEnabled] = @p5, [LockoutEnd] = @p6, [NormalizedEmail] = @p7, [NormalizedUserName] = @p8, [PasswordHash] = @p9, [PhoneNumber] = @p10, [PhoneNumberConfirmed] = @p11, [SecurityStamp] = @p12, [TwoFactorEnabled] = @p13, [UserName] = @p14
OUTPUT 1
WHERE [Id] = @p15 AND [ConcurrencyStamp] = @p16;
UPDATE [Tokens] SET [RefreshToken] = @p17, [RefreshTokenExpiryTime] = @p18
OUTPUT 1
WHERE [Id] = @p19;
2023-12-13 19:08:07.991 +01:00 [INF] Executing OkObjectResult, writing value of type 'WalletApp.Application.Common.ApiResult`1[[WalletApp.Application.Account.Authenticate.AuthenticateResponseDto, WalletApp.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-13 19:08:07.993 +01:00 [INF] Executed action WalletApp.Controllers.AccountController.Authentication (WalletApp.Api) in 140.5658ms
2023-12-13 19:08:07.995 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.AccountController.Authentication (WalletApp.Api)'
2023-12-13 19:08:07.996 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5238/api/account/authenticate application/json 47 - 200 - application/json;+charset=utf-8 151.9767ms
2023-12-13 19:08:08.027 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/user/actualMoney - -
2023-12-13 19:08:08.028 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/transaction?type=0&pageSize=2&pageNumber=1 - -
2023-12-13 19:08:08.034 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:08:08.038 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:08:08.041 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/user/actualMoney - - - 204 - - 14.1002ms
2023-12-13 19:08:08.047 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/transaction?type=0&pageSize=2&pageNumber=1 - - - 204 - - 18.6393ms
2023-12-13 19:08:08.029 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/transaction/costChart?type=0 - -
2023-12-13 19:08:08.027 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/transaction/moneyChart?type=0 - -
2023-12-13 19:08:08.035 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/transaction/incomeChart?type=0 - -
2023-12-13 19:08:08.050 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/user/actualMoney - -
2023-12-13 19:08:08.051 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/transaction?type=0&pageSize=2&pageNumber=1 - -
2023-12-13 19:08:08.052 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:08:08.053 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:08:08.054 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:08:08.055 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:08:08.055 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:08:08.056 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/transaction/costChart?type=0 - - - 204 - - 26.9182ms
2023-12-13 19:08:08.057 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/transaction/moneyChart?type=0 - - - 204 - - 29.6977ms
2023-12-13 19:08:08.058 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/transaction/incomeChart?type=0 - - - 204 - - 23.2404ms
2023-12-13 19:08:08.060 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/transaction/costChart?type=0 - -
2023-12-13 19:08:08.061 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/transaction/incomeChart?type=0 - -
2023-12-13 19:08:08.062 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/transaction/moneyChart?type=0 - -
2023-12-13 19:08:08.063 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:08:08.063 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:08:08.064 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:08:08.070 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/transaction/incomeChart?type=0 - - - 404 0 - 8.7174ms
2023-12-13 19:08:08.070 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/transaction/moneyChart?type=0 - - - 404 0 - 8.0333ms
2023-12-13 19:08:08.070 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/transaction?type=0&pageSize=2&pageNumber=1 - - - 404 0 - 18.7801ms
2023-12-13 19:08:08.070 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/user/actualMoney - - - 404 0 - 19.6011ms
2023-12-13 19:08:08.070 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/transaction/costChart?type=0 - - - 404 0 - 9.5013ms
2023-12-13 19:08:39.296 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/defaultUserTransactions/userDefaultTransactions - -
2023-12-13 19:08:39.301 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:08:39.303 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/defaultUserTransactions/userDefaultTransactions - - - 204 - - 6.7212ms
2023-12-13 19:08:39.305 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/defaultUserTransactions/userDefaultTransactions - -
2023-12-13 19:08:39.310 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:08:39.312 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/defaultUserTransactions/userDefaultTransactions - - - 404 0 - 7.0435ms
2023-12-13 19:08:41.147 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/currency - -
2023-12-13 19:08:41.147 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/category/userCategories - -
2023-12-13 19:08:41.148 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:08:41.149 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:08:41.149 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/currency - - - 204 - - 2.3862ms
2023-12-13 19:08:41.150 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/category/userCategories - - - 204 - - 2.9440ms
2023-12-13 19:08:41.154 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/currency - -
2023-12-13 19:08:41.155 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/category/userCategories - -
2023-12-13 19:08:41.155 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:08:41.157 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:08:41.165 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.CurrencyController.GetCurrencies (WalletApp.Api)'
2023-12-13 19:08:41.165 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.CategoryController.GetUserCategories (WalletApp.Api)'
2023-12-13 19:08:41.169 +01:00 [INF] Route matched with {action = "GetCurrencies", controller = "Currency"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult`1[System.Collections.Generic.IEnumerable`1[WalletApp.Application.Common.Currency.GetCurrencies.GetCurrenciesQueryResponseDto]]]] GetCurrencies(System.Threading.CancellationToken) on controller WalletApp.Controllers.CurrencyController (WalletApp.Api).
2023-12-13 19:08:41.170 +01:00 [INF] Route matched with {action = "GetUserCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult`1[System.Collections.Generic.IEnumerable`1[WalletApp.Application.Common.Category.GetUserCategories.GetUserCategoriesResponseDto]]]] GetUserCategories(System.Threading.CancellationToken) on controller WalletApp.Controllers.CategoryController (WalletApp.Api).
2023-12-13 19:08:41.187 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Ask], [c].[Bid], [c].[Code], [c].[CratedBy], [c].[CreatedTime], [c].[CurrencyName], [c].[DeletedBy], [c].[DeletedTime], [c].[IsDeleted], [c].[ModifiedBy], [c].[ModifiedTime], [c].[TradingDate]
FROM [Currencies] AS [c]
2023-12-13 19:08:41.192 +01:00 [INF] Executing OkObjectResult, writing value of type 'WalletApp.Application.Common.ApiResult`1[[System.Collections.Generic.IEnumerable`1[[WalletApp.Application.Common.Currency.GetCurrencies.GetCurrenciesQueryResponseDto, WalletApp.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-12-13 19:08:41.208 +01:00 [INF] Executed action WalletApp.Controllers.CurrencyController.GetCurrencies (WalletApp.Api) in 35.3196ms
2023-12-13 19:08:41.210 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.CurrencyController.GetCurrencies (WalletApp.Api)'
2023-12-13 19:08:41.212 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/currency - - - 200 - application/json;+charset=utf-8 58.1622ms
2023-12-13 19:08:41.212 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CratedBy], [c].[CreatedTime], [c].[DeletedBy], [c].[DeletedTime], [c].[GroupId], [c].[IsDeleted], [c].[ModifiedBy], [c].[ModifiedTime], [c].[Name], [c].[UserIdentityId]
FROM [Categories] AS [c]
WHERE [c].[UserIdentityId] = @__id_0 AND [c].[IsDeleted] = CAST(0 AS bit)
2023-12-13 19:08:41.217 +01:00 [INF] Executing OkObjectResult, writing value of type 'WalletApp.Application.Common.ApiResult`1[[System.Collections.Generic.IEnumerable`1[[WalletApp.Application.Common.Category.GetUserCategories.GetUserCategoriesResponseDto, WalletApp.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-12-13 19:08:41.220 +01:00 [INF] Executed action WalletApp.Controllers.CategoryController.GetUserCategories (WalletApp.Api) in 45.0253ms
2023-12-13 19:08:41.221 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.CategoryController.GetUserCategories (WalletApp.Api)'
2023-12-13 19:08:41.223 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/category/userCategories - - - 200 - application/json;+charset=utf-8 67.9876ms
2023-12-13 19:08:47.132 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/user/actualMoney - -
2023-12-13 19:08:47.132 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/transaction?type=0&pageSize=2&pageNumber=1 - -
2023-12-13 19:08:47.132 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/transaction/moneyChart?type=0 - -
2023-12-13 19:08:47.133 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/transaction/incomeChart?type=0 - -
2023-12-13 19:08:47.142 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:08:47.133 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:08:47.145 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/transaction/moneyChart?type=0 - - - 204 - - 12.5302ms
2023-12-13 19:08:47.144 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:08:47.148 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/user/actualMoney - - - 204 - - 14.5631ms
2023-12-13 19:08:47.137 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:08:47.152 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/transaction/moneyChart?type=0 - -
2023-12-13 19:08:47.152 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/transaction/incomeChart?type=0 - - - 204 - - 19.5049ms
2023-12-13 19:08:47.153 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/user/actualMoney - -
2023-12-13 19:08:47.157 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/transaction?type=0&pageSize=2&pageNumber=1 - - - 204 - - 22.7813ms
2023-12-13 19:08:47.140 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/transaction/costChart?type=0 - -
2023-12-13 19:08:47.159 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:08:47.160 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/transaction/incomeChart?type=0 - -
2023-12-13 19:08:47.160 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:08:47.161 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/transaction?type=0&pageSize=2&pageNumber=1 - -
2023-12-13 19:08:47.163 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:08:47.164 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/transaction/moneyChart?type=0 - - - 404 0 - 12.2328ms
2023-12-13 19:08:47.165 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:08:47.166 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/user/actualMoney - - - 404 0 - 13.1007ms
2023-12-13 19:08:47.167 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:08:47.167 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/transaction/costChart?type=0 - - - 204 - - 27.7679ms
2023-12-13 19:08:47.169 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/transaction/incomeChart?type=0 - - - 404 0 - 9.2709ms
2023-12-13 19:08:47.171 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/transaction?type=0&pageSize=2&pageNumber=1 - - - 404 0 - 9.2850ms
2023-12-13 19:08:47.171 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/transaction/costChart?type=0 - -
2023-12-13 19:08:47.173 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:08:47.174 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/transaction/costChart?type=0 - - - 404 0 - 3.4116ms
2023-12-13 19:08:48.023 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/account/data - -
2023-12-13 19:08:48.024 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:08:48.024 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/account/data - - - 204 - - 1.8708ms
2023-12-13 19:08:48.025 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/account/data - -
2023-12-13 19:08:48.026 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:08:48.028 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.AccountController.GetAccountData (WalletApp.Api)'
2023-12-13 19:08:48.032 +01:00 [INF] Route matched with {action = "GetAccountData", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult`1[WalletApp.Application.Common.Account.GetAccountData.GetAccountDataResponseDto]]] GetAccountData(System.Threading.CancellationToken) on controller WalletApp.Controllers.AccountController (WalletApp.Api).
2023-12-13 19:08:48.082 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IconType], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Id], [a0].[ActualMoneyChf], [a0].[ActualMoneyEur], [a0].[ActualMoneyGbp], [a0].[ActualMoneyPln], [a0].[ActualMoneyUsd], [a0].[CratedBy], [a0].[CreatedTime], [a0].[DeletedBy], [a0].[DeletedTime], [a0].[IsDeleted], [a0].[ModifiedBy], [a0].[ModifiedTime], [a0].[UserIdentityId], [m].[Id], [m].[CratedBy], [m].[CreatedTime], [m].[DeletedBy], [m].[DeletedTime], [m].[GroupId], [m].[IsDeleted], [m].[ModifiedBy], [m].[ModifiedTime], [m].[UserIdentityId], [m].[UserRoleIdentityId]
FROM [AspNetUsers] AS [a]
LEFT JOIN [AccountData] AS [a0] ON [a].[Id] = [a0].[UserIdentityId]
LEFT JOIN [Members] AS [m] ON [a].[Id] = [m].[UserIdentityId]
WHERE [a].[Id] = @__userId_0
2023-12-13 19:08:48.088 +01:00 [INF] Executing OkObjectResult, writing value of type 'WalletApp.Application.Common.ApiResult`1[[WalletApp.Application.Common.Account.GetAccountData.GetAccountDataResponseDto, WalletApp.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-13 19:08:48.099 +01:00 [INF] Executed action WalletApp.Controllers.AccountController.GetAccountData (WalletApp.Api) in 65.9689ms
2023-12-13 19:08:48.101 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.AccountController.GetAccountData (WalletApp.Api)'
2023-12-13 19:08:48.102 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/account/data - - - 200 - application/json;+charset=utf-8 76.5565ms
2023-12-13 19:08:51.968 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/category/userCategories - -
2023-12-13 19:08:51.970 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:08:51.971 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/category/userCategories - - - 204 - - 2.8292ms
2023-12-13 19:08:51.972 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/category/userCategories - -
2023-12-13 19:08:51.973 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:08:51.975 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.CategoryController.GetUserCategories (WalletApp.Api)'
2023-12-13 19:08:51.977 +01:00 [INF] Route matched with {action = "GetUserCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult`1[System.Collections.Generic.IEnumerable`1[WalletApp.Application.Common.Category.GetUserCategories.GetUserCategoriesResponseDto]]]] GetUserCategories(System.Threading.CancellationToken) on controller WalletApp.Controllers.CategoryController (WalletApp.Api).
2023-12-13 19:08:51.983 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CratedBy], [c].[CreatedTime], [c].[DeletedBy], [c].[DeletedTime], [c].[GroupId], [c].[IsDeleted], [c].[ModifiedBy], [c].[ModifiedTime], [c].[Name], [c].[UserIdentityId]
FROM [Categories] AS [c]
WHERE [c].[UserIdentityId] = @__id_0 AND [c].[IsDeleted] = CAST(0 AS bit)
2023-12-13 19:08:51.986 +01:00 [INF] Executing OkObjectResult, writing value of type 'WalletApp.Application.Common.ApiResult`1[[System.Collections.Generic.IEnumerable`1[[WalletApp.Application.Common.Category.GetUserCategories.GetUserCategoriesResponseDto, WalletApp.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-12-13 19:08:51.988 +01:00 [INF] Executed action WalletApp.Controllers.CategoryController.GetUserCategories (WalletApp.Api) in 8.5906ms
2023-12-13 19:08:51.990 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.CategoryController.GetUserCategories (WalletApp.Api)'
2023-12-13 19:08:51.992 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/category/userCategories - - - 200 - application/json;+charset=utf-8 19.3902ms
2023-12-13 19:08:57.831 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/category/createUserCategory - -
2023-12-13 19:08:57.831 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/category/userCategories - -
2023-12-13 19:08:57.832 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:08:57.833 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:08:57.833 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/category/createUserCategory - - - 204 - - 2.3073ms
2023-12-13 19:08:57.834 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/category/userCategories - - - 204 - - 2.7007ms
2023-12-13 19:08:57.835 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5238/api/category/createUserCategory application/json 25
2023-12-13 19:08:57.836 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/category/userCategories - -
2023-12-13 19:08:57.836 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:08:57.837 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:08:57.839 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.CategoryController.CreateUserCategory (WalletApp.Api)'
2023-12-13 19:08:57.840 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.CategoryController.GetUserCategories (WalletApp.Api)'
2023-12-13 19:08:57.841 +01:00 [INF] Route matched with {action = "GetUserCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult`1[System.Collections.Generic.IEnumerable`1[WalletApp.Application.Common.Category.GetUserCategories.GetUserCategoriesResponseDto]]]] GetUserCategories(System.Threading.CancellationToken) on controller WalletApp.Controllers.CategoryController (WalletApp.Api).
2023-12-13 19:08:57.842 +01:00 [INF] Route matched with {action = "CreateUserCategory", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult]] CreateUserCategory(WalletApp.Application.Common.Category.CreateUserCategory.CreateUserCategoryDto, System.Threading.CancellationToken) on controller WalletApp.Controllers.CategoryController (WalletApp.Api).
2023-12-13 19:08:57.846 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CratedBy], [c].[CreatedTime], [c].[DeletedBy], [c].[DeletedTime], [c].[GroupId], [c].[IsDeleted], [c].[ModifiedBy], [c].[ModifiedTime], [c].[Name], [c].[UserIdentityId]
FROM [Categories] AS [c]
WHERE [c].[UserIdentityId] = @__id_0 AND [c].[IsDeleted] = CAST(0 AS bit)
2023-12-13 19:08:57.847 +01:00 [INF] Executing OkObjectResult, writing value of type 'WalletApp.Application.Common.ApiResult`1[[System.Collections.Generic.IEnumerable`1[[WalletApp.Application.Common.Category.GetUserCategories.GetUserCategoriesResponseDto, WalletApp.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-12-13 19:08:57.848 +01:00 [INF] Executed action WalletApp.Controllers.CategoryController.GetUserCategories (WalletApp.Api) in 6.2422ms
2023-12-13 19:08:57.850 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.CategoryController.GetUserCategories (WalletApp.Api)'
2023-12-13 19:08:57.851 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/category/userCategories - - - 200 - application/json;+charset=utf-8 14.8302ms
2023-12-13 19:08:57.860 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/category/userCategories - -
2023-12-13 19:08:57.862 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:08:57.864 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.CategoryController.GetUserCategories (WalletApp.Api)'
2023-12-13 19:08:57.865 +01:00 [INF] Route matched with {action = "GetUserCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult`1[System.Collections.Generic.IEnumerable`1[WalletApp.Application.Common.Category.GetUserCategories.GetUserCategoriesResponseDto]]]] GetUserCategories(System.Threading.CancellationToken) on controller WalletApp.Controllers.CategoryController (WalletApp.Api).
2023-12-13 19:08:57.873 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__name_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CratedBy], [c].[CreatedTime], [c].[DeletedBy], [c].[DeletedTime], [c].[GroupId], [c].[IsDeleted], [c].[ModifiedBy], [c].[ModifiedTime], [c].[Name], [c].[UserIdentityId]
FROM [Categories] AS [c]
WHERE [c].[UserIdentityId] = @__userId_0 AND [c].[Name] = @__name_1
2023-12-13 19:08:57.892 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CratedBy], [c].[CreatedTime], [c].[DeletedBy], [c].[DeletedTime], [c].[GroupId], [c].[IsDeleted], [c].[ModifiedBy], [c].[ModifiedTime], [c].[Name], [c].[UserIdentityId]
FROM [Categories] AS [c]
WHERE [c].[UserIdentityId] = @__id_0 AND [c].[IsDeleted] = CAST(0 AS bit)
2023-12-13 19:08:57.898 +01:00 [INF] Executing OkObjectResult, writing value of type 'WalletApp.Application.Common.ApiResult`1[[System.Collections.Generic.IEnumerable`1[[WalletApp.Application.Common.Category.GetUserCategories.GetUserCategoriesResponseDto, WalletApp.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-12-13 19:08:57.900 +01:00 [INF] Executed action WalletApp.Controllers.CategoryController.GetUserCategories (WalletApp.Api) in 33.201ms
2023-12-13 19:08:57.901 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.CategoryController.GetUserCategories (WalletApp.Api)'
2023-12-13 19:08:57.902 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/category/userCategories - - - 200 - application/json;+charset=utf-8 42.3825ms
2023-12-13 19:08:57.913 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Guid), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Guid), @p6='?' (DbType = Boolean), @p7='?' (DbType = Guid), @p8='?' (DbType = DateTime2), @p9='?' (Size = 50), @p10='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Categories] ([Id], [CratedBy], [CreatedTime], [DeletedBy], [DeletedTime], [GroupId], [IsDeleted], [ModifiedBy], [ModifiedTime], [Name], [UserIdentityId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
2023-12-13 19:08:57.915 +01:00 [INF] Executing OkObjectResult, writing value of type 'WalletApp.Application.Common.ApiResult'.
2023-12-13 19:08:57.916 +01:00 [INF] Executed action WalletApp.Controllers.CategoryController.CreateUserCategory (WalletApp.Api) in 71.8853ms
2023-12-13 19:08:57.917 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.CategoryController.CreateUserCategory (WalletApp.Api)'
2023-12-13 19:08:57.918 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5238/api/category/createUserCategory application/json 25 - 200 - application/json;+charset=utf-8 83.4684ms
2023-12-13 19:09:00.790 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/category/userCategories - -
2023-12-13 19:09:00.792 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:09:00.793 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.CategoryController.GetUserCategories (WalletApp.Api)'
2023-12-13 19:09:00.795 +01:00 [INF] Route matched with {action = "GetUserCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult`1[System.Collections.Generic.IEnumerable`1[WalletApp.Application.Common.Category.GetUserCategories.GetUserCategoriesResponseDto]]]] GetUserCategories(System.Threading.CancellationToken) on controller WalletApp.Controllers.CategoryController (WalletApp.Api).
2023-12-13 19:09:00.803 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CratedBy], [c].[CreatedTime], [c].[DeletedBy], [c].[DeletedTime], [c].[GroupId], [c].[IsDeleted], [c].[ModifiedBy], [c].[ModifiedTime], [c].[Name], [c].[UserIdentityId]
FROM [Categories] AS [c]
WHERE [c].[UserIdentityId] = @__id_0 AND [c].[IsDeleted] = CAST(0 AS bit)
2023-12-13 19:09:00.806 +01:00 [INF] Executing OkObjectResult, writing value of type 'WalletApp.Application.Common.ApiResult`1[[System.Collections.Generic.IEnumerable`1[[WalletApp.Application.Common.Category.GetUserCategories.GetUserCategoriesResponseDto, WalletApp.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-12-13 19:09:00.808 +01:00 [INF] Executed action WalletApp.Controllers.CategoryController.GetUserCategories (WalletApp.Api) in 11.0019ms
2023-12-13 19:09:00.809 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.CategoryController.GetUserCategories (WalletApp.Api)'
2023-12-13 19:09:00.810 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/category/userCategories - - - 200 - application/json;+charset=utf-8 19.3574ms
2023-12-13 19:09:03.591 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/user/actualMoney - -
2023-12-13 19:09:03.592 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:09:03.592 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/transaction?type=0&pageSize=2&pageNumber=1 - -
2023-12-13 19:09:03.593 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/transaction/moneyChart?type=0 - -
2023-12-13 19:09:03.593 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/user/actualMoney - - - 204 - - 1.9344ms
2023-12-13 19:09:03.594 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/transaction/incomeChart?type=0 - -
2023-12-13 19:09:03.594 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:09:03.594 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/user/actualMoney - -
2023-12-13 19:09:03.594 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:09:03.595 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/transaction/costChart?type=0 - -
2023-12-13 19:09:03.596 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:09:03.598 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/transaction?type=0&pageSize=2&pageNumber=1 - - - 204 - - 6.0353ms
2023-12-13 19:09:03.598 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:09:03.600 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/transaction/moneyChart?type=0 - - - 204 - - 6.9460ms
2023-12-13 19:09:03.601 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:09:03.602 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/transaction/incomeChart?type=0 - - - 204 - - 8.0103ms
2023-12-13 19:09:03.602 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/transaction?type=0&pageSize=2&pageNumber=1 - -
2023-12-13 19:09:03.604 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/user/actualMoney - - - 404 0 - 9.3557ms
2023-12-13 19:09:03.604 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/transaction/moneyChart?type=0 - -
2023-12-13 19:09:03.606 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/transaction/costChart?type=0 - - - 204 - - 10.5709ms
2023-12-13 19:09:03.606 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/transaction/incomeChart?type=0 - -
2023-12-13 19:09:03.607 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:09:03.608 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:09:03.609 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/transaction/costChart?type=0 - -
2023-12-13 19:09:03.610 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:09:03.612 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/transaction?type=0&pageSize=2&pageNumber=1 - - - 404 0 - 9.3764ms
2023-12-13 19:09:03.613 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/transaction/moneyChart?type=0 - - - 404 0 - 8.7771ms
2023-12-13 19:09:03.613 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:09:03.615 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/transaction/incomeChart?type=0 - - - 404 0 - 8.8289ms
2023-12-13 19:09:03.619 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/transaction/costChart?type=0 - - - 404 0 - 9.7329ms
2023-12-13 19:09:04.623 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/defaultUserTransactions/userDefaultTransactions - -
2023-12-13 19:09:04.624 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:09:04.625 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/defaultUserTransactions/userDefaultTransactions - - - 204 - - 1.9722ms
2023-12-13 19:09:04.626 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/defaultUserTransactions/userDefaultTransactions - -
2023-12-13 19:09:04.627 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:09:04.628 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/defaultUserTransactions/userDefaultTransactions - - - 404 0 - 2.0115ms
2023-12-13 19:09:05.758 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/currency - -
2023-12-13 19:09:05.758 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/category/userCategories - -
2023-12-13 19:09:05.759 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:09:05.759 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:09:05.760 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/currency - - - 204 - - 2.2998ms
2023-12-13 19:09:05.761 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/category/userCategories - - - 204 - - 2.8756ms
2023-12-13 19:09:05.762 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/currency - -
2023-12-13 19:09:05.762 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/category/userCategories - -
2023-12-13 19:09:05.764 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:09:05.765 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:09:05.767 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.CurrencyController.GetCurrencies (WalletApp.Api)'
2023-12-13 19:09:05.767 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.CategoryController.GetUserCategories (WalletApp.Api)'
2023-12-13 19:09:05.768 +01:00 [INF] Route matched with {action = "GetCurrencies", controller = "Currency"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult`1[System.Collections.Generic.IEnumerable`1[WalletApp.Application.Common.Currency.GetCurrencies.GetCurrenciesQueryResponseDto]]]] GetCurrencies(System.Threading.CancellationToken) on controller WalletApp.Controllers.CurrencyController (WalletApp.Api).
2023-12-13 19:09:05.770 +01:00 [INF] Route matched with {action = "GetUserCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult`1[System.Collections.Generic.IEnumerable`1[WalletApp.Application.Common.Category.GetUserCategories.GetUserCategoriesResponseDto]]]] GetUserCategories(System.Threading.CancellationToken) on controller WalletApp.Controllers.CategoryController (WalletApp.Api).
2023-12-13 19:09:05.775 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Ask], [c].[Bid], [c].[Code], [c].[CratedBy], [c].[CreatedTime], [c].[CurrencyName], [c].[DeletedBy], [c].[DeletedTime], [c].[IsDeleted], [c].[ModifiedBy], [c].[ModifiedTime], [c].[TradingDate]
FROM [Currencies] AS [c]
2023-12-13 19:09:05.777 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CratedBy], [c].[CreatedTime], [c].[DeletedBy], [c].[DeletedTime], [c].[GroupId], [c].[IsDeleted], [c].[ModifiedBy], [c].[ModifiedTime], [c].[Name], [c].[UserIdentityId]
FROM [Categories] AS [c]
WHERE [c].[UserIdentityId] = @__id_0 AND [c].[IsDeleted] = CAST(0 AS bit)
2023-12-13 19:09:05.778 +01:00 [INF] Executing OkObjectResult, writing value of type 'WalletApp.Application.Common.ApiResult`1[[System.Collections.Generic.IEnumerable`1[[WalletApp.Application.Common.Currency.GetCurrencies.GetCurrenciesQueryResponseDto, WalletApp.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-12-13 19:09:05.780 +01:00 [INF] Executing OkObjectResult, writing value of type 'WalletApp.Application.Common.ApiResult`1[[System.Collections.Generic.IEnumerable`1[[WalletApp.Application.Common.Category.GetUserCategories.GetUserCategoriesResponseDto, WalletApp.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-12-13 19:09:05.781 +01:00 [INF] Executed action WalletApp.Controllers.CurrencyController.GetCurrencies (WalletApp.Api) in 9.5777ms
2023-12-13 19:09:05.782 +01:00 [INF] Executed action WalletApp.Controllers.CategoryController.GetUserCategories (WalletApp.Api) in 9.8668ms
2023-12-13 19:09:05.784 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.CurrencyController.GetCurrencies (WalletApp.Api)'
2023-12-13 19:09:05.785 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.CategoryController.GetUserCategories (WalletApp.Api)'
2023-12-13 19:09:05.786 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/currency - - - 200 - application/json;+charset=utf-8 24.2001ms
2023-12-13 19:09:05.787 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/category/userCategories - - - 200 - application/json;+charset=utf-8 24.8675ms
2023-12-13 19:09:23.514 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/transactionUser/add - -
2023-12-13 19:09:23.516 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:09:23.517 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/transactionUser/add - - - 204 - - 2.3978ms
2023-12-13 19:09:23.518 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5238/api/transactionUser/add application/json 257
2023-12-13 19:09:23.520 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:09:23.521 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.TransactionUserController.AddUserTransaction (WalletApp.Api)'
2023-12-13 19:09:23.526 +01:00 [INF] Route matched with {action = "AddUserTransaction", controller = "TransactionUser"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult]] AddUserTransaction(WalletApp.Application.Common.Transaction.AddUserTransaction.AddUserTransactionCommandDto, System.Threading.CancellationToken) on controller WalletApp.Controllers.TransactionUserController (WalletApp.Api).
2023-12-13 19:09:27.136 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Ask], [c].[Bid], [c].[Code], [c].[CratedBy], [c].[CreatedTime], [c].[CurrencyName], [c].[DeletedBy], [c].[DeletedTime], [c].[IsDeleted], [c].[ModifiedBy], [c].[ModifiedTime], [c].[TradingDate]
FROM [Currencies] AS [c]
WHERE [c].[Id] = @__id_0
2023-12-13 19:09:27.146 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ActualMoneyChf], [a].[ActualMoneyEur], [a].[ActualMoneyGbp], [a].[ActualMoneyPln], [a].[ActualMoneyUsd], [a].[CratedBy], [a].[CreatedTime], [a].[DeletedBy], [a].[DeletedTime], [a].[IsDeleted], [a].[ModifiedBy], [a].[ModifiedTime], [a].[UserIdentityId]
FROM [AccountData] AS [a]
WHERE [a].[UserIdentityId] = @__userId_0
2023-12-13 19:09:27.232 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[@p3='?' (DbType = Guid), @p0='?' (Precision = 15) (Scale = 2) (DbType = Decimal), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime2), @p4='?' (DbType = Guid), @p5='?' (Size = 7), @p6='?' (DbType = Guid), @p7='?' (DbType = Guid), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Guid), @p10='?' (DbType = Guid), @p11='?' (DbType = DateTime2), @p12='?' (Size = 500), @p13='?' (DbType = Guid), @p14='?' (DbType = Boolean), @p15='?' (DbType = Guid), @p16='?' (DbType = DateTime2), @p17='?' (Precision = 15) (Scale = 2) (DbType = Decimal), @p18='?' (Size = 7), @p19='?' (Size = 50), @p20='?' (DbType = Guid), @p21='?' (DbType = Guid), @p22='?' (DbType = Guid), @p23='?' (DbType = Guid), @p24='?' (DbType = DateTime2), @p25='?' (DbType = Guid), @p26='?' (DbType = DateTime2), @p27='?' (DbType = Guid), @p28='?' (DbType = Guid), @p29='?' (DbType = DateTime2), @p30='?' (Size = 500), @p31='?' (DbType = Guid), @p32='?' (DbType = Boolean), @p33='?' (DbType = Boolean), @p34='?' (DbType = Guid), @p35='?' (DbType = DateTime2), @p36='?' (Precision = 15) (Scale = 2) (DbType = Decimal), @p37='?' (Size = 50), @p38='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AccountData] SET [ActualMoneyPln] = @p0, [ModifiedBy] = @p1, [ModifiedTime] = @p2
OUTPUT 1
WHERE [Id] = @p3;
INSERT INTO [DefaultTransactions] ([Id], [BackgroundColor], [CategoryId], [CratedBy], [CreatedTime], [CurrencyId], [DeletedBy], [DeletedTime], [Description], [GroupId], [IsDeleted], [ModifiedBy], [ModifiedTime], [Price], [TextColor], [Title], [UserIdentityId])
VALUES (@p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20);
INSERT INTO [Transactions] ([Id], [CategoryId], [CratedBy], [CreatedTime], [CurrencyId], [Date], [DefaultTransactionId], [DeletedBy], [DeletedTime], [Description], [GroupId], [IsDefault], [IsDeleted], [ModifiedBy], [ModifiedTime], [Price], [Title], [UserIdentityId])
VALUES (@p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38);
2023-12-13 19:09:27.239 +01:00 [INF] Executing OkObjectResult, writing value of type 'WalletApp.Application.Common.ApiResult'.
2023-12-13 19:09:27.240 +01:00 [INF] Executed action WalletApp.Controllers.TransactionUserController.AddUserTransaction (WalletApp.Api) in 3712.9295ms
2023-12-13 19:09:27.241 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.TransactionUserController.AddUserTransaction (WalletApp.Api)'
2023-12-13 19:09:27.242 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5238/api/transactionUser/add application/json 257 - 200 - application/json;+charset=utf-8 3724.4649ms
2023-12-13 19:09:34.178 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/user/actualMoney - -
2023-12-13 19:09:34.179 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/transaction/moneyChart?type=0 - -
2023-12-13 19:09:34.182 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:09:34.185 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:09:34.189 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/user/actualMoney - - - 204 - - 10.8113ms
2023-12-13 19:09:34.192 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/transaction/moneyChart?type=0 - - - 204 - - 13.1472ms
2023-12-13 19:09:34.178 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/transaction?type=0&pageSize=2&pageNumber=1 - -
2023-12-13 19:09:34.185 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/transaction/incomeChart?type=0 - -
2023-12-13 19:09:34.189 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/transaction/costChart?type=0 - -
2023-12-13 19:09:34.198 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/transaction/moneyChart?type=0 - -
2023-12-13 19:09:34.200 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/user/actualMoney - -
2023-12-13 19:09:34.200 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:09:34.201 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:09:34.202 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:09:34.203 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:09:34.203 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:09:34.204 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/transaction?type=0&pageSize=2&pageNumber=1 - - - 204 - - 25.3142ms
2023-12-13 19:09:34.204 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/transaction/incomeChart?type=0 - - - 204 - - 19.6092ms
2023-12-13 19:09:34.205 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/transaction/costChart?type=0 - - - 204 - - 15.8206ms
2023-12-13 19:09:34.211 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/transaction/moneyChart?type=0 - - - 404 0 - 12.7101ms
2023-12-13 19:09:34.212 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/user/actualMoney - - - 404 0 - 11.8470ms
2023-12-13 19:09:34.212 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/transaction/incomeChart?type=0 - -
2023-12-13 19:09:34.213 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/transaction?type=0&pageSize=2&pageNumber=1 - -
2023-12-13 19:09:34.214 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/transaction/costChart?type=0 - -
2023-12-13 19:09:34.217 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:09:34.218 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:09:34.219 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:09:34.220 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/transaction/incomeChart?type=0 - - - 404 0 - 8.0315ms
2023-12-13 19:09:34.221 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/transaction?type=0&pageSize=2&pageNumber=1 - - - 404 0 - 8.1512ms
2023-12-13 19:09:34.222 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/transaction/costChart?type=0 - - - 404 0 - 8.2321ms
2023-12-13 19:09:35.965 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/defaultUserTransactions/userDefaultTransactions - -
2023-12-13 19:09:35.966 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:09:35.967 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/defaultUserTransactions/userDefaultTransactions - - - 204 - - 1.9803ms
2023-12-13 19:09:35.968 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/defaultUserTransactions/userDefaultTransactions - -
2023-12-13 19:09:35.969 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:09:35.970 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/defaultUserTransactions/userDefaultTransactions - - - 404 0 - 2.4076ms
2023-12-13 19:11:16.641 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/token/KMXS6+1NEWdZIcJ1wJAwKYCP4QTukJCxQzUXNLMjVRPB8emupirsnKstw2oEfzeCcGTa0Qze969kKR++H7vC5w== - -
2023-12-13 19:11:16.642 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:11:16.644 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/token/KMXS6+1NEWdZIcJ1wJAwKYCP4QTukJCxQzUXNLMjVRPB8emupirsnKstw2oEfzeCcGTa0Qze969kKR++H7vC5w== - - - 204 - - 2.8455ms
2023-12-13 19:11:16.645 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/token/KMXS6+1NEWdZIcJ1wJAwKYCP4QTukJCxQzUXNLMjVRPB8emupirsnKstw2oEfzeCcGTa0Qze969kKR++H7vC5w== - -
2023-12-13 19:11:16.646 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:11:16.648 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.TokenController.GetTokens (WalletApp.Api)'
2023-12-13 19:11:16.651 +01:00 [INF] Route matched with {action = "GetTokens", controller = "Token"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult`1[WalletApp.Application.Common.Token.UpdateRefreshToken.RefreshTokenResponseDto]]] GetTokens(System.String, System.Threading.CancellationToken) on controller WalletApp.Controllers.TokenController (WalletApp.Api).
2023-12-13 19:11:16.660 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [t].[Id], [t].[IpAddress], [t].[RefreshToken], [t].[RefreshTokenExpiryTime], [t].[UserIdentityId]
FROM [Tokens] AS [t]
WHERE [t].[RefreshToken] = @__refreshToken_0
2023-12-13 19:11:16.677 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IconType], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__get_Item_0
2023-12-13 19:11:16.691 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Tokens] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2023-12-13 19:11:16.700 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-12-13 19:11:16.705 +01:00 [INF] Executing OkObjectResult, writing value of type 'WalletApp.Application.Common.ApiResult`1[[WalletApp.Application.Common.Token.UpdateRefreshToken.RefreshTokenResponseDto, WalletApp.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-13 19:11:16.707 +01:00 [INF] Executed action WalletApp.Controllers.TokenController.GetTokens (WalletApp.Api) in 51.4535ms
2023-12-13 19:11:16.708 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.TokenController.GetTokens (WalletApp.Api)'
2023-12-13 19:11:16.709 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/token/KMXS6+1NEWdZIcJ1wJAwKYCP4QTukJCxQzUXNLMjVRPB8emupirsnKstw2oEfzeCcGTa0Qze969kKR++H7vC5w== - - - 200 - application/json;+charset=utf-8 64.5070ms
2023-12-13 19:11:16.740 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/defaultUserTransactions/userDefaultTransactions - -
2023-12-13 19:11:16.741 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:11:16.742 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/defaultUserTransactions/userDefaultTransactions - - - 204 - - 1.6950ms
2023-12-13 19:11:16.743 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/defaultUserTransactions/userDefaultTransactions - -
2023-12-13 19:11:16.761 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:11:16.762 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/defaultUserTransactions/userDefaultTransactions - - - 404 0 - 19.0272ms
2023-12-13 19:11:39.767 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/defaultUserTransactions/userDefaultTransactions - -
2023-12-13 19:11:39.768 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:11:39.771 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/defaultUserTransactions/userDefaultTransactions - - - 204 - - 4.5026ms
2023-12-13 19:11:39.775 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/defaultUserTransactions/userDefaultTransactions - -
2023-12-13 19:11:39.786 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:11:39.788 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/defaultUserTransactions/userDefaultTransactions - - - 404 0 - 13.5262ms
2023-12-13 19:13:18.808 +01:00 [INF] User profile is available. Using 'C:\Users\maste\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-12-13 19:13:18.962 +01:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2023-12-13 19:13:18.963 +01:00 [INF] Quartz Scheduler created
2023-12-13 19:13:18.964 +01:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2023-12-13 19:13:18.965 +01:00 [INF] RAMJobStore initialized.
2023-12-13 19:13:18.967 +01:00 [INF] Quartz Scheduler 3.7.0.0 - 'QuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2023-12-13 19:13:18.968 +01:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2023-12-13 19:13:18.969 +01:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2023-12-13 19:13:18.978 +01:00 [INF] Adding 1 jobs, 1 triggers.
2023-12-13 19:13:18.982 +01:00 [INF] Adding job: DEFAULT.NBP
2023-12-13 19:13:19.076 +01:00 [INF] Now listening on: http://localhost:5238
2023-12-13 19:13:19.077 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-13 19:13:19.082 +01:00 [INF] Hosting environment: Development
2023-12-13 19:13:19.083 +01:00 [INF] Content root path: C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api
2023-12-13 19:13:19.085 +01:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2023-12-13 19:13:19.266 +01:00 [INF] Start processing HTTP request GET http://api.nbp.pl/api/exchangerates/tables/c
2023-12-13 19:13:19.269 +01:00 [INF] Sending HTTP request GET http://api.nbp.pl/api/exchangerates/tables/c
2023-12-13 19:13:19.403 +01:00 [INF] Received HTTP response headers after 130.6943ms - 200
2023-12-13 19:13:19.410 +01:00 [INF] End processing HTTP request after 148.1039ms - 200
2023-12-13 19:13:20.163 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/token/53RYbhei0+sRxQHAHrc7I7XJiz6FJ9eY+rQzodDkDKKLA0olZ3WY9TVojG276OXVCoU3YRPH2m6PoorRj+wTA== - -
2023-12-13 19:13:20.217 +01:00 [WRN] Failed to determine the https port for redirect.
2023-12-13 19:13:20.219 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:13:20.235 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/token/53RYbhei0+sRxQHAHrc7I7XJiz6FJ9eY+rQzodDkDKKLA0olZ3WY9TVojG276OXVCoU3YRPH2m6PoorRj+wTA== - - - 204 - - 74.8783ms
2023-12-13 19:13:20.244 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/token/53RYbhei0+sRxQHAHrc7I7XJiz6FJ9eY+rQzodDkDKKLA0olZ3WY9TVojG276OXVCoU3YRPH2m6PoorRj+wTA== - -
2023-12-13 19:13:20.252 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:13:20.531 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.TokenController.GetTokens (WalletApp.Api)'
2023-12-13 19:13:20.557 +01:00 [INF] Route matched with {action = "GetTokens", controller = "Token"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult`1[WalletApp.Application.Common.Token.UpdateRefreshToken.RefreshTokenResponseDto]]] GetTokens(System.String, System.Threading.CancellationToken) on controller WalletApp.Controllers.TokenController (WalletApp.Api).
2023-12-13 19:13:20.976 +01:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Ask], [c].[Bid], [c].[Code], [c].[CratedBy], [c].[CreatedTime], [c].[CurrencyName], [c].[DeletedBy], [c].[DeletedTime], [c].[IsDeleted], [c].[ModifiedBy], [c].[ModifiedTime], [c].[TradingDate]
FROM [Currencies] AS [c]
2023-12-13 19:13:20.976 +01:00 [INF] Executed DbCommand (28ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [t].[Id], [t].[IpAddress], [t].[RefreshToken], [t].[RefreshTokenExpiryTime], [t].[UserIdentityId]
FROM [Tokens] AS [t]
WHERE [t].[RefreshToken] = @__refreshToken_0
2023-12-13 19:13:21.399 +01:00 [ERR] Job DEFAULT.NBP threw an unhandled Exception: 
System.NullReferenceException: Object reference not set to an instance of an object.
   at WalletApp.Application.Common.Currency.UpdateCurrency.UpdateCurrencyCommandHandler.Handle(UpdateCurrencyCommand request, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Common\Currency\UpdateCurrency\UpdateCurrencyCommandHandler.cs:line 27
   at WalletApp.Application.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Behaviours\ValidationBehaviour.cs:line 22
   at WalletApp.Infractructure.Quartz.CallToNbpApiJob.Execute(IJobExecutionContext context) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Infrastructure\Quartz\CallToNbpApiJob.cs:line 20
   at Quartz.Core.JobRunShell.Run(CancellationToken cancellationToken)
2023-12-13 19:13:21.409 +01:00 [ERR] Job DEFAULT.NBP threw an exception.
Quartz.SchedulerException: Job threw an unhandled exception.
 ---> System.NullReferenceException: Object reference not set to an instance of an object.
   at WalletApp.Application.Common.Currency.UpdateCurrency.UpdateCurrencyCommandHandler.Handle(UpdateCurrencyCommand request, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Common\Currency\UpdateCurrency\UpdateCurrencyCommandHandler.cs:line 27
   at WalletApp.Application.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Behaviours\ValidationBehaviour.cs:line 22
   at WalletApp.Infractructure.Quartz.CallToNbpApiJob.Execute(IJobExecutionContext context) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Infrastructure\Quartz\CallToNbpApiJob.cs:line 20
   at Quartz.Core.JobRunShell.Run(CancellationToken cancellationToken)
   --- End of inner exception stack trace --- [See nested exception: System.NullReferenceException: Object reference not set to an instance of an object.
   at WalletApp.Application.Common.Currency.UpdateCurrency.UpdateCurrencyCommandHandler.Handle(UpdateCurrencyCommand request, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Common\Currency\UpdateCurrency\UpdateCurrencyCommandHandler.cs:line 27
   at WalletApp.Application.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Behaviours\ValidationBehaviour.cs:line 22
   at WalletApp.Infractructure.Quartz.CallToNbpApiJob.Execute(IJobExecutionContext context) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Infrastructure\Quartz\CallToNbpApiJob.cs:line 20
   at Quartz.Core.JobRunShell.Run(CancellationToken cancellationToken)]
2023-12-13 19:13:21.430 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IconType], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__get_Item_0
2023-12-13 19:13:21.561 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Tokens] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2023-12-13 19:13:21.599 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-12-13 19:13:21.617 +01:00 [INF] Executing OkObjectResult, writing value of type 'WalletApp.Application.Common.ApiResult`1[[WalletApp.Application.Common.Token.UpdateRefreshToken.RefreshTokenResponseDto, WalletApp.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-13 19:13:21.637 +01:00 [INF] Executed action WalletApp.Controllers.TokenController.GetTokens (WalletApp.Api) in 1074.9913ms
2023-12-13 19:13:21.640 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.TokenController.GetTokens (WalletApp.Api)'
2023-12-13 19:13:21.648 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/token/53RYbhei0+sRxQHAHrc7I7XJiz6FJ9eY+rQzodDkDKKLA0olZ3WY9TVojG276OXVCoU3YRPH2m6PoorRj+wTA== - - - 200 - application/json;+charset=utf-8 1403.7620ms
2023-12-13 19:13:21.679 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/defaultUserTransactions/userDefaultTransactions - -
2023-12-13 19:13:21.680 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:13:21.682 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/defaultUserTransactions/userDefaultTransactions - - - 204 - - 2.9732ms
2023-12-13 19:13:21.683 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/defaultUserTransactions/userDefaultTransactions - -
2023-12-13 19:13:21.684 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:13:21.688 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/defaultUserTransactions/userDefaultTransactions - - - 404 0 - 4.5486ms
2023-12-13 19:13:23.026 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/defaultUserTransactions/userDefaultTransactions - -
2023-12-13 19:13:23.027 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:13:23.030 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/defaultUserTransactions/userDefaultTransactions - - - 404 0 - 4.9575ms
2023-12-13 19:13:45.307 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/defaultUserTransactions/userDefaultTransactions - -
2023-12-13 19:13:45.309 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:13:45.310 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/defaultUserTransactions/userDefaultTransactions - - - 204 - - 3.2615ms
2023-12-13 19:13:45.313 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/defaultUserTransactions/userDefaultTransactions - -
2023-12-13 19:13:45.314 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:13:45.316 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/defaultUserTransactions/userDefaultTransactions - - - 404 0 - 3.7459ms
2023-12-13 19:23:37.618 +01:00 [INF] User profile is available. Using 'C:\Users\maste\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-12-13 19:23:37.776 +01:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2023-12-13 19:23:37.777 +01:00 [INF] Quartz Scheduler created
2023-12-13 19:23:37.778 +01:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2023-12-13 19:23:37.779 +01:00 [INF] RAMJobStore initialized.
2023-12-13 19:23:37.780 +01:00 [INF] Quartz Scheduler 3.7.0.0 - 'QuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2023-12-13 19:23:37.781 +01:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2023-12-13 19:23:37.782 +01:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2023-12-13 19:23:37.795 +01:00 [INF] Adding 1 jobs, 1 triggers.
2023-12-13 19:23:37.799 +01:00 [INF] Adding job: DEFAULT.NBP
2023-12-13 19:23:37.907 +01:00 [INF] Now listening on: http://localhost:5238
2023-12-13 19:23:37.908 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-13 19:23:37.915 +01:00 [INF] Hosting environment: Development
2023-12-13 19:23:37.916 +01:00 [INF] Content root path: C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api
2023-12-13 19:23:37.918 +01:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2023-12-13 19:23:38.133 +01:00 [INF] Start processing HTTP request GET http://api.nbp.pl/api/exchangerates/tables/c
2023-12-13 19:23:38.136 +01:00 [INF] Sending HTTP request GET http://api.nbp.pl/api/exchangerates/tables/c
2023-12-13 19:23:38.295 +01:00 [INF] Received HTTP response headers after 155.3113ms - 200
2023-12-13 19:23:38.300 +01:00 [INF] End processing HTTP request after 171.2455ms - 200
2023-12-13 19:23:39.644 +01:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Ask], [c].[Bid], [c].[Code], [c].[CratedBy], [c].[CreatedTime], [c].[CurrencyName], [c].[DeletedBy], [c].[DeletedTime], [c].[IsDeleted], [c].[ModifiedBy], [c].[ModifiedTime], [c].[TradingDate]
FROM [Currencies] AS [c]
2023-12-13 19:23:40.121 +01:00 [ERR] Job DEFAULT.NBP threw an unhandled Exception: 
System.NullReferenceException: Object reference not set to an instance of an object.
   at WalletApp.Application.Common.Currency.UpdateCurrency.UpdateCurrencyCommandHandler.Handle(UpdateCurrencyCommand request, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Common\Currency\UpdateCurrency\UpdateCurrencyCommandHandler.cs:line 27
   at WalletApp.Application.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Behaviours\ValidationBehaviour.cs:line 22
   at WalletApp.Infractructure.Quartz.CallToNbpApiJob.Execute(IJobExecutionContext context) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Infrastructure\Quartz\CallToNbpApiJob.cs:line 20
   at Quartz.Core.JobRunShell.Run(CancellationToken cancellationToken)
2023-12-13 19:23:40.131 +01:00 [ERR] Job DEFAULT.NBP threw an exception.
Quartz.SchedulerException: Job threw an unhandled exception.
 ---> System.NullReferenceException: Object reference not set to an instance of an object.
   at WalletApp.Application.Common.Currency.UpdateCurrency.UpdateCurrencyCommandHandler.Handle(UpdateCurrencyCommand request, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Common\Currency\UpdateCurrency\UpdateCurrencyCommandHandler.cs:line 27
   at WalletApp.Application.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Behaviours\ValidationBehaviour.cs:line 22
   at WalletApp.Infractructure.Quartz.CallToNbpApiJob.Execute(IJobExecutionContext context) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Infrastructure\Quartz\CallToNbpApiJob.cs:line 20
   at Quartz.Core.JobRunShell.Run(CancellationToken cancellationToken)
   --- End of inner exception stack trace --- [See nested exception: System.NullReferenceException: Object reference not set to an instance of an object.
   at WalletApp.Application.Common.Currency.UpdateCurrency.UpdateCurrencyCommandHandler.Handle(UpdateCurrencyCommand request, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Common\Currency\UpdateCurrency\UpdateCurrencyCommandHandler.cs:line 27
   at WalletApp.Application.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Behaviours\ValidationBehaviour.cs:line 22
   at WalletApp.Infractructure.Quartz.CallToNbpApiJob.Execute(IJobExecutionContext context) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Infrastructure\Quartz\CallToNbpApiJob.cs:line 20
   at Quartz.Core.JobRunShell.Run(CancellationToken cancellationToken)]
2023-12-13 19:24:28.358 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/account/authenticate - -
2023-12-13 19:24:28.406 +01:00 [WRN] Failed to determine the https port for redirect.
2023-12-13 19:24:28.410 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:24:28.423 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/account/authenticate - - - 204 - - 67.4256ms
2023-12-13 19:24:28.463 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5238/api/account/authenticate application/json 47
2023-12-13 19:24:28.467 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:24:28.532 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.AccountController.Authentication (WalletApp.Api)'
2023-12-13 19:24:28.547 +01:00 [INF] Route matched with {action = "Authentication", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult`1[WalletApp.Application.Account.Authenticate.AuthenticateResponseDto]]] Authentication(WalletApp.Application.Account.Authenticate.AuthenticateDto, System.Threading.CancellationToken) on controller WalletApp.Controllers.AccountController (WalletApp.Api).
2023-12-13 19:24:28.703 +01:00 [INF] Executed DbCommand (22ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IconType], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-12-13 19:24:28.872 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2023-12-13 19:24:28.899 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-12-13 19:24:28.913 +01:00 [INF] AuthenticationScheme: Identity.Application signed in.
2023-12-13 19:24:28.919 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IconType], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-12-13 19:24:28.924 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-12-13 19:24:29.047 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__ipAddress_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [t].[Id], [t].[IpAddress], [t].[RefreshToken], [t].[RefreshTokenExpiryTime], [t].[UserIdentityId]
FROM [Tokens] AS [t]
WHERE [t].[UserIdentityId] = @__userId_0 AND [t].[IpAddress] = @__ipAddress_1
2023-12-13 19:24:29.073 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IconType], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-12-13 19:24:29.202 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@p15='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p16='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 256), @p19='?' (DbType = Guid), @p17='?' (Size = 4000), @p18='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [IconType] = @p4, [LockoutEnabled] = @p5, [LockoutEnd] = @p6, [NormalizedEmail] = @p7, [NormalizedUserName] = @p8, [PasswordHash] = @p9, [PhoneNumber] = @p10, [PhoneNumberConfirmed] = @p11, [SecurityStamp] = @p12, [TwoFactorEnabled] = @p13, [UserName] = @p14
OUTPUT 1
WHERE [Id] = @p15 AND [ConcurrencyStamp] = @p16;
UPDATE [Tokens] SET [RefreshToken] = @p17, [RefreshTokenExpiryTime] = @p18
OUTPUT 1
WHERE [Id] = @p19;
2023-12-13 19:24:29.239 +01:00 [INF] Executing OkObjectResult, writing value of type 'WalletApp.Application.Common.ApiResult`1[[WalletApp.Application.Account.Authenticate.AuthenticateResponseDto, WalletApp.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-13 19:24:29.259 +01:00 [INF] Executed action WalletApp.Controllers.AccountController.Authentication (WalletApp.Api) in 706.8999ms
2023-12-13 19:24:29.261 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.AccountController.Authentication (WalletApp.Api)'
2023-12-13 19:24:29.268 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5238/api/account/authenticate application/json 47 - 200 - application/json;+charset=utf-8 804.7558ms
2023-12-13 19:24:29.287 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/user/actualMoney - -
2023-12-13 19:24:29.290 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:24:29.290 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/transaction/moneyChart?type=0 - -
2023-12-13 19:24:29.301 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/transaction/incomeChart?type=0 - -
2023-12-13 19:24:29.301 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/user/actualMoney - - - 204 - - 14.2226ms
2023-12-13 19:24:29.302 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/transaction/costChart?type=0 - -
2023-12-13 19:24:29.290 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/transaction?type=0&pageSize=2&pageNumber=1 - -
2023-12-13 19:24:29.305 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:24:29.308 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:24:29.309 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/user/actualMoney - -
2023-12-13 19:24:29.309 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:24:29.311 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/transaction/incomeChart?type=0 - - - 204 - - 10.6335ms
2023-12-13 19:24:29.311 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/transaction/moneyChart?type=0 - - - 204 - - 20.5317ms
2023-12-13 19:24:29.313 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/transaction/costChart?type=0 - - - 204 - - 10.1927ms
2023-12-13 19:24:29.310 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:24:29.318 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/transaction/moneyChart?type=0 - -
2023-12-13 19:24:29.319 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/transaction/incomeChart?type=0 - -
2023-12-13 19:24:29.319 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/transaction/costChart?type=0 - -
2023-12-13 19:24:29.320 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/transaction?type=0&pageSize=2&pageNumber=1 - - - 204 - - 30.3882ms
2023-12-13 19:24:29.321 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:24:29.321 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:24:29.322 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:24:29.322 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:24:29.323 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/transaction?type=0&pageSize=2&pageNumber=1 - -
2023-12-13 19:24:29.326 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:24:29.370 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/transaction/incomeChart?type=0 - - - 404 0 - 50.8723ms
2023-12-13 19:24:29.370 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/transaction/moneyChart?type=0 - - - 404 0 - 51.2726ms
2023-12-13 19:24:29.370 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/user/actualMoney - - - 404 0 - 60.5647ms
2023-12-13 19:24:29.370 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/transaction/costChart?type=0 - - - 404 0 - 50.2590ms
2023-12-13 19:24:29.370 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/transaction?type=0&pageSize=2&pageNumber=1 - - - 404 0 - 46.9370ms
2023-12-13 19:24:31.976 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/defaultUserTransactions - -
2023-12-13 19:24:31.977 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:24:31.978 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/defaultUserTransactions - - - 204 - - 2.1539ms
2023-12-13 19:24:31.979 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/defaultUserTransactions - -
2023-12-13 19:24:31.980 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:24:31.999 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.DefaultUserTransactionsController.GetDefaultUserTransactions (WalletApp.Api)'
2023-12-13 19:24:32.005 +01:00 [INF] Route matched with {action = "GetDefaultUserTransactions", controller = "DefaultUserTransactions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult`1[System.Collections.Generic.IReadOnlyCollection`1[WalletApp.Application.Common.DefaultTransaction.GetDefaultUserTransactions.GetDefaultUserTransactionResponseDto]]]] GetDefaultUserTransactions(System.Threading.CancellationToken) on controller WalletApp.Controllers.DefaultUserTransactionsController (WalletApp.Api).
2023-12-13 19:24:36.458 +01:00 [INF] Executed DbCommand (24ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[BackgroundColor], [d].[CategoryId], [d].[CratedBy], [d].[CreatedTime], [d].[CurrencyId], [d].[DeletedBy], [d].[DeletedTime], [d].[Description], [d].[GroupId], [d].[IsDeleted], [d].[ModifiedBy], [d].[ModifiedTime], [d].[Price], [d].[TextColor], [d].[Title], [d].[UserIdentityId], [c].[Id], [c].[CratedBy], [c].[CreatedTime], [c].[DeletedBy], [c].[DeletedTime], [c].[GroupId], [c].[IsDeleted], [c].[ModifiedBy], [c].[ModifiedTime], [c].[Name], [c].[UserIdentityId], [c0].[Id], [c0].[Ask], [c0].[Bid], [c0].[Code], [c0].[CratedBy], [c0].[CreatedTime], [c0].[CurrencyName], [c0].[DeletedBy], [c0].[DeletedTime], [c0].[IsDeleted], [c0].[ModifiedBy], [c0].[ModifiedTime], [c0].[TradingDate]
FROM [DefaultTransactions] AS [d]
INNER JOIN [Categories] AS [c] ON [d].[CategoryId] = [c].[Id]
INNER JOIN [Currencies] AS [c0] ON [d].[CurrencyId] = [c0].[Id]
WHERE [d].[UserIdentityId] = @__userId_0
2023-12-13 19:24:36.500 +01:00 [INF] Executing OkObjectResult, writing value of type 'WalletApp.Application.Common.ApiResult`1[[System.Collections.Generic.IReadOnlyCollection`1[[WalletApp.Application.Common.DefaultTransaction.GetDefaultUserTransactions.GetDefaultUserTransactionResponseDto, WalletApp.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-12-13 19:24:36.512 +01:00 [INF] Executed action WalletApp.Controllers.DefaultUserTransactionsController.GetDefaultUserTransactions (WalletApp.Api) in 4505.2901ms
2023-12-13 19:24:36.514 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.DefaultUserTransactionsController.GetDefaultUserTransactions (WalletApp.Api)'
2023-12-13 19:24:36.515 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/defaultUserTransactions - - - 200 - application/json;+charset=utf-8 4535.6082ms
2023-12-13 19:25:15.911 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/transactionUser/addDefault - -
2023-12-13 19:25:15.913 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:25:15.914 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/transactionUser/addDefault - - - 204 - - 2.3267ms
2023-12-13 19:25:15.915 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5238/api/transactionUser/addDefault application/json 63
2023-12-13 19:25:15.921 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:25:15.926 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.TransactionUserController.AddUserTransactionDefault (WalletApp.Api)'
2023-12-13 19:25:15.928 +01:00 [INF] Route matched with {action = "AddUserTransactionDefault", controller = "TransactionUser"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult]] AddUserTransactionDefault(WalletApp.Application.Common.Transaction.AddUserTxDefault.AddUserTxDefaultDto, System.Threading.CancellationToken) on controller WalletApp.Controllers.TransactionUserController (WalletApp.Api).
2023-12-13 19:25:15.952 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[BackgroundColor], [d].[CategoryId], [d].[CratedBy], [d].[CreatedTime], [d].[CurrencyId], [d].[DeletedBy], [d].[DeletedTime], [d].[Description], [d].[GroupId], [d].[IsDeleted], [d].[ModifiedBy], [d].[ModifiedTime], [d].[Price], [d].[TextColor], [d].[Title], [d].[UserIdentityId]
FROM [DefaultTransactions] AS [d]
WHERE [d].[Id] = @__id_0
2023-12-13 19:25:16.054 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Guid), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Guid), @p7='?' (DbType = Guid), @p8='?' (DbType = DateTime2), @p9='?' (Size = 500), @p10='?' (DbType = Guid), @p11='?' (DbType = Boolean), @p12='?' (DbType = Guid), @p13='?' (DbType = DateTime2), @p14='?' (Precision = 15) (Scale = 2) (DbType = Decimal), @p15='?' (Size = 50), @p16='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Transactions] ([Id], [CategoryId], [CratedBy], [CreatedTime], [CurrencyId], [Date], [DefaultTransactionId], [DeletedBy], [DeletedTime], [Description], [GroupId], [IsDeleted], [ModifiedBy], [ModifiedTime], [Price], [Title], [UserIdentityId])
OUTPUT INSERTED.[IsDefault]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
2023-12-13 19:25:16.065 +01:00 [INF] Executing OkObjectResult, writing value of type 'WalletApp.Application.Common.ApiResult'.
2023-12-13 19:25:16.068 +01:00 [INF] Executed action WalletApp.Controllers.TransactionUserController.AddUserTransactionDefault (WalletApp.Api) in 137.3634ms
2023-12-13 19:25:16.069 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.TransactionUserController.AddUserTransactionDefault (WalletApp.Api)'
2023-12-13 19:25:16.070 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5238/api/transactionUser/addDefault application/json 63 - 200 - application/json;+charset=utf-8 155.3384ms
2023-12-13 19:45:32.583 +01:00 [INF] User profile is available. Using 'C:\Users\maste\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-12-13 19:45:32.743 +01:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2023-12-13 19:45:32.745 +01:00 [INF] Quartz Scheduler created
2023-12-13 19:45:32.746 +01:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2023-12-13 19:45:32.748 +01:00 [INF] RAMJobStore initialized.
2023-12-13 19:45:32.749 +01:00 [INF] Quartz Scheduler 3.7.0.0 - 'QuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2023-12-13 19:45:32.750 +01:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2023-12-13 19:45:32.751 +01:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2023-12-13 19:45:32.761 +01:00 [INF] Adding 1 jobs, 1 triggers.
2023-12-13 19:45:32.765 +01:00 [INF] Adding job: DEFAULT.NBP
2023-12-13 19:45:32.880 +01:00 [INF] Now listening on: http://localhost:5238
2023-12-13 19:45:32.882 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-13 19:45:32.888 +01:00 [INF] Hosting environment: Development
2023-12-13 19:45:32.889 +01:00 [INF] Content root path: C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api
2023-12-13 19:45:32.891 +01:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2023-12-13 19:45:33.075 +01:00 [INF] Start processing HTTP request GET http://api.nbp.pl/api/exchangerates/tables/c
2023-12-13 19:45:33.077 +01:00 [INF] Sending HTTP request GET http://api.nbp.pl/api/exchangerates/tables/c
2023-12-13 19:45:33.224 +01:00 [INF] Received HTTP response headers after 142.6575ms - 200
2023-12-13 19:45:33.229 +01:00 [INF] End processing HTTP request after 158.9416ms - 200
2023-12-13 19:45:34.576 +01:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Ask], [c].[Bid], [c].[Code], [c].[CratedBy], [c].[CreatedTime], [c].[CurrencyName], [c].[DeletedBy], [c].[DeletedTime], [c].[IsDeleted], [c].[ModifiedBy], [c].[ModifiedTime], [c].[TradingDate]
FROM [Currencies] AS [c]
2023-12-13 19:45:35.036 +01:00 [ERR] Job DEFAULT.NBP threw an unhandled Exception: 
System.NullReferenceException: Object reference not set to an instance of an object.
   at WalletApp.Application.Common.Currency.UpdateCurrency.UpdateCurrencyCommandHandler.Handle(UpdateCurrencyCommand request, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Common\Currency\UpdateCurrency\UpdateCurrencyCommandHandler.cs:line 27
   at WalletApp.Application.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Behaviours\ValidationBehaviour.cs:line 22
   at WalletApp.Infractructure.Quartz.CallToNbpApiJob.Execute(IJobExecutionContext context) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Infrastructure\Quartz\CallToNbpApiJob.cs:line 20
   at Quartz.Core.JobRunShell.Run(CancellationToken cancellationToken)
2023-12-13 19:45:35.046 +01:00 [ERR] Job DEFAULT.NBP threw an exception.
Quartz.SchedulerException: Job threw an unhandled exception.
 ---> System.NullReferenceException: Object reference not set to an instance of an object.
   at WalletApp.Application.Common.Currency.UpdateCurrency.UpdateCurrencyCommandHandler.Handle(UpdateCurrencyCommand request, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Common\Currency\UpdateCurrency\UpdateCurrencyCommandHandler.cs:line 27
   at WalletApp.Application.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Behaviours\ValidationBehaviour.cs:line 22
   at WalletApp.Infractructure.Quartz.CallToNbpApiJob.Execute(IJobExecutionContext context) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Infrastructure\Quartz\CallToNbpApiJob.cs:line 20
   at Quartz.Core.JobRunShell.Run(CancellationToken cancellationToken)
   --- End of inner exception stack trace --- [See nested exception: System.NullReferenceException: Object reference not set to an instance of an object.
   at WalletApp.Application.Common.Currency.UpdateCurrency.UpdateCurrencyCommandHandler.Handle(UpdateCurrencyCommand request, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Common\Currency\UpdateCurrency\UpdateCurrencyCommandHandler.cs:line 27
   at WalletApp.Application.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Behaviours\ValidationBehaviour.cs:line 22
   at WalletApp.Infractructure.Quartz.CallToNbpApiJob.Execute(IJobExecutionContext context) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Infrastructure\Quartz\CallToNbpApiJob.cs:line 20
   at Quartz.Core.JobRunShell.Run(CancellationToken cancellationToken)]
2023-12-13 19:45:43.003 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/token/X2Y7ssSuxOffF+TBJgnFQu9vKl86ymlXbg13v3mbsLv3cEX6XGs+LkYIAcwf61Gyzhivgb7Nc7Srs3Cu0gYa6g== - -
2023-12-13 19:45:43.051 +01:00 [WRN] Failed to determine the https port for redirect.
2023-12-13 19:45:43.053 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:45:43.068 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/token/X2Y7ssSuxOffF+TBJgnFQu9vKl86ymlXbg13v3mbsLv3cEX6XGs+LkYIAcwf61Gyzhivgb7Nc7Srs3Cu0gYa6g== - - - 204 - - 66.8583ms
2023-12-13 19:45:43.075 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/token/X2Y7ssSuxOffF+TBJgnFQu9vKl86ymlXbg13v3mbsLv3cEX6XGs+LkYIAcwf61Gyzhivgb7Nc7Srs3Cu0gYa6g== - -
2023-12-13 19:45:43.082 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:45:43.261 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '13.12.2023 18:25:28', Current time: '13.12.2023 18:45:43'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-12-13 19:45:43.264 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '13.12.2023 18:25:28', Current time: '13.12.2023 18:45:43'.
2023-12-13 19:45:43.267 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.TokenController.GetTokens (WalletApp.Api)'
2023-12-13 19:45:43.284 +01:00 [INF] Route matched with {action = "GetTokens", controller = "Token"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult`1[WalletApp.Application.Common.Token.UpdateRefreshToken.RefreshTokenResponseDto]]] GetTokens(System.String, System.Threading.CancellationToken) on controller WalletApp.Controllers.TokenController (WalletApp.Api).
2023-12-13 19:45:43.435 +01:00 [INF] Executed DbCommand (24ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [t].[Id], [t].[IpAddress], [t].[RefreshToken], [t].[RefreshTokenExpiryTime], [t].[UserIdentityId]
FROM [Tokens] AS [t]
WHERE [t].[RefreshToken] = @__refreshToken_0
2023-12-13 19:45:43.482 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IconType], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__get_Item_0
2023-12-13 19:45:43.623 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Tokens] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2023-12-13 19:45:43.665 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-12-13 19:45:43.696 +01:00 [INF] Executing OkObjectResult, writing value of type 'WalletApp.Application.Common.ApiResult`1[[WalletApp.Application.Common.Token.UpdateRefreshToken.RefreshTokenResponseDto, WalletApp.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-13 19:45:43.717 +01:00 [INF] Executed action WalletApp.Controllers.TokenController.GetTokens (WalletApp.Api) in 428.1236ms
2023-12-13 19:45:43.719 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.TokenController.GetTokens (WalletApp.Api)'
2023-12-13 19:45:43.729 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/token/X2Y7ssSuxOffF+TBJgnFQu9vKl86ymlXbg13v3mbsLv3cEX6XGs+LkYIAcwf61Gyzhivgb7Nc7Srs3Cu0gYa6g== - - - 200 - application/json;+charset=utf-8 653.5518ms
2023-12-13 19:45:43.760 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/defaultUserTransactions - -
2023-12-13 19:45:43.762 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:45:43.764 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/defaultUserTransactions - - - 204 - - 3.5560ms
2023-12-13 19:45:43.765 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/defaultUserTransactions - -
2023-12-13 19:45:43.767 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:45:43.797 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.DefaultUserTransactionsController.GetDefaultUserTransactions (WalletApp.Api)'
2023-12-13 19:45:43.801 +01:00 [INF] Route matched with {action = "GetDefaultUserTransactions", controller = "DefaultUserTransactions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult`1[System.Collections.Generic.IReadOnlyCollection`1[WalletApp.Application.Common.DefaultTransaction.GetDefaultUserTransactions.GetDefaultUserTransactionResponseDto]]]] GetDefaultUserTransactions(System.Threading.CancellationToken) on controller WalletApp.Controllers.DefaultUserTransactionsController (WalletApp.Api).
2023-12-13 19:45:43.870 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[BackgroundColor], [d].[CategoryId], [d].[CratedBy], [d].[CreatedTime], [d].[CurrencyId], [d].[DeletedBy], [d].[DeletedTime], [d].[Description], [d].[GroupId], [d].[IsDeleted], [d].[ModifiedBy], [d].[ModifiedTime], [d].[Price], [d].[TextColor], [d].[Title], [d].[UserIdentityId], [c].[Id], [c].[CratedBy], [c].[CreatedTime], [c].[DeletedBy], [c].[DeletedTime], [c].[GroupId], [c].[IsDeleted], [c].[ModifiedBy], [c].[ModifiedTime], [c].[Name], [c].[UserIdentityId], [c0].[Id], [c0].[Ask], [c0].[Bid], [c0].[Code], [c0].[CratedBy], [c0].[CreatedTime], [c0].[CurrencyName], [c0].[DeletedBy], [c0].[DeletedTime], [c0].[IsDeleted], [c0].[ModifiedBy], [c0].[ModifiedTime], [c0].[TradingDate]
FROM [DefaultTransactions] AS [d]
INNER JOIN [Categories] AS [c] ON [d].[CategoryId] = [c].[Id]
INNER JOIN [Currencies] AS [c0] ON [d].[CurrencyId] = [c0].[Id]
WHERE [d].[UserIdentityId] = @__userId_0
2023-12-13 19:45:43.911 +01:00 [INF] Executing OkObjectResult, writing value of type 'WalletApp.Application.Common.ApiResult`1[[System.Collections.Generic.IReadOnlyCollection`1[[WalletApp.Application.Common.DefaultTransaction.GetDefaultUserTransactions.GetDefaultUserTransactionResponseDto, WalletApp.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-12-13 19:45:43.923 +01:00 [INF] Executed action WalletApp.Controllers.DefaultUserTransactionsController.GetDefaultUserTransactions (WalletApp.Api) in 120.5457ms
2023-12-13 19:45:43.925 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.DefaultUserTransactionsController.GetDefaultUserTransactions (WalletApp.Api)'
2023-12-13 19:45:43.927 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/defaultUserTransactions - - - 200 - application/json;+charset=utf-8 162.3143ms
2023-12-13 19:45:48.752 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/account/data - -
2023-12-13 19:45:48.753 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:45:48.754 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/account/data - - - 204 - - 2.2132ms
2023-12-13 19:45:48.755 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/account/data - -
2023-12-13 19:45:48.758 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:45:48.764 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.AccountController.GetAccountData (WalletApp.Api)'
2023-12-13 19:45:48.768 +01:00 [INF] Route matched with {action = "GetAccountData", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult`1[WalletApp.Application.Common.Account.GetAccountData.GetAccountDataResponseDto]]] GetAccountData(System.Threading.CancellationToken) on controller WalletApp.Controllers.AccountController (WalletApp.Api).
2023-12-13 19:45:48.791 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IconType], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Id], [a0].[ActualMoneyChf], [a0].[ActualMoneyEur], [a0].[ActualMoneyGbp], [a0].[ActualMoneyPln], [a0].[ActualMoneyUsd], [a0].[CratedBy], [a0].[CreatedTime], [a0].[DeletedBy], [a0].[DeletedTime], [a0].[IsDeleted], [a0].[ModifiedBy], [a0].[ModifiedTime], [a0].[UserIdentityId], [m].[Id], [m].[CratedBy], [m].[CreatedTime], [m].[DeletedBy], [m].[DeletedTime], [m].[GroupId], [m].[IsDeleted], [m].[ModifiedBy], [m].[ModifiedTime], [m].[UserIdentityId], [m].[UserRoleIdentityId]
FROM [AspNetUsers] AS [a]
LEFT JOIN [AccountData] AS [a0] ON [a].[Id] = [a0].[UserIdentityId]
LEFT JOIN [Members] AS [m] ON [a].[Id] = [m].[UserIdentityId]
WHERE [a].[Id] = @__userId_0
2023-12-13 19:45:48.815 +01:00 [INF] Executing OkObjectResult, writing value of type 'WalletApp.Application.Common.ApiResult`1[[WalletApp.Application.Common.Account.GetAccountData.GetAccountDataResponseDto, WalletApp.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-13 19:45:48.825 +01:00 [INF] Executed action WalletApp.Controllers.AccountController.GetAccountData (WalletApp.Api) in 55.6645ms
2023-12-13 19:45:48.826 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.AccountController.GetAccountData (WalletApp.Api)'
2023-12-13 19:45:48.827 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/account/data - - - 200 - application/json;+charset=utf-8 71.6576ms
2023-12-13 19:45:51.550 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/transaction?type=0&pageSize=3&pageNumber=1 - -
2023-12-13 19:45:51.551 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:45:51.552 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/transaction?type=0&pageSize=3&pageNumber=1 - - - 204 - - 2.1523ms
2023-12-13 19:45:51.553 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/transaction?type=0&pageSize=3&pageNumber=1 - -
2023-12-13 19:45:51.554 +01:00 [INF] CORS policy execution successful.
2023-12-13 19:45:51.556 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/transaction?type=0&pageSize=3&pageNumber=1 - - - 404 0 - 2.2906ms
2023-12-13 20:23:51.447 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/transaction?type=0&pageSize=3&pageNumber=1 - -
2023-12-13 20:23:51.450 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/token/LiQjN+UoDk3QqPSNZkzWMGy5aSRgFog9ZX2Xv+Dpo7lYAx6nLhUUIyhbwVuq3Xnb2psBBsppRExEmiduCGI4xQ== - -
2023-12-13 20:23:51.455 +01:00 [INF] CORS policy execution successful.
2023-12-13 20:23:51.455 +01:00 [INF] CORS policy execution successful.
2023-12-13 20:23:51.455 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/transaction?type=0&pageSize=3&pageNumber=1 - - - 204 - - 11.6136ms
2023-12-13 20:23:51.456 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/token/LiQjN+UoDk3QqPSNZkzWMGy5aSRgFog9ZX2Xv+Dpo7lYAx6nLhUUIyhbwVuq3Xnb2psBBsppRExEmiduCGI4xQ== - - - 204 - - 6.4612ms
2023-12-13 20:23:51.458 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/transaction?type=0&pageSize=3&pageNumber=1 - -
2023-12-13 20:23:51.460 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/token/LiQjN+UoDk3QqPSNZkzWMGy5aSRgFog9ZX2Xv+Dpo7lYAx6nLhUUIyhbwVuq3Xnb2psBBsppRExEmiduCGI4xQ== - -
2023-12-13 20:23:51.464 +01:00 [INF] CORS policy execution successful.
2023-12-13 20:23:51.465 +01:00 [INF] CORS policy execution successful.
2023-12-13 20:23:51.466 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '13.12.2023 18:46:43', Current time: '13.12.2023 19:23:51'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-12-13 20:23:51.467 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '13.12.2023 18:46:43', Current time: '13.12.2023 19:23:51'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-12-13 20:23:51.469 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '13.12.2023 18:46:43', Current time: '13.12.2023 19:23:51'.
2023-12-13 20:23:51.471 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '13.12.2023 18:46:43', Current time: '13.12.2023 19:23:51'.
2023-12-13 20:23:51.472 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/transaction?type=0&pageSize=3&pageNumber=1 - - - 404 0 - 14.0941ms
2023-12-13 20:23:51.472 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.TokenController.GetTokens (WalletApp.Api)'
2023-12-13 20:23:51.474 +01:00 [INF] Route matched with {action = "GetTokens", controller = "Token"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult`1[WalletApp.Application.Common.Token.UpdateRefreshToken.RefreshTokenResponseDto]]] GetTokens(System.String, System.Threading.CancellationToken) on controller WalletApp.Controllers.TokenController (WalletApp.Api).
2023-12-13 20:23:51.523 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [t].[Id], [t].[IpAddress], [t].[RefreshToken], [t].[RefreshTokenExpiryTime], [t].[UserIdentityId]
FROM [Tokens] AS [t]
WHERE [t].[RefreshToken] = @__refreshToken_0
2023-12-13 20:23:51.530 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IconType], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__get_Item_0
2023-12-13 20:23:51.539 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Tokens] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2023-12-13 20:23:51.544 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-12-13 20:23:51.547 +01:00 [INF] Executing OkObjectResult, writing value of type 'WalletApp.Application.Common.ApiResult`1[[WalletApp.Application.Common.Token.UpdateRefreshToken.RefreshTokenResponseDto, WalletApp.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-13 20:23:51.548 +01:00 [INF] Executed action WalletApp.Controllers.TokenController.GetTokens (WalletApp.Api) in 72.9225ms
2023-12-13 20:23:51.549 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.TokenController.GetTokens (WalletApp.Api)'
2023-12-13 20:23:51.550 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/token/LiQjN+UoDk3QqPSNZkzWMGy5aSRgFog9ZX2Xv+Dpo7lYAx6nLhUUIyhbwVuq3Xnb2psBBsppRExEmiduCGI4xQ== - - - 200 - application/json;+charset=utf-8 90.4109ms
2023-12-13 20:23:56.439 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/transaction?type=0&pageSize=3&pageNumber=1 - -
2023-12-13 20:23:56.440 +01:00 [INF] CORS policy execution successful.
2023-12-13 20:23:56.442 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/transaction?type=0&pageSize=3&pageNumber=1 - - - 404 0 - 2.9171ms
2023-12-13 21:19:47.690 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/token/GBM8D3bMVtVcU7jtjZoL4tapzAE0qip1gQ2mof5CA0Ls73CrQQnJqB70x5Snxvs3w1PEuvlKuDwKPz7WYw== - -
2023-12-13 21:19:47.693 +01:00 [INF] CORS policy execution successful.
2023-12-13 21:19:47.695 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/token/GBM8D3bMVtVcU7jtjZoL4tapzAE0qip1gQ2mof5CA0Ls73CrQQnJqB70x5Snxvs3w1PEuvlKuDwKPz7WYw== - - - 204 - - 6.9944ms
2023-12-13 21:19:47.696 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/token/GBM8D3bMVtVcU7jtjZoL4tapzAE0qip1gQ2mof5CA0Ls73CrQQnJqB70x5Snxvs3w1PEuvlKuDwKPz7WYw== - -
2023-12-13 21:19:47.702 +01:00 [INF] CORS policy execution successful.
2023-12-13 21:19:47.703 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '13.12.2023 19:24:51', Current time: '13.12.2023 20:19:47'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-12-13 21:19:47.707 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '13.12.2023 19:24:51', Current time: '13.12.2023 20:19:47'.
2023-12-13 21:19:47.708 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.TokenController.GetTokens (WalletApp.Api)'
2023-12-13 21:19:47.709 +01:00 [INF] Route matched with {action = "GetTokens", controller = "Token"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult`1[WalletApp.Application.Common.Token.UpdateRefreshToken.RefreshTokenResponseDto]]] GetTokens(System.String, System.Threading.CancellationToken) on controller WalletApp.Controllers.TokenController (WalletApp.Api).
2023-12-13 21:19:47.751 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [t].[Id], [t].[IpAddress], [t].[RefreshToken], [t].[RefreshTokenExpiryTime], [t].[UserIdentityId]
FROM [Tokens] AS [t]
WHERE [t].[RefreshToken] = @__refreshToken_0
2023-12-13 21:19:47.757 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IconType], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__get_Item_0
2023-12-13 21:19:47.766 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Tokens] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2023-12-13 21:19:47.771 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-12-13 21:19:47.773 +01:00 [INF] Executing OkObjectResult, writing value of type 'WalletApp.Application.Common.ApiResult`1[[WalletApp.Application.Common.Token.UpdateRefreshToken.RefreshTokenResponseDto, WalletApp.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-13 21:19:47.774 +01:00 [INF] Executed action WalletApp.Controllers.TokenController.GetTokens (WalletApp.Api) in 63.1787ms
2023-12-13 21:19:47.775 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.TokenController.GetTokens (WalletApp.Api)'
2023-12-13 21:19:47.776 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/token/GBM8D3bMVtVcU7jtjZoL4tapzAE0qip1gQ2mof5CA0Ls73CrQQnJqB70x5Snxvs3w1PEuvlKuDwKPz7WYw== - - - 200 - application/json;+charset=utf-8 79.8635ms
2023-12-13 21:19:47.880 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/transaction?type=0&pageSize=3&pageNumber=1 - -
2023-12-13 21:19:47.881 +01:00 [INF] CORS policy execution successful.
2023-12-13 21:19:47.882 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/transaction?type=0&pageSize=3&pageNumber=1 - - - 204 - - 2.7032ms
2023-12-13 21:19:47.885 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/transaction?type=0&pageSize=3&pageNumber=1 - -
2023-12-13 21:19:47.886 +01:00 [INF] CORS policy execution successful.
2023-12-13 21:19:47.888 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/transaction?type=0&pageSize=3&pageNumber=1 - - - 404 0 - 3.3799ms
2023-12-13 21:30:48.705 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/transaction?type=0&pageSize=3&pageNumber=1 - -
2023-12-13 21:30:48.709 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/token/tdkP0cIqb9EduaUIKKg94THvDhucl1su51CxUNfPckRaOPrvRZccpM43AHXtBwhipXqQ2U575L5rGL1B0mA== - -
2023-12-13 21:30:48.710 +01:00 [INF] CORS policy execution successful.
2023-12-13 21:30:48.713 +01:00 [INF] CORS policy execution successful.
2023-12-13 21:30:48.714 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/transaction?type=0&pageSize=3&pageNumber=1 - - - 204 - - 9.3775ms
2023-12-13 21:30:48.715 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/token/tdkP0cIqb9EduaUIKKg94THvDhucl1su51CxUNfPckRaOPrvRZccpM43AHXtBwhipXqQ2U575L5rGL1B0mA== - - - 204 - - 6.2775ms
2023-12-13 21:30:48.720 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/transaction?type=0&pageSize=3&pageNumber=1 - -
2023-12-13 21:30:48.723 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/token/tdkP0cIqb9EduaUIKKg94THvDhucl1su51CxUNfPckRaOPrvRZccpM43AHXtBwhipXqQ2U575L5rGL1B0mA== - -
2023-12-13 21:30:48.727 +01:00 [INF] CORS policy execution successful.
2023-12-13 21:30:48.728 +01:00 [INF] CORS policy execution successful.
2023-12-13 21:30:48.729 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '13.12.2023 20:20:47', Current time: '13.12.2023 20:30:48'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-12-13 21:30:48.730 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '13.12.2023 20:20:47', Current time: '13.12.2023 20:30:48'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-12-13 21:30:48.732 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '13.12.2023 20:20:47', Current time: '13.12.2023 20:30:48'.
2023-12-13 21:30:48.735 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '13.12.2023 20:20:47', Current time: '13.12.2023 20:30:48'.
2023-12-13 21:30:48.736 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/transaction?type=0&pageSize=3&pageNumber=1 - - - 404 0 - 17.3551ms
2023-12-13 21:30:48.737 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.TokenController.GetTokens (WalletApp.Api)'
2023-12-13 21:30:48.739 +01:00 [INF] Route matched with {action = "GetTokens", controller = "Token"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult`1[WalletApp.Application.Common.Token.UpdateRefreshToken.RefreshTokenResponseDto]]] GetTokens(System.String, System.Threading.CancellationToken) on controller WalletApp.Controllers.TokenController (WalletApp.Api).
2023-12-13 21:30:48.773 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [t].[Id], [t].[IpAddress], [t].[RefreshToken], [t].[RefreshTokenExpiryTime], [t].[UserIdentityId]
FROM [Tokens] AS [t]
WHERE [t].[RefreshToken] = @__refreshToken_0
2023-12-13 21:30:48.778 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IconType], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__get_Item_0
2023-12-13 21:30:48.786 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Tokens] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2023-12-13 21:30:48.789 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-12-13 21:30:48.791 +01:00 [INF] Executing OkObjectResult, writing value of type 'WalletApp.Application.Common.ApiResult`1[[WalletApp.Application.Common.Token.UpdateRefreshToken.RefreshTokenResponseDto, WalletApp.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-13 21:30:48.792 +01:00 [INF] Executed action WalletApp.Controllers.TokenController.GetTokens (WalletApp.Api) in 51.3885ms
2023-12-13 21:30:48.794 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.TokenController.GetTokens (WalletApp.Api)'
2023-12-13 21:30:48.795 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/token/tdkP0cIqb9EduaUIKKg94THvDhucl1su51CxUNfPckRaOPrvRZccpM43AHXtBwhipXqQ2U575L5rGL1B0mA== - - - 200 - application/json;+charset=utf-8 72.6552ms
2023-12-13 21:33:08.342 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/transactionUser/transactionList?pageNumber=0&pageSize=4 - -
2023-12-13 21:33:08.348 +01:00 [INF] CORS policy execution successful.
2023-12-13 21:33:08.349 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/transactionUser/transactionList?pageNumber=0&pageSize=4 - - - 204 - - 7.2726ms
2023-12-13 21:33:08.350 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/transactionUser/transactionList?pageNumber=0&pageSize=4 - -
2023-12-13 21:33:08.356 +01:00 [INF] CORS policy execution successful.
2023-12-13 21:33:08.357 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api)'
2023-12-13 21:33:08.367 +01:00 [INF] Route matched with {action = "GetAllTransactions", controller = "TransactionUser"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult`1[WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListResponseDto]]] GetAllTransactions(WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListDto, System.Threading.CancellationToken) on controller WalletApp.Controllers.TransactionUserController (WalletApp.Api).
2023-12-13 21:33:08.384 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2023-12-13 21:33:08.389 +01:00 [INF] Executed action WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api) in 19.3811ms
2023-12-13 21:33:08.390 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api)'
2023-12-13 21:33:08.391 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/transactionUser/transactionList?pageNumber=0&pageSize=4 - - - 400 - application/problem+json;+charset=utf-8 40.8592ms
2023-12-13 22:00:54.317 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/transactionUser/transactionList?pageNumber=0&pageSize=4 - -
2023-12-13 22:00:54.322 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:00:54.323 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/transactionUser/transactionList?pageNumber=0&pageSize=4 - - - 204 - - 8.6516ms
2023-12-13 22:00:54.325 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/transactionUser/transactionList?pageNumber=0&pageSize=4 - -
2023-12-13 22:00:54.333 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:00:54.335 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '13.12.2023 20:31:48', Current time: '13.12.2023 21:00:54'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-12-13 22:00:54.339 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '13.12.2023 20:31:48', Current time: '13.12.2023 21:00:54'.
2023-12-13 22:00:54.342 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-12-13 22:00:54.421 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/token/WBln8UOfIPqU94R8pbHbjryE4xRz8sV7MlHl3s42P2x4GyPxjEJvBb0kRaUQg2VitpY7EfKIz+8l8xKdldkGQ== - -
2023-12-13 22:00:54.424 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:00:54.426 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/token/WBln8UOfIPqU94R8pbHbjryE4xRz8sV7MlHl3s42P2x4GyPxjEJvBb0kRaUQg2VitpY7EfKIz+8l8xKdldkGQ== - - - 204 - - 4.8957ms
2023-12-13 22:00:54.428 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/token/WBln8UOfIPqU94R8pbHbjryE4xRz8sV7MlHl3s42P2x4GyPxjEJvBb0kRaUQg2VitpY7EfKIz+8l8xKdldkGQ== - -
2023-12-13 22:00:54.429 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:00:54.432 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '13.12.2023 20:31:48', Current time: '13.12.2023 21:00:54'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-12-13 22:00:54.437 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '13.12.2023 20:31:48', Current time: '13.12.2023 21:00:54'.
2023-12-13 22:00:54.440 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.TokenController.GetTokens (WalletApp.Api)'
2023-12-13 22:00:54.442 +01:00 [INF] Route matched with {action = "GetTokens", controller = "Token"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult`1[WalletApp.Application.Common.Token.UpdateRefreshToken.RefreshTokenResponseDto]]] GetTokens(System.String, System.Threading.CancellationToken) on controller WalletApp.Controllers.TokenController (WalletApp.Api).
2023-12-13 22:00:54.483 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/transactionUser/transactionList?pageNumber=0&pageSize=4 - - - 401 - application/json 157.7715ms
2023-12-13 22:00:54.556 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [t].[Id], [t].[IpAddress], [t].[RefreshToken], [t].[RefreshTokenExpiryTime], [t].[UserIdentityId]
FROM [Tokens] AS [t]
WHERE [t].[RefreshToken] = @__refreshToken_0
2023-12-13 22:00:54.568 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IconType], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__get_Item_0
2023-12-13 22:00:54.595 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Tokens] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2023-12-13 22:00:54.601 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-12-13 22:00:54.608 +01:00 [INF] Executing OkObjectResult, writing value of type 'WalletApp.Application.Common.ApiResult`1[[WalletApp.Application.Common.Token.UpdateRefreshToken.RefreshTokenResponseDto, WalletApp.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-13 22:00:54.616 +01:00 [INF] Executed action WalletApp.Controllers.TokenController.GetTokens (WalletApp.Api) in 171.9951ms
2023-12-13 22:00:54.618 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/token/WBln8UOfIPqU94R8pbHbjryE4xRz8sV7MlHl3s42P2x4GyPxjEJvBb0kRaUQg2VitpY7EfKIz+8l8xKdldkGQ== - -
2023-12-13 22:00:54.631 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.TokenController.GetTokens (WalletApp.Api)'
2023-12-13 22:00:54.631 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:00:54.634 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/token/WBln8UOfIPqU94R8pbHbjryE4xRz8sV7MlHl3s42P2x4GyPxjEJvBb0kRaUQg2VitpY7EfKIz+8l8xKdldkGQ== - - - 200 - application/json;+charset=utf-8 205.9298ms
2023-12-13 22:00:54.644 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '13.12.2023 20:31:48', Current time: '13.12.2023 21:00:54'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-12-13 22:00:54.648 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '13.12.2023 20:31:48', Current time: '13.12.2023 21:00:54'.
2023-12-13 22:00:54.649 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.TokenController.GetTokens (WalletApp.Api)'
2023-12-13 22:00:54.651 +01:00 [INF] Route matched with {action = "GetTokens", controller = "Token"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult`1[WalletApp.Application.Common.Token.UpdateRefreshToken.RefreshTokenResponseDto]]] GetTokens(System.String, System.Threading.CancellationToken) on controller WalletApp.Controllers.TokenController (WalletApp.Api).
2023-12-13 22:00:54.657 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [t].[Id], [t].[IpAddress], [t].[RefreshToken], [t].[RefreshTokenExpiryTime], [t].[UserIdentityId]
FROM [Tokens] AS [t]
WHERE [t].[RefreshToken] = @__refreshToken_0
2023-12-13 22:00:54.661 +01:00 [INF] Executing NotFoundObjectResult, writing value of type 'WalletApp.Application.Common.ApiResult`1[[WalletApp.Application.Common.Token.UpdateRefreshToken.RefreshTokenResponseDto, WalletApp.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-13 22:00:54.663 +01:00 [INF] Executed action WalletApp.Controllers.TokenController.GetTokens (WalletApp.Api) in 10.2533ms
2023-12-13 22:00:54.665 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.TokenController.GetTokens (WalletApp.Api)'
2023-12-13 22:00:54.667 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/token/WBln8UOfIPqU94R8pbHbjryE4xRz8sV7MlHl3s42P2x4GyPxjEJvBb0kRaUQg2VitpY7EfKIz+8l8xKdldkGQ== - - - 404 - application/json;+charset=utf-8 49.4553ms
2023-12-13 22:00:54.733 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/transactionUser/transactionList?pageNumber=1&pageSize=1 - -
2023-12-13 22:00:54.734 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:00:54.735 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/transactionUser/transactionList?pageNumber=1&pageSize=1 - - - 204 - - 1.8828ms
2023-12-13 22:00:54.736 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/transactionUser/transactionList?pageNumber=1&pageSize=1 - -
2023-12-13 22:00:54.737 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:00:54.739 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api)'
2023-12-13 22:00:54.740 +01:00 [INF] Route matched with {action = "GetAllTransactions", controller = "TransactionUser"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult`1[WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListResponseDto]]] GetAllTransactions(WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListDto, System.Threading.CancellationToken) on controller WalletApp.Controllers.TransactionUserController (WalletApp.Api).
2023-12-13 22:00:54.743 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2023-12-13 22:00:54.745 +01:00 [INF] Executed action WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api) in 2.8545ms
2023-12-13 22:00:54.746 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api)'
2023-12-13 22:00:54.747 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/transactionUser/transactionList?pageNumber=1&pageSize=1 - - - 400 - application/problem+json;+charset=utf-8 11.2923ms
2023-12-13 22:01:06.067 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/transactionUser/transactionList?pageNumber=1&pageSize=1 - -
2023-12-13 22:01:06.068 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:01:06.069 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/transactionUser/transactionList?pageNumber=1&pageSize=1 - - - 204 - - 2.3914ms
2023-12-13 22:01:06.070 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/transactionUser/transactionList?pageNumber=1&pageSize=1 - -
2023-12-13 22:01:06.071 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:01:06.073 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api)'
2023-12-13 22:01:06.074 +01:00 [INF] Route matched with {action = "GetAllTransactions", controller = "TransactionUser"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult`1[WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListResponseDto]]] GetAllTransactions(WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListDto, System.Threading.CancellationToken) on controller WalletApp.Controllers.TransactionUserController (WalletApp.Api).
2023-12-13 22:01:06.077 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2023-12-13 22:01:06.078 +01:00 [INF] Executed action WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api) in 1.6057ms
2023-12-13 22:01:06.079 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api)'
2023-12-13 22:01:06.080 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/transactionUser/transactionList?pageNumber=1&pageSize=1 - - - 400 - application/problem+json;+charset=utf-8 9.4545ms
2023-12-13 22:03:49.428 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/transactionUser/transactionList?paginationParamsDto=%7B%22pageNumber%22:1,%22pageSize%22:1%7D - -
2023-12-13 22:03:49.433 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/token/8JJqFGQfeIKfNIq6+cTmG1F8CK65JBP+paBskjqol0lFbqrYNMtLxyCJ5oKW33zPD6OULjooi4XN90PDIJ9Vmg== - -
2023-12-13 22:03:49.433 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:03:49.434 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:03:49.435 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/transactionUser/transactionList?paginationParamsDto=%7B%22pageNumber%22:1,%22pageSize%22:1%7D - - - 204 - - 6.7091ms
2023-12-13 22:03:49.440 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/token/8JJqFGQfeIKfNIq6+cTmG1F8CK65JBP+paBskjqol0lFbqrYNMtLxyCJ5oKW33zPD6OULjooi4XN90PDIJ9Vmg== - - - 204 - - 5.0901ms
2023-12-13 22:03:49.436 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/transactionUser/transactionList?paginationParamsDto=%7B%22pageNumber%22:1,%22pageSize%22:1%7D - -
2023-12-13 22:03:49.441 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/token/8JJqFGQfeIKfNIq6+cTmG1F8CK65JBP+paBskjqol0lFbqrYNMtLxyCJ5oKW33zPD6OULjooi4XN90PDIJ9Vmg== - -
2023-12-13 22:03:49.446 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:03:49.446 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:03:49.448 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api)'
2023-12-13 22:03:49.448 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.TokenController.GetTokens (WalletApp.Api)'
2023-12-13 22:03:49.448 +01:00 [INF] Route matched with {action = "GetAllTransactions", controller = "TransactionUser"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult`1[WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListResponseDto]]] GetAllTransactions(WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListDto, System.Threading.CancellationToken) on controller WalletApp.Controllers.TransactionUserController (WalletApp.Api).
2023-12-13 22:03:49.449 +01:00 [INF] Route matched with {action = "GetTokens", controller = "Token"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult`1[WalletApp.Application.Common.Token.UpdateRefreshToken.RefreshTokenResponseDto]]] GetTokens(System.String, System.Threading.CancellationToken) on controller WalletApp.Controllers.TokenController (WalletApp.Api).
2023-12-13 22:03:49.453 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2023-12-13 22:03:49.455 +01:00 [INF] Executed action WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api) in 2.7948ms
2023-12-13 22:03:49.457 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api)'
2023-12-13 22:03:49.458 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [t].[Id], [t].[IpAddress], [t].[RefreshToken], [t].[RefreshTokenExpiryTime], [t].[UserIdentityId]
FROM [Tokens] AS [t]
WHERE [t].[RefreshToken] = @__refreshToken_0
2023-12-13 22:03:49.458 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/transactionUser/transactionList?paginationParamsDto=%7B%22pageNumber%22:1,%22pageSize%22:1%7D - - - 400 - application/problem+json;+charset=utf-8 21.9594ms
2023-12-13 22:03:49.462 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IconType], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__get_Item_0
2023-12-13 22:03:49.486 +01:00 [INF] Executed DbCommand (21ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Tokens] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2023-12-13 22:03:49.504 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-12-13 22:03:49.506 +01:00 [INF] Executing OkObjectResult, writing value of type 'WalletApp.Application.Common.ApiResult`1[[WalletApp.Application.Common.Token.UpdateRefreshToken.RefreshTokenResponseDto, WalletApp.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-13 22:03:49.507 +01:00 [INF] Executed action WalletApp.Controllers.TokenController.GetTokens (WalletApp.Api) in 52.7881ms
2023-12-13 22:03:49.508 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.TokenController.GetTokens (WalletApp.Api)'
2023-12-13 22:03:49.509 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/token/8JJqFGQfeIKfNIq6+cTmG1F8CK65JBP+paBskjqol0lFbqrYNMtLxyCJ5oKW33zPD6OULjooi4XN90PDIJ9Vmg== - - - 200 - application/json;+charset=utf-8 67.5666ms
2023-12-13 22:04:54.984 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/token/8mHhkjSgtROaUS9uYVdQ3Z133XrZJLTJ7ZLNiwXGj1xGANEBTDBYpJ1eU1hL+5ZOO6njoiKhBlmiReVBQu+A== - -
2023-12-13 22:04:54.985 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:04:54.987 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/token/8mHhkjSgtROaUS9uYVdQ3Z133XrZJLTJ7ZLNiwXGj1xGANEBTDBYpJ1eU1hL+5ZOO6njoiKhBlmiReVBQu+A== - - - 204 - - 2.5814ms
2023-12-13 22:04:54.988 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/token/8mHhkjSgtROaUS9uYVdQ3Z133XrZJLTJ7ZLNiwXGj1xGANEBTDBYpJ1eU1hL+5ZOO6njoiKhBlmiReVBQu+A== - -
2023-12-13 22:04:54.990 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:04:54.991 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.TokenController.GetTokens (WalletApp.Api)'
2023-12-13 22:04:54.992 +01:00 [INF] Route matched with {action = "GetTokens", controller = "Token"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult`1[WalletApp.Application.Common.Token.UpdateRefreshToken.RefreshTokenResponseDto]]] GetTokens(System.String, System.Threading.CancellationToken) on controller WalletApp.Controllers.TokenController (WalletApp.Api).
2023-12-13 22:04:54.999 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [t].[Id], [t].[IpAddress], [t].[RefreshToken], [t].[RefreshTokenExpiryTime], [t].[UserIdentityId]
FROM [Tokens] AS [t]
WHERE [t].[RefreshToken] = @__refreshToken_0
2023-12-13 22:04:55.003 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IconType], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__get_Item_0
2023-12-13 22:04:55.014 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Tokens] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2023-12-13 22:04:55.018 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-12-13 22:04:55.021 +01:00 [INF] Executing OkObjectResult, writing value of type 'WalletApp.Application.Common.ApiResult`1[[WalletApp.Application.Common.Token.UpdateRefreshToken.RefreshTokenResponseDto, WalletApp.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-13 22:04:55.022 +01:00 [INF] Executed action WalletApp.Controllers.TokenController.GetTokens (WalletApp.Api) in 27.3104ms
2023-12-13 22:04:55.023 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.TokenController.GetTokens (WalletApp.Api)'
2023-12-13 22:04:55.024 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/token/8mHhkjSgtROaUS9uYVdQ3Z133XrZJLTJ7ZLNiwXGj1xGANEBTDBYpJ1eU1hL+5ZOO6njoiKhBlmiReVBQu+A== - - - 200 - application/json;+charset=utf-8 35.9393ms
2023-12-13 22:04:55.061 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/transactionUser/transactionList?paginationParamsDto=%7B%22pageNumber%22:1,%22pageSize%22:1%7D - -
2023-12-13 22:04:55.062 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:04:55.063 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/transactionUser/transactionList?paginationParamsDto=%7B%22pageNumber%22:1,%22pageSize%22:1%7D - - - 204 - - 2.3359ms
2023-12-13 22:04:55.065 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/transactionUser/transactionList?paginationParamsDto=%7B%22pageNumber%22:1,%22pageSize%22:1%7D - -
2023-12-13 22:04:55.080 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:04:55.082 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api)'
2023-12-13 22:04:55.083 +01:00 [INF] Route matched with {action = "GetAllTransactions", controller = "TransactionUser"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult`1[WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListResponseDto]]] GetAllTransactions(WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListDto, System.Threading.CancellationToken) on controller WalletApp.Controllers.TransactionUserController (WalletApp.Api).
2023-12-13 22:04:55.086 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2023-12-13 22:04:55.088 +01:00 [INF] Executed action WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api) in 2.7222ms
2023-12-13 22:04:55.089 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api)'
2023-12-13 22:04:55.090 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/transactionUser/transactionList?paginationParamsDto=%7B%22pageNumber%22:1,%22pageSize%22:1%7D - - - 400 - application/problem+json;+charset=utf-8 24.7251ms
2023-12-13 22:05:58.143 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/token/zntsbqi6CX2MVYUDXhwRNeuWwnzxY8kC5ou27PotnyrqhmKVYsL8zgn+fNrJtEAMNUxF5vl7E1sYp4wZqY3d5Q== - -
2023-12-13 22:05:58.148 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:05:58.149 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/token/zntsbqi6CX2MVYUDXhwRNeuWwnzxY8kC5ou27PotnyrqhmKVYsL8zgn+fNrJtEAMNUxF5vl7E1sYp4wZqY3d5Q== - - - 204 - - 6.6280ms
2023-12-13 22:05:58.151 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/token/zntsbqi6CX2MVYUDXhwRNeuWwnzxY8kC5ou27PotnyrqhmKVYsL8zgn+fNrJtEAMNUxF5vl7E1sYp4wZqY3d5Q== - -
2023-12-13 22:05:58.152 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:05:58.153 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.TokenController.GetTokens (WalletApp.Api)'
2023-12-13 22:05:58.154 +01:00 [INF] Route matched with {action = "GetTokens", controller = "Token"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult`1[WalletApp.Application.Common.Token.UpdateRefreshToken.RefreshTokenResponseDto]]] GetTokens(System.String, System.Threading.CancellationToken) on controller WalletApp.Controllers.TokenController (WalletApp.Api).
2023-12-13 22:05:58.188 +01:00 [INF] Executed DbCommand (31ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [t].[Id], [t].[IpAddress], [t].[RefreshToken], [t].[RefreshTokenExpiryTime], [t].[UserIdentityId]
FROM [Tokens] AS [t]
WHERE [t].[RefreshToken] = @__refreshToken_0
2023-12-13 22:05:58.193 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IconType], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__get_Item_0
2023-12-13 22:05:58.203 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Tokens] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2023-12-13 22:05:58.208 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-12-13 22:05:58.211 +01:00 [INF] Executing OkObjectResult, writing value of type 'WalletApp.Application.Common.ApiResult`1[[WalletApp.Application.Common.Token.UpdateRefreshToken.RefreshTokenResponseDto, WalletApp.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-13 22:05:58.213 +01:00 [INF] Executed action WalletApp.Controllers.TokenController.GetTokens (WalletApp.Api) in 57.7843ms
2023-12-13 22:05:58.215 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.TokenController.GetTokens (WalletApp.Api)'
2023-12-13 22:05:58.217 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/token/zntsbqi6CX2MVYUDXhwRNeuWwnzxY8kC5ou27PotnyrqhmKVYsL8zgn+fNrJtEAMNUxF5vl7E1sYp4wZqY3d5Q== - - - 200 - application/json;+charset=utf-8 66.1514ms
2023-12-13 22:05:58.241 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/transactionUser/transactionList?paginationParamsDto=%7B%22pageNumber%22:1,%22pageSize%22:1%7D - -
2023-12-13 22:05:58.242 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:05:58.243 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/transactionUser/transactionList?paginationParamsDto=%7B%22pageNumber%22:1,%22pageSize%22:1%7D - - - 204 - - 2.3993ms
2023-12-13 22:05:58.245 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/transactionUser/transactionList?paginationParamsDto=%7B%22pageNumber%22:1,%22pageSize%22:1%7D - -
2023-12-13 22:05:58.250 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:05:58.251 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api)'
2023-12-13 22:05:58.252 +01:00 [INF] Route matched with {action = "GetAllTransactions", controller = "TransactionUser"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult`1[WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListResponseDto]]] GetAllTransactions(WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListDto, System.Threading.CancellationToken) on controller WalletApp.Controllers.TransactionUserController (WalletApp.Api).
2023-12-13 22:05:58.254 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2023-12-13 22:05:58.255 +01:00 [INF] Executed action WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api) in 1.8058ms
2023-12-13 22:05:58.257 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api)'
2023-12-13 22:05:58.258 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/transactionUser/transactionList?paginationParamsDto=%7B%22pageNumber%22:1,%22pageSize%22:1%7D - - - 400 - application/problem+json;+charset=utf-8 12.8868ms
2023-12-13 22:07:03.114 +01:00 [INF] User profile is available. Using 'C:\Users\maste\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-12-13 22:07:03.267 +01:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2023-12-13 22:07:03.268 +01:00 [INF] Quartz Scheduler created
2023-12-13 22:07:03.269 +01:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2023-12-13 22:07:03.270 +01:00 [INF] RAMJobStore initialized.
2023-12-13 22:07:03.271 +01:00 [INF] Quartz Scheduler 3.7.0.0 - 'QuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2023-12-13 22:07:03.272 +01:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2023-12-13 22:07:03.273 +01:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2023-12-13 22:07:03.282 +01:00 [INF] Adding 1 jobs, 1 triggers.
2023-12-13 22:07:03.286 +01:00 [INF] Adding job: DEFAULT.NBP
2023-12-13 22:07:03.387 +01:00 [INF] Now listening on: http://localhost:5238
2023-12-13 22:07:03.389 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-13 22:07:03.394 +01:00 [INF] Hosting environment: Development
2023-12-13 22:07:03.396 +01:00 [INF] Content root path: C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api
2023-12-13 22:07:03.397 +01:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2023-12-13 22:07:03.593 +01:00 [INF] Start processing HTTP request GET http://api.nbp.pl/api/exchangerates/tables/c
2023-12-13 22:07:03.595 +01:00 [INF] Sending HTTP request GET http://api.nbp.pl/api/exchangerates/tables/c
2023-12-13 22:07:03.777 +01:00 [INF] Received HTTP response headers after 175.2922ms - 200
2023-12-13 22:07:03.782 +01:00 [INF] End processing HTTP request after 193.7005ms - 200
2023-12-13 22:07:03.809 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/swagger - -
2023-12-13 22:07:03.863 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/swagger - - - 301 0 - 57.0136ms
2023-12-13 22:07:03.869 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/swagger/index.html - -
2023-12-13 22:07:03.946 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/swagger/index.html - - - 200 - text/html;charset=utf-8 76.6988ms
2023-12-13 22:07:03.962 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/swagger/swagger-ui.css - -
2023-12-13 22:07:03.963 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/swagger/swagger-ui-standalone-preset.js - -
2023-12-13 22:07:03.963 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/swagger/swagger-ui-bundle.js - -
2023-12-13 22:07:04.015 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2023-12-13 22:07:04.015 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2023-12-13 22:07:04.021 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/swagger/swagger-ui.css - - - 200 144929 text/css 59.3263ms
2023-12-13 22:07:04.022 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/swagger/swagger-ui-standalone-preset.js - - - 200 312163 text/javascript 59.7541ms
2023-12-13 22:07:04.027 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2023-12-13 22:07:04.031 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/swagger/swagger-ui-bundle.js - - - 200 1061536 text/javascript 69.3468ms
2023-12-13 22:07:04.222 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/swagger/v1/swagger.json - -
2023-12-13 22:07:04.231 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/swagger/favicon-32x32.png - -
2023-12-13 22:07:04.232 +01:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2023-12-13 22:07:04.234 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/swagger/favicon-32x32.png - - - 200 628 image/png 2.5445ms
2023-12-13 22:07:04.357 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 134.9336ms
2023-12-13 22:07:05.363 +01:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Ask], [c].[Bid], [c].[Code], [c].[CratedBy], [c].[CreatedTime], [c].[CurrencyName], [c].[DeletedBy], [c].[DeletedTime], [c].[IsDeleted], [c].[ModifiedBy], [c].[ModifiedTime], [c].[TradingDate]
FROM [Currencies] AS [c]
2023-12-13 22:07:05.847 +01:00 [ERR] Job DEFAULT.NBP threw an unhandled Exception: 
System.NullReferenceException: Object reference not set to an instance of an object.
   at WalletApp.Application.Common.Currency.UpdateCurrency.UpdateCurrencyCommandHandler.Handle(UpdateCurrencyCommand request, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Common\Currency\UpdateCurrency\UpdateCurrencyCommandHandler.cs:line 27
   at WalletApp.Application.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Behaviours\ValidationBehaviour.cs:line 22
   at WalletApp.Infractructure.Quartz.CallToNbpApiJob.Execute(IJobExecutionContext context) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Infrastructure\Quartz\CallToNbpApiJob.cs:line 20
   at Quartz.Core.JobRunShell.Run(CancellationToken cancellationToken)
2023-12-13 22:07:05.858 +01:00 [ERR] Job DEFAULT.NBP threw an exception.
Quartz.SchedulerException: Job threw an unhandled exception.
 ---> System.NullReferenceException: Object reference not set to an instance of an object.
   at WalletApp.Application.Common.Currency.UpdateCurrency.UpdateCurrencyCommandHandler.Handle(UpdateCurrencyCommand request, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Common\Currency\UpdateCurrency\UpdateCurrencyCommandHandler.cs:line 27
   at WalletApp.Application.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Behaviours\ValidationBehaviour.cs:line 22
   at WalletApp.Infractructure.Quartz.CallToNbpApiJob.Execute(IJobExecutionContext context) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Infrastructure\Quartz\CallToNbpApiJob.cs:line 20
   at Quartz.Core.JobRunShell.Run(CancellationToken cancellationToken)
   --- End of inner exception stack trace --- [See nested exception: System.NullReferenceException: Object reference not set to an instance of an object.
   at WalletApp.Application.Common.Currency.UpdateCurrency.UpdateCurrencyCommandHandler.Handle(UpdateCurrencyCommand request, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Common\Currency\UpdateCurrency\UpdateCurrencyCommandHandler.cs:line 27
   at WalletApp.Application.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Behaviours\ValidationBehaviour.cs:line 22
   at WalletApp.Infractructure.Quartz.CallToNbpApiJob.Execute(IJobExecutionContext context) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Infrastructure\Quartz\CallToNbpApiJob.cs:line 20
   at Quartz.Core.JobRunShell.Run(CancellationToken cancellationToken)]
2023-12-13 22:10:17.072 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=1&PaginationParamsDto.PageSize=1 - -
2023-12-13 22:10:17.072 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/token/KqW9ew7q8LtE3ZL5LmJmcksM5M624hPFtVI2nqhsCHL3dwA1ci4aFwSh0DyEBvc0x2ERVojsDiLtVkg1zAoDgg== - -
2023-12-13 22:10:17.082 +01:00 [WRN] Failed to determine the https port for redirect.
2023-12-13 22:10:17.089 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:10:17.089 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:10:17.091 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=1&PaginationParamsDto.PageSize=1 - - - 204 - - 22.3081ms
2023-12-13 22:10:17.091 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/token/KqW9ew7q8LtE3ZL5LmJmcksM5M624hPFtVI2nqhsCHL3dwA1ci4aFwSh0DyEBvc0x2ERVojsDiLtVkg1zAoDgg== - - - 204 - - 22.3060ms
2023-12-13 22:10:17.095 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=1&PaginationParamsDto.PageSize=1 - -
2023-12-13 22:10:17.095 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/token/KqW9ew7q8LtE3ZL5LmJmcksM5M624hPFtVI2nqhsCHL3dwA1ci4aFwSh0DyEBvc0x2ERVojsDiLtVkg1zAoDgg== - -
2023-12-13 22:10:17.100 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:10:17.100 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:10:17.327 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.TokenController.GetTokens (WalletApp.Api)'
2023-12-13 22:10:17.345 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api)'
2023-12-13 22:10:17.352 +01:00 [INF] Route matched with {action = "GetTokens", controller = "Token"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult`1[WalletApp.Application.Common.Token.UpdateRefreshToken.RefreshTokenResponseDto]]] GetTokens(System.String, System.Threading.CancellationToken) on controller WalletApp.Controllers.TokenController (WalletApp.Api).
2023-12-13 22:10:17.354 +01:00 [INF] Route matched with {action = "GetAllTransactions", controller = "TransactionUser"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult`1[WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListResponseDto]]] GetAllTransactions(WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListDto, System.Threading.CancellationToken) on controller WalletApp.Controllers.TransactionUserController (WalletApp.Api).
2023-12-13 22:10:17.502 +01:00 [INF] Executed DbCommand (22ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [t].[Id], [t].[IpAddress], [t].[RefreshToken], [t].[RefreshTokenExpiryTime], [t].[UserIdentityId]
FROM [Tokens] AS [t]
WHERE [t].[RefreshToken] = @__refreshToken_0
2023-12-13 22:10:17.526 +01:00 [INF] Executed DbCommand (28ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Transactions] AS [t]
        WHERE [t].[UserIdentityId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-12-13 22:10:17.545 +01:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2023-12-13 22:10:17.547 +01:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2023-12-13 22:10:17.556 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IconType], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__get_Item_0
2023-12-13 22:10:17.737 +01:00 [INF] Executed action WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api) in 377.6121ms
2023-12-13 22:10:17.740 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api)'
2023-12-13 22:10:17.790 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<Transaction>()
    .Where(t => t.UserIdentityId == __userId_0)
    .Skip(__p_1)
    .Take(__p_2)
    .Reverse()' could not be translated. Additional information: 'Reverse' could not be translated to the server because there is no ordering on the server side. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.<VisitMethodCall>g__CheckTranslated|15_0(ShapedQueryExpression translated, <>c__DisplayClass15_0&)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at WalletApp.Application.utils.PagedList`1.ToPagedList(IQueryable`1 source, PaginationParamsDto paginationParamsDto, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\utils\PagedList.cs:line 38
   at WalletApp.Persistance.Repositories.TransactionRepository.GetTransactionList(Guid userId, PaginationParamsDto paginationParamsDto, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\Repositories\TransactionRepository.cs:line 34
   at WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListQueryHandler.Handle(GetTransactionListQuery request, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Common\Transaction\GetTransactionList\GetTransactionListQueryHandler.cs:line 22
   at WalletApp.Controllers.TransactionUserController.GetAllTransactions(GetTransactionListDto dto, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api\Controllers\TransactionUserController.cs:line 63
   at lambda_method168(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at WalletApp.Middleware.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api\Middleware\AuthorizationMiddlewareResultHandler.cs:line 39
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at WalletApp.Middleware.ValidationErrorsMiddleware.InvokeAsync(HttpContext context) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api\Middleware\ValidationErrorsMiddleware.cs:line 19
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-12-13 22:10:17.813 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=1&PaginationParamsDto.PageSize=1 - - - 500 - text/plain;+charset=utf-8 718.3834ms
2023-12-13 22:10:17.935 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Tokens] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2023-12-13 22:10:17.975 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-12-13 22:10:17.995 +01:00 [INF] Executing OkObjectResult, writing value of type 'WalletApp.Application.Common.ApiResult`1[[WalletApp.Application.Common.Token.UpdateRefreshToken.RefreshTokenResponseDto, WalletApp.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-13 22:10:18.002 +01:00 [INF] Executed action WalletApp.Controllers.TokenController.GetTokens (WalletApp.Api) in 647.5883ms
2023-12-13 22:10:18.004 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.TokenController.GetTokens (WalletApp.Api)'
2023-12-13 22:10:18.007 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/token/KqW9ew7q8LtE3ZL5LmJmcksM5M624hPFtVI2nqhsCHL3dwA1ci4aFwSh0DyEBvc0x2ERVojsDiLtVkg1zAoDgg== - - - 200 - application/json;+charset=utf-8 911.9185ms
2023-12-13 22:10:42.188 +01:00 [INF] User profile is available. Using 'C:\Users\maste\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-12-13 22:10:42.340 +01:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2023-12-13 22:10:42.351 +01:00 [INF] Quartz Scheduler created
2023-12-13 22:10:42.352 +01:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2023-12-13 22:10:42.353 +01:00 [INF] RAMJobStore initialized.
2023-12-13 22:10:42.355 +01:00 [INF] Quartz Scheduler 3.7.0.0 - 'QuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2023-12-13 22:10:42.356 +01:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2023-12-13 22:10:42.357 +01:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2023-12-13 22:10:42.369 +01:00 [INF] Adding 1 jobs, 1 triggers.
2023-12-13 22:10:42.372 +01:00 [INF] Adding job: DEFAULT.NBP
2023-12-13 22:10:42.474 +01:00 [INF] Now listening on: http://localhost:5238
2023-12-13 22:10:42.475 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-13 22:10:42.480 +01:00 [INF] Hosting environment: Development
2023-12-13 22:10:42.481 +01:00 [INF] Content root path: C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api
2023-12-13 22:10:42.484 +01:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2023-12-13 22:10:42.734 +01:00 [INF] Start processing HTTP request GET http://api.nbp.pl/api/exchangerates/tables/c
2023-12-13 22:10:42.738 +01:00 [INF] Sending HTTP request GET http://api.nbp.pl/api/exchangerates/tables/c
2023-12-13 22:10:42.748 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/swagger/index.html - -
2023-12-13 22:10:42.878 +01:00 [INF] Received HTTP response headers after 135.7625ms - 200
2023-12-13 22:10:42.883 +01:00 [INF] End processing HTTP request after 161.0289ms - 200
2023-12-13 22:10:42.903 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/swagger/index.html - - - 200 - text/html;charset=utf-8 159.3484ms
2023-12-13 22:10:43.104 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/swagger/v1/swagger.json - -
2023-12-13 22:10:43.230 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 125.5708ms
2023-12-13 22:10:44.273 +01:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Ask], [c].[Bid], [c].[Code], [c].[CratedBy], [c].[CreatedTime], [c].[CurrencyName], [c].[DeletedBy], [c].[DeletedTime], [c].[IsDeleted], [c].[ModifiedBy], [c].[ModifiedTime], [c].[TradingDate]
FROM [Currencies] AS [c]
2023-12-13 22:10:44.725 +01:00 [ERR] Job DEFAULT.NBP threw an unhandled Exception: 
System.NullReferenceException: Object reference not set to an instance of an object.
   at WalletApp.Application.Common.Currency.UpdateCurrency.UpdateCurrencyCommandHandler.Handle(UpdateCurrencyCommand request, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Common\Currency\UpdateCurrency\UpdateCurrencyCommandHandler.cs:line 27
   at WalletApp.Application.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Behaviours\ValidationBehaviour.cs:line 22
   at WalletApp.Infractructure.Quartz.CallToNbpApiJob.Execute(IJobExecutionContext context) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Infrastructure\Quartz\CallToNbpApiJob.cs:line 20
   at Quartz.Core.JobRunShell.Run(CancellationToken cancellationToken)
2023-12-13 22:10:44.735 +01:00 [ERR] Job DEFAULT.NBP threw an exception.
Quartz.SchedulerException: Job threw an unhandled exception.
 ---> System.NullReferenceException: Object reference not set to an instance of an object.
   at WalletApp.Application.Common.Currency.UpdateCurrency.UpdateCurrencyCommandHandler.Handle(UpdateCurrencyCommand request, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Common\Currency\UpdateCurrency\UpdateCurrencyCommandHandler.cs:line 27
   at WalletApp.Application.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Behaviours\ValidationBehaviour.cs:line 22
   at WalletApp.Infractructure.Quartz.CallToNbpApiJob.Execute(IJobExecutionContext context) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Infrastructure\Quartz\CallToNbpApiJob.cs:line 20
   at Quartz.Core.JobRunShell.Run(CancellationToken cancellationToken)
   --- End of inner exception stack trace --- [See nested exception: System.NullReferenceException: Object reference not set to an instance of an object.
   at WalletApp.Application.Common.Currency.UpdateCurrency.UpdateCurrencyCommandHandler.Handle(UpdateCurrencyCommand request, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Common\Currency\UpdateCurrency\UpdateCurrencyCommandHandler.cs:line 27
   at WalletApp.Application.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Behaviours\ValidationBehaviour.cs:line 22
   at WalletApp.Infractructure.Quartz.CallToNbpApiJob.Execute(IJobExecutionContext context) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Infrastructure\Quartz\CallToNbpApiJob.cs:line 20
   at Quartz.Core.JobRunShell.Run(CancellationToken cancellationToken)]
2023-12-13 22:11:00.569 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=1&PaginationParamsDto.PageSize=1 - -
2023-12-13 22:11:00.575 +01:00 [WRN] Failed to determine the https port for redirect.
2023-12-13 22:11:00.579 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:11:00.583 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=1&PaginationParamsDto.PageSize=1 - - - 204 - - 14.5962ms
2023-12-13 22:11:00.587 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=1&PaginationParamsDto.PageSize=1 - -
2023-12-13 22:11:00.593 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:11:00.834 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api)'
2023-12-13 22:11:00.851 +01:00 [INF] Route matched with {action = "GetAllTransactions", controller = "TransactionUser"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult`1[WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListResponseDto]]] GetAllTransactions(WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListDto, System.Threading.CancellationToken) on controller WalletApp.Controllers.TransactionUserController (WalletApp.Api).
2023-12-13 22:11:37.794 +01:00 [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Transactions] AS [t]
        WHERE [t].[UserIdentityId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-12-13 22:11:37.813 +01:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2023-12-13 22:11:37.814 +01:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2023-12-13 22:11:41.273 +01:00 [INF] Executed action WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api) in 40417.1152ms
2023-12-13 22:11:41.275 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api)'
2023-12-13 22:11:41.320 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<Transaction>()
    .Where(t => t.UserIdentityId == __userId_0)
    .Skip(__p_1)
    .Take(__p_2)
    .Reverse()' could not be translated. Additional information: 'Reverse' could not be translated to the server because there is no ordering on the server side. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.<VisitMethodCall>g__CheckTranslated|15_0(ShapedQueryExpression translated, <>c__DisplayClass15_0&)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at WalletApp.Application.utils.PagedList`1.ToPagedList(IQueryable`1 source, PaginationParamsDto paginationParamsDto, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\utils\PagedList.cs:line 38
   at WalletApp.Persistance.Repositories.TransactionRepository.GetTransactionList(Guid userId, PaginationParamsDto paginationParamsDto, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\Repositories\TransactionRepository.cs:line 34
   at WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListQueryHandler.Handle(GetTransactionListQuery request, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Common\Transaction\GetTransactionList\GetTransactionListQueryHandler.cs:line 22
   at WalletApp.Controllers.TransactionUserController.GetAllTransactions(GetTransactionListDto dto, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api\Controllers\TransactionUserController.cs:line 63
   at lambda_method160(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at WalletApp.Middleware.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api\Middleware\AuthorizationMiddlewareResultHandler.cs:line 39
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at WalletApp.Middleware.ValidationErrorsMiddleware.InvokeAsync(HttpContext context) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api\Middleware\ValidationErrorsMiddleware.cs:line 19
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-12-13 22:11:41.339 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=1&PaginationParamsDto.PageSize=1 - - - 500 - text/plain;+charset=utf-8 40751.7329ms
2023-12-13 22:12:12.229 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/token/2euWsOelN4hSlGfR5AqvTXc1D1OQBl8KxhucFNyJO4qFRaHJVFuKn4Y2t0kQgDKpWA7BUOhrER2rHIoes0Eg== - -
2023-12-13 22:12:12.230 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:12:12.231 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/token/2euWsOelN4hSlGfR5AqvTXc1D1OQBl8KxhucFNyJO4qFRaHJVFuKn4Y2t0kQgDKpWA7BUOhrER2rHIoes0Eg== - - - 204 - - 5.1900ms
2023-12-13 22:12:12.232 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/token/2euWsOelN4hSlGfR5AqvTXc1D1OQBl8KxhucFNyJO4qFRaHJVFuKn4Y2t0kQgDKpWA7BUOhrER2rHIoes0Eg== - -
2023-12-13 22:12:12.238 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:12:12.241 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.TokenController.GetTokens (WalletApp.Api)'
2023-12-13 22:12:12.245 +01:00 [INF] Route matched with {action = "GetTokens", controller = "Token"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult`1[WalletApp.Application.Common.Token.UpdateRefreshToken.RefreshTokenResponseDto]]] GetTokens(System.String, System.Threading.CancellationToken) on controller WalletApp.Controllers.TokenController (WalletApp.Api).
2023-12-13 22:12:12.289 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [t].[Id], [t].[IpAddress], [t].[RefreshToken], [t].[RefreshTokenExpiryTime], [t].[UserIdentityId]
FROM [Tokens] AS [t]
WHERE [t].[RefreshToken] = @__refreshToken_0
2023-12-13 22:12:12.334 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IconType], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__get_Item_0
2023-12-13 22:12:12.484 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Tokens] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2023-12-13 22:12:12.521 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-12-13 22:12:12.543 +01:00 [INF] Executing OkObjectResult, writing value of type 'WalletApp.Application.Common.ApiResult`1[[WalletApp.Application.Common.Token.UpdateRefreshToken.RefreshTokenResponseDto, WalletApp.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-13 22:12:12.550 +01:00 [INF] Executed action WalletApp.Controllers.TokenController.GetTokens (WalletApp.Api) in 303.859ms
2023-12-13 22:12:12.552 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.TokenController.GetTokens (WalletApp.Api)'
2023-12-13 22:12:12.557 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/token/2euWsOelN4hSlGfR5AqvTXc1D1OQBl8KxhucFNyJO4qFRaHJVFuKn4Y2t0kQgDKpWA7BUOhrER2rHIoes0Eg== - - - 200 - application/json;+charset=utf-8 324.8680ms
2023-12-13 22:12:12.600 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=1&PaginationParamsDto.PageSize=1 - -
2023-12-13 22:12:12.601 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:12:12.601 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=1&PaginationParamsDto.PageSize=1 - - - 204 - - 1.6323ms
2023-12-13 22:12:12.603 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=1&PaginationParamsDto.PageSize=1 - -
2023-12-13 22:12:12.604 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:12:12.607 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api)'
2023-12-13 22:12:12.609 +01:00 [INF] Route matched with {action = "GetAllTransactions", controller = "TransactionUser"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult`1[WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListResponseDto]]] GetAllTransactions(WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListDto, System.Threading.CancellationToken) on controller WalletApp.Controllers.TransactionUserController (WalletApp.Api).
2023-12-13 22:12:54.082 +01:00 [INF] Executed DbCommand (32ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoryId], [t].[CratedBy], [t].[CreatedTime], [t].[CurrencyId], [t].[Date], [t].[DefaultTransactionId], [t].[DeletedBy], [t].[DeletedTime], [t].[Description], [t].[GroupId], [t].[IsDefault], [t].[IsDeleted], [t].[ModifiedBy], [t].[ModifiedTime], [t].[Price], [t].[Title], [t].[UserIdentityId], [c].[Id], [c].[Ask], [c].[Bid], [c].[Code], [c].[CratedBy], [c].[CreatedTime], [c].[CurrencyName], [c].[DeletedBy], [c].[DeletedTime], [c].[IsDeleted], [c].[ModifiedBy], [c].[ModifiedTime], [c].[TradingDate], [c0].[Id], [c0].[CratedBy], [c0].[CreatedTime], [c0].[DeletedBy], [c0].[DeletedTime], [c0].[GroupId], [c0].[IsDeleted], [c0].[ModifiedBy], [c0].[ModifiedTime], [c0].[Name], [c0].[UserIdentityId]
FROM [Transactions] AS [t]
INNER JOIN [Currencies] AS [c] ON [t].[CurrencyId] = [c].[Id]
INNER JOIN [Categories] AS [c0] ON [t].[CategoryId] = [c0].[Id]
WHERE [t].[UserIdentityId] = @__userId_0
2023-12-13 22:13:03.670 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Transactions] AS [t]
        WHERE [t].[UserIdentityId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-12-13 22:13:03.673 +01:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2023-12-13 22:13:03.673 +01:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2023-12-13 22:13:11.021 +01:00 [INF] Executed action WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api) in 58410.6229ms
2023-12-13 22:13:11.022 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api)'
2023-12-13 22:13:11.071 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<Transaction>()
    .Where(t => t.UserIdentityId == __userId_0)
    .Skip(__p_1)
    .Take(__p_2)
    .Reverse()' could not be translated. Additional information: 'Reverse' could not be translated to the server because there is no ordering on the server side. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.<VisitMethodCall>g__CheckTranslated|15_0(ShapedQueryExpression translated, <>c__DisplayClass15_0&)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at WalletApp.Application.utils.PagedList`1.ToPagedList(IQueryable`1 source, PaginationParamsDto paginationParamsDto, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\utils\PagedList.cs:line 38
   at WalletApp.Persistance.Repositories.TransactionRepository.GetTransactionList(Guid userId, PaginationParamsDto paginationParamsDto, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\Repositories\TransactionRepository.cs:line 34
   at WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListQueryHandler.Handle(GetTransactionListQuery request, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Common\Transaction\GetTransactionList\GetTransactionListQueryHandler.cs:line 22
   at WalletApp.Controllers.TransactionUserController.GetAllTransactions(GetTransactionListDto dto, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api\Controllers\TransactionUserController.cs:line 63
   at lambda_method160(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at WalletApp.Middleware.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api\Middleware\AuthorizationMiddlewareResultHandler.cs:line 39
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at WalletApp.Middleware.ValidationErrorsMiddleware.InvokeAsync(HttpContext context) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api\Middleware\ValidationErrorsMiddleware.cs:line 19
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-12-13 22:13:11.081 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=1&PaginationParamsDto.PageSize=1 - - - 500 - text/plain;+charset=utf-8 58478.4285ms
2023-12-13 22:13:25.230 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/token/BAImMXrAZLvuStNJ4X3HXCnymw3A19HmjPMKcU8Ejdh3GxvfFs8bcM7rXkkmYWXMjfslzeBeBb5nggzmOXLomg== - -
2023-12-13 22:13:25.231 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:13:25.233 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/token/BAImMXrAZLvuStNJ4X3HXCnymw3A19HmjPMKcU8Ejdh3GxvfFs8bcM7rXkkmYWXMjfslzeBeBb5nggzmOXLomg== - - - 204 - - 2.5435ms
2023-12-13 22:13:25.236 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/token/BAImMXrAZLvuStNJ4X3HXCnymw3A19HmjPMKcU8Ejdh3GxvfFs8bcM7rXkkmYWXMjfslzeBeBb5nggzmOXLomg== - -
2023-12-13 22:13:25.247 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:13:25.248 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.TokenController.GetTokens (WalletApp.Api)'
2023-12-13 22:13:25.250 +01:00 [INF] Route matched with {action = "GetTokens", controller = "Token"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult`1[WalletApp.Application.Common.Token.UpdateRefreshToken.RefreshTokenResponseDto]]] GetTokens(System.String, System.Threading.CancellationToken) on controller WalletApp.Controllers.TokenController (WalletApp.Api).
2023-12-13 22:13:25.258 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [t].[Id], [t].[IpAddress], [t].[RefreshToken], [t].[RefreshTokenExpiryTime], [t].[UserIdentityId]
FROM [Tokens] AS [t]
WHERE [t].[RefreshToken] = @__refreshToken_0
2023-12-13 22:13:25.264 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IconType], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__get_Item_0
2023-12-13 22:13:25.277 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Tokens] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2023-12-13 22:13:25.281 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-12-13 22:13:25.285 +01:00 [INF] Executing OkObjectResult, writing value of type 'WalletApp.Application.Common.ApiResult`1[[WalletApp.Application.Common.Token.UpdateRefreshToken.RefreshTokenResponseDto, WalletApp.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-13 22:13:25.286 +01:00 [INF] Executed action WalletApp.Controllers.TokenController.GetTokens (WalletApp.Api) in 34.0505ms
2023-12-13 22:13:25.288 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.TokenController.GetTokens (WalletApp.Api)'
2023-12-13 22:13:25.289 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/token/BAImMXrAZLvuStNJ4X3HXCnymw3A19HmjPMKcU8Ejdh3GxvfFs8bcM7rXkkmYWXMjfslzeBeBb5nggzmOXLomg== - - - 200 - application/json;+charset=utf-8 53.3611ms
2023-12-13 22:13:25.329 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=1&PaginationParamsDto.PageSize=1 - -
2023-12-13 22:13:25.330 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:13:25.330 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=1&PaginationParamsDto.PageSize=1 - - - 204 - - 1.7245ms
2023-12-13 22:13:25.332 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=1&PaginationParamsDto.PageSize=1 - -
2023-12-13 22:13:25.333 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:13:25.334 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api)'
2023-12-13 22:13:25.335 +01:00 [INF] Route matched with {action = "GetAllTransactions", controller = "TransactionUser"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult`1[WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListResponseDto]]] GetAllTransactions(WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListDto, System.Threading.CancellationToken) on controller WalletApp.Controllers.TransactionUserController (WalletApp.Api).
2023-12-13 22:13:32.754 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Transactions] AS [t]
        WHERE [t].[UserIdentityId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-12-13 22:13:40.979 +01:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2023-12-13 22:13:40.981 +01:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2023-12-13 22:13:41.005 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[CategoryId], [t0].[CratedBy], [t0].[CreatedTime], [t0].[CurrencyId], [t0].[Date], [t0].[DefaultTransactionId], [t0].[DeletedBy], [t0].[DeletedTime], [t0].[Description], [t0].[GroupId], [t0].[IsDefault], [t0].[IsDeleted], [t0].[ModifiedBy], [t0].[ModifiedTime], [t0].[Price], [t0].[Title], [t0].[UserIdentityId], [c].[Id], [c].[Ask], [c].[Bid], [c].[Code], [c].[CratedBy], [c].[CreatedTime], [c].[CurrencyName], [c].[DeletedBy], [c].[DeletedTime], [c].[IsDeleted], [c].[ModifiedBy], [c].[ModifiedTime], [c].[TradingDate], [c0].[Id], [c0].[CratedBy], [c0].[CreatedTime], [c0].[DeletedBy], [c0].[DeletedTime], [c0].[GroupId], [c0].[IsDeleted], [c0].[ModifiedBy], [c0].[ModifiedTime], [c0].[Name], [c0].[UserIdentityId]
FROM (
    SELECT [t].[Id], [t].[CategoryId], [t].[CratedBy], [t].[CreatedTime], [t].[CurrencyId], [t].[Date], [t].[DefaultTransactionId], [t].[DeletedBy], [t].[DeletedTime], [t].[Description], [t].[GroupId], [t].[IsDefault], [t].[IsDeleted], [t].[ModifiedBy], [t].[ModifiedTime], [t].[Price], [t].[Title], [t].[UserIdentityId]
    FROM [Transactions] AS [t]
    WHERE [t].[UserIdentityId] = @__userId_0
    ORDER BY (SELECT 1)
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t0]
INNER JOIN [Currencies] AS [c] ON [t0].[CurrencyId] = [c].[Id]
INNER JOIN [Categories] AS [c0] ON [t0].[CategoryId] = [c0].[Id]
2023-12-13 22:13:55.474 +01:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2023-12-13 22:13:55.474 +01:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2023-12-13 22:13:59.002 +01:00 [INF] Executed action WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api) in 33665.2224ms
2023-12-13 22:13:59.004 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api)'
2023-12-13 22:13:59.050 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<Transaction>()
    .Where(t => t.UserIdentityId == __userId_0)
    .Skip(__p_1)
    .Take(__p_2)
    .Reverse()' could not be translated. Additional information: 'Reverse' could not be translated to the server because there is no ordering on the server side. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.<VisitMethodCall>g__CheckTranslated|15_0(ShapedQueryExpression translated, <>c__DisplayClass15_0&)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at WalletApp.Application.utils.PagedList`1.ToPagedList(IQueryable`1 source, PaginationParamsDto paginationParamsDto, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\utils\PagedList.cs:line 38
   at WalletApp.Persistance.Repositories.TransactionRepository.GetTransactionList(Guid userId, PaginationParamsDto paginationParamsDto, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\Repositories\TransactionRepository.cs:line 34
   at WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListQueryHandler.Handle(GetTransactionListQuery request, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Common\Transaction\GetTransactionList\GetTransactionListQueryHandler.cs:line 22
   at WalletApp.Controllers.TransactionUserController.GetAllTransactions(GetTransactionListDto dto, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api\Controllers\TransactionUserController.cs:line 63
   at lambda_method160(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at WalletApp.Middleware.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api\Middleware\AuthorizationMiddlewareResultHandler.cs:line 39
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at WalletApp.Middleware.ValidationErrorsMiddleware.InvokeAsync(HttpContext context) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api\Middleware\ValidationErrorsMiddleware.cs:line 19
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-12-13 22:13:59.061 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=1&PaginationParamsDto.PageSize=1 - - - 500 - text/plain;+charset=utf-8 33729.3723ms
2023-12-13 22:15:02.568 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=1&PaginationParamsDto.PageSize=5 - -
2023-12-13 22:15:02.574 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:15:02.575 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=1&PaginationParamsDto.PageSize=5 - - - 204 - - 7.3336ms
2023-12-13 22:15:02.576 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=1&PaginationParamsDto.PageSize=5 - -
2023-12-13 22:15:02.577 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:15:02.578 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api)'
2023-12-13 22:15:02.580 +01:00 [INF] Route matched with {action = "GetAllTransactions", controller = "TransactionUser"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult`1[WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListResponseDto]]] GetAllTransactions(WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListDto, System.Threading.CancellationToken) on controller WalletApp.Controllers.TransactionUserController (WalletApp.Api).
2023-12-13 22:15:10.298 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Transactions] AS [t]
        WHERE [t].[UserIdentityId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-12-13 22:15:10.302 +01:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2023-12-13 22:15:10.303 +01:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2023-12-13 22:15:10.442 +01:00 [INF] Executed action WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api) in 7860.0748ms
2023-12-13 22:15:10.443 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api)'
2023-12-13 22:15:10.493 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<Transaction>()
    .Where(t => t.UserIdentityId == __userId_0)
    .Skip(__p_1)
    .Take(__p_2)
    .Reverse()' could not be translated. Additional information: 'Reverse' could not be translated to the server because there is no ordering on the server side. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.<VisitMethodCall>g__CheckTranslated|15_0(ShapedQueryExpression translated, <>c__DisplayClass15_0&)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at WalletApp.Application.utils.PagedList`1.ToPagedList(IQueryable`1 source, PaginationParamsDto paginationParamsDto, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\utils\PagedList.cs:line 38
   at WalletApp.Persistance.Repositories.TransactionRepository.GetTransactionList(Guid userId, PaginationParamsDto paginationParamsDto, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\Repositories\TransactionRepository.cs:line 34
   at WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListQueryHandler.Handle(GetTransactionListQuery request, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Common\Transaction\GetTransactionList\GetTransactionListQueryHandler.cs:line 22
   at WalletApp.Controllers.TransactionUserController.GetAllTransactions(GetTransactionListDto dto, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api\Controllers\TransactionUserController.cs:line 63
   at lambda_method160(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at WalletApp.Middleware.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api\Middleware\AuthorizationMiddlewareResultHandler.cs:line 39
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at WalletApp.Middleware.ValidationErrorsMiddleware.InvokeAsync(HttpContext context) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api\Middleware\ValidationErrorsMiddleware.cs:line 19
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-12-13 22:15:10.503 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=1&PaginationParamsDto.PageSize=5 - - - 500 - text/plain;+charset=utf-8 7927.3332ms
2023-12-13 22:16:12.035 +01:00 [INF] User profile is available. Using 'C:\Users\maste\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-12-13 22:16:12.146 +01:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2023-12-13 22:16:12.148 +01:00 [INF] Quartz Scheduler created
2023-12-13 22:16:12.149 +01:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2023-12-13 22:16:12.150 +01:00 [INF] RAMJobStore initialized.
2023-12-13 22:16:12.151 +01:00 [INF] Quartz Scheduler 3.7.0.0 - 'QuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2023-12-13 22:16:12.152 +01:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2023-12-13 22:16:12.153 +01:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2023-12-13 22:16:12.163 +01:00 [INF] Adding 1 jobs, 1 triggers.
2023-12-13 22:16:12.167 +01:00 [INF] Adding job: DEFAULT.NBP
2023-12-13 22:16:12.205 +01:00 [INF] Now listening on: http://localhost:5238
2023-12-13 22:16:12.207 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-13 22:16:12.207 +01:00 [INF] Hosting environment: Development
2023-12-13 22:16:12.208 +01:00 [INF] Content root path: C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api
2023-12-13 22:16:12.210 +01:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2023-12-13 22:16:12.322 +01:00 [INF] Start processing HTTP request GET http://api.nbp.pl/api/exchangerates/tables/c
2023-12-13 22:16:12.324 +01:00 [INF] Sending HTTP request GET http://api.nbp.pl/api/exchangerates/tables/c
2023-12-13 22:16:12.447 +01:00 [INF] Received HTTP response headers after 119.2411ms - 200
2023-12-13 22:16:12.451 +01:00 [INF] End processing HTTP request after 131.8046ms - 200
2023-12-13 22:16:12.850 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/swagger/index.html - -
2023-12-13 22:16:12.941 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/swagger/index.html - - - 200 - text/html;charset=utf-8 92.7969ms
2023-12-13 22:16:13.042 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/swagger/v1/swagger.json - -
2023-12-13 22:16:13.158 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 116.3321ms
2023-12-13 22:16:13.609 +01:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Ask], [c].[Bid], [c].[Code], [c].[CratedBy], [c].[CreatedTime], [c].[CurrencyName], [c].[DeletedBy], [c].[DeletedTime], [c].[IsDeleted], [c].[ModifiedBy], [c].[ModifiedTime], [c].[TradingDate]
FROM [Currencies] AS [c]
2023-12-13 22:16:13.684 +01:00 [ERR] Job DEFAULT.NBP threw an unhandled Exception: 
System.NullReferenceException: Object reference not set to an instance of an object.
   at WalletApp.Application.Common.Currency.UpdateCurrency.UpdateCurrencyCommandHandler.Handle(UpdateCurrencyCommand request, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Common\Currency\UpdateCurrency\UpdateCurrencyCommandHandler.cs:line 27
   at WalletApp.Application.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Behaviours\ValidationBehaviour.cs:line 22
   at WalletApp.Infractructure.Quartz.CallToNbpApiJob.Execute(IJobExecutionContext context) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Infrastructure\Quartz\CallToNbpApiJob.cs:line 20
   at Quartz.Core.JobRunShell.Run(CancellationToken cancellationToken)
2023-12-13 22:16:13.692 +01:00 [ERR] Job DEFAULT.NBP threw an exception.
Quartz.SchedulerException: Job threw an unhandled exception.
 ---> System.NullReferenceException: Object reference not set to an instance of an object.
   at WalletApp.Application.Common.Currency.UpdateCurrency.UpdateCurrencyCommandHandler.Handle(UpdateCurrencyCommand request, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Common\Currency\UpdateCurrency\UpdateCurrencyCommandHandler.cs:line 27
   at WalletApp.Application.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Behaviours\ValidationBehaviour.cs:line 22
   at WalletApp.Infractructure.Quartz.CallToNbpApiJob.Execute(IJobExecutionContext context) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Infrastructure\Quartz\CallToNbpApiJob.cs:line 20
   at Quartz.Core.JobRunShell.Run(CancellationToken cancellationToken)
   --- End of inner exception stack trace --- [See nested exception: System.NullReferenceException: Object reference not set to an instance of an object.
   at WalletApp.Application.Common.Currency.UpdateCurrency.UpdateCurrencyCommandHandler.Handle(UpdateCurrencyCommand request, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Common\Currency\UpdateCurrency\UpdateCurrencyCommandHandler.cs:line 27
   at WalletApp.Application.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Behaviours\ValidationBehaviour.cs:line 22
   at WalletApp.Infractructure.Quartz.CallToNbpApiJob.Execute(IJobExecutionContext context) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Infrastructure\Quartz\CallToNbpApiJob.cs:line 20
   at Quartz.Core.JobRunShell.Run(CancellationToken cancellationToken)]
2023-12-13 22:16:21.350 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/token/46GfHsfBYXkhLT2DsGs5G+P6NtpUllux8kfHN08LiQgdkUSYjxszQEgU+XMvSeg7GpeIrD2GhvG6kG1gTOJOQ== - -
2023-12-13 22:16:21.354 +01:00 [WRN] Failed to determine the https port for redirect.
2023-12-13 22:16:21.355 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:16:21.358 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/token/46GfHsfBYXkhLT2DsGs5G+P6NtpUllux8kfHN08LiQgdkUSYjxszQEgU+XMvSeg7GpeIrD2GhvG6kG1gTOJOQ== - - - 204 - - 7.9770ms
2023-12-13 22:16:21.359 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/token/46GfHsfBYXkhLT2DsGs5G+P6NtpUllux8kfHN08LiQgdkUSYjxszQEgU+XMvSeg7GpeIrD2GhvG6kG1gTOJOQ== - -
2023-12-13 22:16:21.362 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:16:21.480 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.TokenController.GetTokens (WalletApp.Api)'
2023-12-13 22:16:21.497 +01:00 [INF] Route matched with {action = "GetTokens", controller = "Token"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult`1[WalletApp.Application.Common.Token.UpdateRefreshToken.RefreshTokenResponseDto]]] GetTokens(System.String, System.Threading.CancellationToken) on controller WalletApp.Controllers.TokenController (WalletApp.Api).
2023-12-13 22:16:21.601 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [t].[Id], [t].[IpAddress], [t].[RefreshToken], [t].[RefreshTokenExpiryTime], [t].[UserIdentityId]
FROM [Tokens] AS [t]
WHERE [t].[RefreshToken] = @__refreshToken_0
2023-12-13 22:16:21.647 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IconType], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__get_Item_0
2023-12-13 22:16:21.786 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Tokens] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2023-12-13 22:16:21.818 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-12-13 22:16:21.831 +01:00 [INF] Executing OkObjectResult, writing value of type 'WalletApp.Application.Common.ApiResult`1[[WalletApp.Application.Common.Token.UpdateRefreshToken.RefreshTokenResponseDto, WalletApp.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-13 22:16:21.840 +01:00 [INF] Executed action WalletApp.Controllers.TokenController.GetTokens (WalletApp.Api) in 338.3392ms
2023-12-13 22:16:21.842 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.TokenController.GetTokens (WalletApp.Api)'
2023-12-13 22:16:21.846 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/token/46GfHsfBYXkhLT2DsGs5G+P6NtpUllux8kfHN08LiQgdkUSYjxszQEgU+XMvSeg7GpeIrD2GhvG6kG1gTOJOQ== - - - 200 - application/json;+charset=utf-8 487.1365ms
2023-12-13 22:16:21.940 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=1&PaginationParamsDto.PageSize=5 - -
2023-12-13 22:16:21.942 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:16:21.944 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=1&PaginationParamsDto.PageSize=5 - - - 204 - - 3.6589ms
2023-12-13 22:16:21.945 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=1&PaginationParamsDto.PageSize=5 - -
2023-12-13 22:16:21.948 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:16:21.957 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api)'
2023-12-13 22:16:21.963 +01:00 [INF] Route matched with {action = "GetAllTransactions", controller = "TransactionUser"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult`1[WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListResponseDto]]] GetAllTransactions(WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListDto, System.Threading.CancellationToken) on controller WalletApp.Controllers.TransactionUserController (WalletApp.Api).
2023-12-13 22:16:22.041 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Transactions] AS [t]
        WHERE [t].[UserIdentityId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-12-13 22:16:22.051 +01:00 [INF] Executed action WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api) in 86.3575ms
2023-12-13 22:16:22.052 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api)'
2023-12-13 22:16:22.053 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<Transaction>()
    .Include(x => x.Currency)
    .Include(x => x.Category)
    .Where(x => x.UserIdentityId == __userId_0)
    .Skip(__p_1)
    .Take(__p_2)
    .OrderDescending()' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.Expand(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryTranslationPreprocessor.Process(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at WalletApp.Application.utils.PagedList`1.ToPagedList(IQueryable`1 source, PaginationParamsDto paginationParamsDto, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\utils\PagedList.cs:line 38
   at WalletApp.Persistance.Repositories.TransactionRepository.GetTransactionList(Guid userId, PaginationParamsDto paginationParamsDto, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\Repositories\TransactionRepository.cs:line 34
   at WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListQueryHandler.Handle(GetTransactionListQuery request, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Common\Transaction\GetTransactionList\GetTransactionListQueryHandler.cs:line 22
   at WalletApp.Controllers.TransactionUserController.GetAllTransactions(GetTransactionListDto dto, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api\Controllers\TransactionUserController.cs:line 63
   at lambda_method419(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at WalletApp.Middleware.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api\Middleware\AuthorizationMiddlewareResultHandler.cs:line 39
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at WalletApp.Middleware.ValidationErrorsMiddleware.InvokeAsync(HttpContext context) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api\Middleware\ValidationErrorsMiddleware.cs:line 19
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-12-13 22:16:22.066 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=1&PaginationParamsDto.PageSize=5 - - - 500 - text/plain;+charset=utf-8 120.5144ms
2023-12-13 22:17:22.445 +01:00 [INF] Application is shutting down...
2023-12-13 22:17:22.455 +01:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED shutting down.
2023-12-13 22:17:22.456 +01:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED paused.
2023-12-13 22:17:22.460 +01:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED Shutdown complete.
2023-12-13 22:17:31.323 +01:00 [INF] User profile is available. Using 'C:\Users\maste\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-12-13 22:17:31.507 +01:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2023-12-13 22:17:31.508 +01:00 [INF] Quartz Scheduler created
2023-12-13 22:17:31.509 +01:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2023-12-13 22:17:31.510 +01:00 [INF] RAMJobStore initialized.
2023-12-13 22:17:31.511 +01:00 [INF] Quartz Scheduler 3.7.0.0 - 'QuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2023-12-13 22:17:31.512 +01:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2023-12-13 22:17:31.513 +01:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2023-12-13 22:17:31.523 +01:00 [INF] Adding 1 jobs, 1 triggers.
2023-12-13 22:17:31.526 +01:00 [INF] Adding job: DEFAULT.NBP
2023-12-13 22:17:31.629 +01:00 [INF] Now listening on: http://localhost:5238
2023-12-13 22:17:31.631 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-13 22:17:31.636 +01:00 [INF] Hosting environment: Development
2023-12-13 22:17:31.637 +01:00 [INF] Content root path: C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api
2023-12-13 22:17:31.638 +01:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2023-12-13 22:17:31.856 +01:00 [INF] Start processing HTTP request GET http://api.nbp.pl/api/exchangerates/tables/c
2023-12-13 22:17:31.859 +01:00 [INF] Sending HTTP request GET http://api.nbp.pl/api/exchangerates/tables/c
2023-12-13 22:17:31.994 +01:00 [INF] Received HTTP response headers after 131.0296ms - 200
2023-12-13 22:17:32.000 +01:00 [INF] End processing HTTP request after 148.4749ms - 200
2023-12-13 22:17:32.029 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/swagger/index.html - -
2023-12-13 22:17:32.145 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/swagger/index.html - - - 200 - text/html;charset=utf-8 119.0460ms
2023-12-13 22:17:32.260 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/swagger/v1/swagger.json - -
2023-12-13 22:17:32.391 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 131.9409ms
2023-12-13 22:17:33.449 +01:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Ask], [c].[Bid], [c].[Code], [c].[CratedBy], [c].[CreatedTime], [c].[CurrencyName], [c].[DeletedBy], [c].[DeletedTime], [c].[IsDeleted], [c].[ModifiedBy], [c].[ModifiedTime], [c].[TradingDate]
FROM [Currencies] AS [c]
2023-12-13 22:17:33.900 +01:00 [ERR] Job DEFAULT.NBP threw an unhandled Exception: 
System.NullReferenceException: Object reference not set to an instance of an object.
   at WalletApp.Application.Common.Currency.UpdateCurrency.UpdateCurrencyCommandHandler.Handle(UpdateCurrencyCommand request, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Common\Currency\UpdateCurrency\UpdateCurrencyCommandHandler.cs:line 27
   at WalletApp.Application.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Behaviours\ValidationBehaviour.cs:line 22
   at WalletApp.Infractructure.Quartz.CallToNbpApiJob.Execute(IJobExecutionContext context) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Infrastructure\Quartz\CallToNbpApiJob.cs:line 20
   at Quartz.Core.JobRunShell.Run(CancellationToken cancellationToken)
2023-12-13 22:17:33.909 +01:00 [ERR] Job DEFAULT.NBP threw an exception.
Quartz.SchedulerException: Job threw an unhandled exception.
 ---> System.NullReferenceException: Object reference not set to an instance of an object.
   at WalletApp.Application.Common.Currency.UpdateCurrency.UpdateCurrencyCommandHandler.Handle(UpdateCurrencyCommand request, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Common\Currency\UpdateCurrency\UpdateCurrencyCommandHandler.cs:line 27
   at WalletApp.Application.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Behaviours\ValidationBehaviour.cs:line 22
   at WalletApp.Infractructure.Quartz.CallToNbpApiJob.Execute(IJobExecutionContext context) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Infrastructure\Quartz\CallToNbpApiJob.cs:line 20
   at Quartz.Core.JobRunShell.Run(CancellationToken cancellationToken)
   --- End of inner exception stack trace --- [See nested exception: System.NullReferenceException: Object reference not set to an instance of an object.
   at WalletApp.Application.Common.Currency.UpdateCurrency.UpdateCurrencyCommandHandler.Handle(UpdateCurrencyCommand request, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Common\Currency\UpdateCurrency\UpdateCurrencyCommandHandler.cs:line 27
   at WalletApp.Application.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Behaviours\ValidationBehaviour.cs:line 22
   at WalletApp.Infractructure.Quartz.CallToNbpApiJob.Execute(IJobExecutionContext context) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Infrastructure\Quartz\CallToNbpApiJob.cs:line 20
   at Quartz.Core.JobRunShell.Run(CancellationToken cancellationToken)]
2023-12-13 22:17:40.675 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/token/EmiC9lV3P2u1Ymr5O+v72c0nZmk5oiByLWGl1emuCQzcpG+B5yS7+toRLXYqs6srHTOHE29zRwPRSvkqP5IHw== - -
2023-12-13 22:17:40.681 +01:00 [WRN] Failed to determine the https port for redirect.
2023-12-13 22:17:40.684 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:17:40.687 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/token/EmiC9lV3P2u1Ymr5O+v72c0nZmk5oiByLWGl1emuCQzcpG+B5yS7+toRLXYqs6srHTOHE29zRwPRSvkqP5IHw== - - - 204 - - 11.4715ms
2023-12-13 22:17:40.688 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/token/EmiC9lV3P2u1Ymr5O+v72c0nZmk5oiByLWGl1emuCQzcpG+B5yS7+toRLXYqs6srHTOHE29zRwPRSvkqP5IHw== - -
2023-12-13 22:17:40.690 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:17:40.897 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.TokenController.GetTokens (WalletApp.Api)'
2023-12-13 22:17:40.915 +01:00 [INF] Route matched with {action = "GetTokens", controller = "Token"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult`1[WalletApp.Application.Common.Token.UpdateRefreshToken.RefreshTokenResponseDto]]] GetTokens(System.String, System.Threading.CancellationToken) on controller WalletApp.Controllers.TokenController (WalletApp.Api).
2023-12-13 22:17:41.065 +01:00 [INF] Executed DbCommand (20ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [t].[Id], [t].[IpAddress], [t].[RefreshToken], [t].[RefreshTokenExpiryTime], [t].[UserIdentityId]
FROM [Tokens] AS [t]
WHERE [t].[RefreshToken] = @__refreshToken_0
2023-12-13 22:17:41.112 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IconType], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__get_Item_0
2023-12-13 22:17:41.244 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Tokens] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2023-12-13 22:17:41.283 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-12-13 22:17:41.303 +01:00 [INF] Executing OkObjectResult, writing value of type 'WalletApp.Application.Common.ApiResult`1[[WalletApp.Application.Common.Token.UpdateRefreshToken.RefreshTokenResponseDto, WalletApp.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-13 22:17:41.314 +01:00 [INF] Executed action WalletApp.Controllers.TokenController.GetTokens (WalletApp.Api) in 393.268ms
2023-12-13 22:17:41.315 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.TokenController.GetTokens (WalletApp.Api)'
2023-12-13 22:17:41.323 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/token/EmiC9lV3P2u1Ymr5O+v72c0nZmk5oiByLWGl1emuCQzcpG+B5yS7+toRLXYqs6srHTOHE29zRwPRSvkqP5IHw== - - - 200 - application/json;+charset=utf-8 634.3228ms
2023-12-13 22:17:41.342 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=1&PaginationParamsDto.PageSize=5 - -
2023-12-13 22:17:41.345 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:17:41.347 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=1&PaginationParamsDto.PageSize=5 - - - 204 - - 4.4799ms
2023-12-13 22:17:41.348 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=1&PaginationParamsDto.PageSize=5 - -
2023-12-13 22:17:41.350 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:17:41.377 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api)'
2023-12-13 22:17:41.383 +01:00 [INF] Route matched with {action = "GetAllTransactions", controller = "TransactionUser"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult`1[WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListResponseDto]]] GetAllTransactions(WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListDto, System.Threading.CancellationToken) on controller WalletApp.Controllers.TransactionUserController (WalletApp.Api).
2023-12-13 22:17:45.365 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Transactions] AS [t]
        WHERE [t].[UserIdentityId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-12-13 22:17:45.379 +01:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2023-12-13 22:17:45.381 +01:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2023-12-13 22:17:45.402 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[CategoryId], [t0].[CratedBy], [t0].[CreatedTime], [t0].[CurrencyId], [t0].[Date], [t0].[DefaultTransactionId], [t0].[DeletedBy], [t0].[DeletedTime], [t0].[Description], [t0].[GroupId], [t0].[IsDefault], [t0].[IsDeleted], [t0].[ModifiedBy], [t0].[ModifiedTime], [t0].[Price], [t0].[Title], [t0].[UserIdentityId], [c].[Id], [c].[Ask], [c].[Bid], [c].[Code], [c].[CratedBy], [c].[CreatedTime], [c].[CurrencyName], [c].[DeletedBy], [c].[DeletedTime], [c].[IsDeleted], [c].[ModifiedBy], [c].[ModifiedTime], [c].[TradingDate], [c0].[Id], [c0].[CratedBy], [c0].[CreatedTime], [c0].[DeletedBy], [c0].[DeletedTime], [c0].[GroupId], [c0].[IsDeleted], [c0].[ModifiedBy], [c0].[ModifiedTime], [c0].[Name], [c0].[UserIdentityId]
FROM (
    SELECT [t].[Id], [t].[CategoryId], [t].[CratedBy], [t].[CreatedTime], [t].[CurrencyId], [t].[Date], [t].[DefaultTransactionId], [t].[DeletedBy], [t].[DeletedTime], [t].[Description], [t].[GroupId], [t].[IsDefault], [t].[IsDeleted], [t].[ModifiedBy], [t].[ModifiedTime], [t].[Price], [t].[Title], [t].[UserIdentityId]
    FROM [Transactions] AS [t]
    WHERE [t].[UserIdentityId] = @__userId_0
    ORDER BY (SELECT 1)
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t0]
INNER JOIN [Currencies] AS [c] ON [t0].[CurrencyId] = [c].[Id]
INNER JOIN [Categories] AS [c0] ON [t0].[CategoryId] = [c0].[Id]
2023-12-13 22:17:45.478 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Transactions] AS [t]
WHERE [t].[UserIdentityId] = @__userId_0
2023-12-13 22:17:45.483 +01:00 [INF] Executing OkObjectResult, writing value of type 'WalletApp.Application.Common.ApiResult`1[[WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListResponseDto, WalletApp.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-13 22:17:45.500 +01:00 [INF] Executed action WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api) in 4115.3268ms
2023-12-13 22:17:45.502 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api)'
2023-12-13 22:17:45.503 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=1&PaginationParamsDto.PageSize=5 - - - 200 - application/json;+charset=utf-8 4155.6077ms
2023-12-13 22:18:07.974 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/user/actualMoney - -
2023-12-13 22:18:07.982 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/transaction?type=0&pageSize=2&pageNumber=1 - -
2023-12-13 22:18:07.982 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:18:07.986 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:18:07.990 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/transaction/incomeChart?type=0 - -
2023-12-13 22:18:07.986 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/transaction/moneyChart?type=0 - -
2023-12-13 22:18:07.991 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/user/actualMoney - - - 204 - - 17.6916ms
2023-12-13 22:18:07.995 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/transaction?type=0&pageSize=2&pageNumber=1 - - - 204 - - 13.9391ms
2023-12-13 22:18:07.998 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:18:07.992 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/transaction/costChart?type=0 - -
2023-12-13 22:18:08.002 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:18:08.003 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/transaction?type=0&pageSize=2&pageNumber=1 - -
2023-12-13 22:18:08.006 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/transaction/moneyChart?type=0 - - - 204 - - 20.2789ms
2023-12-13 22:18:08.003 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/user/actualMoney - -
2023-12-13 22:18:08.004 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/transaction/incomeChart?type=0 - - - 204 - - 14.4903ms
2023-12-13 22:18:08.005 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:18:08.011 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:18:08.011 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/transaction/moneyChart?type=0 - -
2023-12-13 22:18:08.011 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:18:08.012 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/transaction/incomeChart?type=0 - -
2023-12-13 22:18:08.013 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/transaction/costChart?type=0 - - - 204 - - 21.5266ms
2023-12-13 22:18:08.015 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:18:08.015 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/transaction?type=0&pageSize=2&pageNumber=1 - - - 404 0 - 11.9209ms
2023-12-13 22:18:08.015 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/user/actualMoney - - - 404 0 - 11.8592ms
2023-12-13 22:18:08.016 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:18:08.017 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/transaction/moneyChart?type=0 - - - 404 0 - 6.4032ms
2023-12-13 22:18:08.016 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/transaction/costChart?type=0 - -
2023-12-13 22:18:08.020 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/transaction/incomeChart?type=0 - - - 404 0 - 7.3419ms
2023-12-13 22:18:08.021 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:18:08.022 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/transaction/costChart?type=0 - - - 404 0 - 5.9445ms
2023-12-13 22:18:09.234 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=1&PaginationParamsDto.PageSize=5 - -
2023-12-13 22:18:09.235 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:18:09.237 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=1&PaginationParamsDto.PageSize=5 - - - 204 - - 3.0269ms
2023-12-13 22:18:09.238 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=1&PaginationParamsDto.PageSize=5 - -
2023-12-13 22:18:09.239 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:18:09.243 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api)'
2023-12-13 22:18:09.244 +01:00 [INF] Route matched with {action = "GetAllTransactions", controller = "TransactionUser"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult`1[WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListResponseDto]]] GetAllTransactions(WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListDto, System.Threading.CancellationToken) on controller WalletApp.Controllers.TransactionUserController (WalletApp.Api).
2023-12-13 22:18:18.010 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Transactions] AS [t]
        WHERE [t].[UserIdentityId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-12-13 22:18:18.016 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[CategoryId], [t0].[CratedBy], [t0].[CreatedTime], [t0].[CurrencyId], [t0].[Date], [t0].[DefaultTransactionId], [t0].[DeletedBy], [t0].[DeletedTime], [t0].[Description], [t0].[GroupId], [t0].[IsDefault], [t0].[IsDeleted], [t0].[ModifiedBy], [t0].[ModifiedTime], [t0].[Price], [t0].[Title], [t0].[UserIdentityId], [c].[Id], [c].[Ask], [c].[Bid], [c].[Code], [c].[CratedBy], [c].[CreatedTime], [c].[CurrencyName], [c].[DeletedBy], [c].[DeletedTime], [c].[IsDeleted], [c].[ModifiedBy], [c].[ModifiedTime], [c].[TradingDate], [c0].[Id], [c0].[CratedBy], [c0].[CreatedTime], [c0].[DeletedBy], [c0].[DeletedTime], [c0].[GroupId], [c0].[IsDeleted], [c0].[ModifiedBy], [c0].[ModifiedTime], [c0].[Name], [c0].[UserIdentityId]
FROM (
    SELECT [t].[Id], [t].[CategoryId], [t].[CratedBy], [t].[CreatedTime], [t].[CurrencyId], [t].[Date], [t].[DefaultTransactionId], [t].[DeletedBy], [t].[DeletedTime], [t].[Description], [t].[GroupId], [t].[IsDefault], [t].[IsDeleted], [t].[ModifiedBy], [t].[ModifiedTime], [t].[Price], [t].[Title], [t].[UserIdentityId]
    FROM [Transactions] AS [t]
    WHERE [t].[UserIdentityId] = @__userId_0
    ORDER BY (SELECT 1)
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t0]
INNER JOIN [Currencies] AS [c] ON [t0].[CurrencyId] = [c].[Id]
INNER JOIN [Categories] AS [c0] ON [t0].[CategoryId] = [c0].[Id]
2023-12-13 22:18:18.020 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Transactions] AS [t]
WHERE [t].[UserIdentityId] = @__userId_0
2023-12-13 22:18:18.022 +01:00 [INF] Executing OkObjectResult, writing value of type 'WalletApp.Application.Common.ApiResult`1[[WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListResponseDto, WalletApp.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-13 22:18:18.023 +01:00 [INF] Executed action WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api) in 8777.1247ms
2023-12-13 22:18:18.024 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api)'
2023-12-13 22:18:18.024 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=1&PaginationParamsDto.PageSize=5 - - - 200 - application/json;+charset=utf-8 8786.5781ms
2023-12-13 22:18:21.882 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=0&PaginationParamsDto.PageSize=5 - -
2023-12-13 22:18:21.882 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:18:21.883 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=0&PaginationParamsDto.PageSize=5 - - - 204 - - 1.6310ms
2023-12-13 22:18:21.884 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=0&PaginationParamsDto.PageSize=5 - -
2023-12-13 22:18:21.885 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:18:21.887 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api)'
2023-12-13 22:18:21.888 +01:00 [INF] Route matched with {action = "GetAllTransactions", controller = "TransactionUser"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult`1[WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListResponseDto]]] GetAllTransactions(WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListDto, System.Threading.CancellationToken) on controller WalletApp.Controllers.TransactionUserController (WalletApp.Api).
2023-12-13 22:18:21.893 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Transactions] AS [t]
        WHERE [t].[UserIdentityId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-12-13 22:18:21.902 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[CategoryId], [t0].[CratedBy], [t0].[CreatedTime], [t0].[CurrencyId], [t0].[Date], [t0].[DefaultTransactionId], [t0].[DeletedBy], [t0].[DeletedTime], [t0].[Description], [t0].[GroupId], [t0].[IsDefault], [t0].[IsDeleted], [t0].[ModifiedBy], [t0].[ModifiedTime], [t0].[Price], [t0].[Title], [t0].[UserIdentityId], [c].[Id], [c].[Ask], [c].[Bid], [c].[Code], [c].[CratedBy], [c].[CreatedTime], [c].[CurrencyName], [c].[DeletedBy], [c].[DeletedTime], [c].[IsDeleted], [c].[ModifiedBy], [c].[ModifiedTime], [c].[TradingDate], [c0].[Id], [c0].[CratedBy], [c0].[CreatedTime], [c0].[DeletedBy], [c0].[DeletedTime], [c0].[GroupId], [c0].[IsDeleted], [c0].[ModifiedBy], [c0].[ModifiedTime], [c0].[Name], [c0].[UserIdentityId]
FROM (
    SELECT [t].[Id], [t].[CategoryId], [t].[CratedBy], [t].[CreatedTime], [t].[CurrencyId], [t].[Date], [t].[DefaultTransactionId], [t].[DeletedBy], [t].[DeletedTime], [t].[Description], [t].[GroupId], [t].[IsDefault], [t].[IsDeleted], [t].[ModifiedBy], [t].[ModifiedTime], [t].[Price], [t].[Title], [t].[UserIdentityId]
    FROM [Transactions] AS [t]
    WHERE [t].[UserIdentityId] = @__userId_0
    ORDER BY (SELECT 1)
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t0]
INNER JOIN [Currencies] AS [c] ON [t0].[CurrencyId] = [c].[Id]
INNER JOIN [Categories] AS [c0] ON [t0].[CategoryId] = [c0].[Id]
2023-12-13 22:18:21.912 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'WalletApp.Persistance.WalletDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): The offset specified in a OFFSET clause may not be negative.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:a3e70851-5bab-414b-bd6d-63f95ae288de
Error Number:10742,State:1,Class:15
Microsoft.Data.SqlClient.SqlException (0x80131904): The offset specified in a OFFSET clause may not be negative.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:a3e70851-5bab-414b-bd6d-63f95ae288de
Error Number:10742,State:1,Class:15
2023-12-13 22:18:22.064 +01:00 [INF] Executed action WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api) in 174.6706ms
2023-12-13 22:18:22.065 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api)'
2023-12-13 22:18:22.207 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): The offset specified in a OFFSET clause may not be negative.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at WalletApp.Application.utils.PagedList`1.ToPagedList(IQueryable`1 source, PaginationParamsDto paginationParamsDto, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\utils\PagedList.cs:line 38
   at WalletApp.Persistance.Repositories.TransactionRepository.GetTransactionList(Guid userId, PaginationParamsDto paginationParamsDto, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\Repositories\TransactionRepository.cs:line 34
   at WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListQueryHandler.Handle(GetTransactionListQuery request, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Common\Transaction\GetTransactionList\GetTransactionListQueryHandler.cs:line 22
   at WalletApp.Controllers.TransactionUserController.GetAllTransactions(GetTransactionListDto dto, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api\Controllers\TransactionUserController.cs:line 63
   at lambda_method419(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at WalletApp.Middleware.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api\Middleware\AuthorizationMiddlewareResultHandler.cs:line 39
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at WalletApp.Middleware.ValidationErrorsMiddleware.InvokeAsync(HttpContext context) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api\Middleware\ValidationErrorsMiddleware.cs:line 19
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:a3e70851-5bab-414b-bd6d-63f95ae288de
Error Number:10742,State:1,Class:15
2023-12-13 22:18:22.224 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=0&PaginationParamsDto.PageSize=5 - - - 500 - text/plain;+charset=utf-8 339.6204ms
2023-12-13 22:18:40.245 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=1&PaginationParamsDto.PageSize=5 - -
2023-12-13 22:18:40.249 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:18:40.250 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=1&PaginationParamsDto.PageSize=5 - - - 204 - - 5.3194ms
2023-12-13 22:18:40.257 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=1&PaginationParamsDto.PageSize=5 - -
2023-12-13 22:18:40.261 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:18:40.263 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api)'
2023-12-13 22:18:40.265 +01:00 [INF] Route matched with {action = "GetAllTransactions", controller = "TransactionUser"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult`1[WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListResponseDto]]] GetAllTransactions(WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListDto, System.Threading.CancellationToken) on controller WalletApp.Controllers.TransactionUserController (WalletApp.Api).
2023-12-13 22:18:40.271 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Transactions] AS [t]
        WHERE [t].[UserIdentityId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-12-13 22:18:40.276 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[CategoryId], [t0].[CratedBy], [t0].[CreatedTime], [t0].[CurrencyId], [t0].[Date], [t0].[DefaultTransactionId], [t0].[DeletedBy], [t0].[DeletedTime], [t0].[Description], [t0].[GroupId], [t0].[IsDefault], [t0].[IsDeleted], [t0].[ModifiedBy], [t0].[ModifiedTime], [t0].[Price], [t0].[Title], [t0].[UserIdentityId], [c].[Id], [c].[Ask], [c].[Bid], [c].[Code], [c].[CratedBy], [c].[CreatedTime], [c].[CurrencyName], [c].[DeletedBy], [c].[DeletedTime], [c].[IsDeleted], [c].[ModifiedBy], [c].[ModifiedTime], [c].[TradingDate], [c0].[Id], [c0].[CratedBy], [c0].[CreatedTime], [c0].[DeletedBy], [c0].[DeletedTime], [c0].[GroupId], [c0].[IsDeleted], [c0].[ModifiedBy], [c0].[ModifiedTime], [c0].[Name], [c0].[UserIdentityId]
FROM (
    SELECT [t].[Id], [t].[CategoryId], [t].[CratedBy], [t].[CreatedTime], [t].[CurrencyId], [t].[Date], [t].[DefaultTransactionId], [t].[DeletedBy], [t].[DeletedTime], [t].[Description], [t].[GroupId], [t].[IsDefault], [t].[IsDeleted], [t].[ModifiedBy], [t].[ModifiedTime], [t].[Price], [t].[Title], [t].[UserIdentityId]
    FROM [Transactions] AS [t]
    WHERE [t].[UserIdentityId] = @__userId_0
    ORDER BY (SELECT 1)
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t0]
INNER JOIN [Currencies] AS [c] ON [t0].[CurrencyId] = [c].[Id]
INNER JOIN [Categories] AS [c0] ON [t0].[CategoryId] = [c0].[Id]
2023-12-13 22:18:40.282 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Transactions] AS [t]
WHERE [t].[UserIdentityId] = @__userId_0
2023-12-13 22:18:40.284 +01:00 [INF] Executing OkObjectResult, writing value of type 'WalletApp.Application.Common.ApiResult`1[[WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListResponseDto, WalletApp.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-13 22:18:40.286 +01:00 [INF] Executed action WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api) in 17.9651ms
2023-12-13 22:18:40.287 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api)'
2023-12-13 22:18:40.288 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=1&PaginationParamsDto.PageSize=5 - - - 200 - application/json;+charset=utf-8 35.3579ms
2023-12-13 22:18:42.658 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=0&PaginationParamsDto.PageSize=5 - -
2023-12-13 22:18:42.659 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:18:42.660 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=0&PaginationParamsDto.PageSize=5 - - - 204 - - 1.9591ms
2023-12-13 22:18:42.662 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=0&PaginationParamsDto.PageSize=5 - -
2023-12-13 22:18:42.663 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:18:42.664 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api)'
2023-12-13 22:18:42.665 +01:00 [INF] Route matched with {action = "GetAllTransactions", controller = "TransactionUser"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult`1[WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListResponseDto]]] GetAllTransactions(WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListDto, System.Threading.CancellationToken) on controller WalletApp.Controllers.TransactionUserController (WalletApp.Api).
2023-12-13 22:18:42.669 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Transactions] AS [t]
        WHERE [t].[UserIdentityId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-12-13 22:18:42.674 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[CategoryId], [t0].[CratedBy], [t0].[CreatedTime], [t0].[CurrencyId], [t0].[Date], [t0].[DefaultTransactionId], [t0].[DeletedBy], [t0].[DeletedTime], [t0].[Description], [t0].[GroupId], [t0].[IsDefault], [t0].[IsDeleted], [t0].[ModifiedBy], [t0].[ModifiedTime], [t0].[Price], [t0].[Title], [t0].[UserIdentityId], [c].[Id], [c].[Ask], [c].[Bid], [c].[Code], [c].[CratedBy], [c].[CreatedTime], [c].[CurrencyName], [c].[DeletedBy], [c].[DeletedTime], [c].[IsDeleted], [c].[ModifiedBy], [c].[ModifiedTime], [c].[TradingDate], [c0].[Id], [c0].[CratedBy], [c0].[CreatedTime], [c0].[DeletedBy], [c0].[DeletedTime], [c0].[GroupId], [c0].[IsDeleted], [c0].[ModifiedBy], [c0].[ModifiedTime], [c0].[Name], [c0].[UserIdentityId]
FROM (
    SELECT [t].[Id], [t].[CategoryId], [t].[CratedBy], [t].[CreatedTime], [t].[CurrencyId], [t].[Date], [t].[DefaultTransactionId], [t].[DeletedBy], [t].[DeletedTime], [t].[Description], [t].[GroupId], [t].[IsDefault], [t].[IsDeleted], [t].[ModifiedBy], [t].[ModifiedTime], [t].[Price], [t].[Title], [t].[UserIdentityId]
    FROM [Transactions] AS [t]
    WHERE [t].[UserIdentityId] = @__userId_0
    ORDER BY (SELECT 1)
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t0]
INNER JOIN [Currencies] AS [c] ON [t0].[CurrencyId] = [c].[Id]
INNER JOIN [Categories] AS [c0] ON [t0].[CategoryId] = [c0].[Id]
2023-12-13 22:18:42.677 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'WalletApp.Persistance.WalletDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): The offset specified in a OFFSET clause may not be negative.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:a3e70851-5bab-414b-bd6d-63f95ae288de
Error Number:10742,State:1,Class:15
Microsoft.Data.SqlClient.SqlException (0x80131904): The offset specified in a OFFSET clause may not be negative.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:a3e70851-5bab-414b-bd6d-63f95ae288de
Error Number:10742,State:1,Class:15
2023-12-13 22:18:42.829 +01:00 [INF] Executed action WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api) in 162.859ms
2023-12-13 22:18:42.831 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api)'
2023-12-13 22:18:42.961 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): The offset specified in a OFFSET clause may not be negative.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at WalletApp.Application.utils.PagedList`1.ToPagedList(IQueryable`1 source, PaginationParamsDto paginationParamsDto, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\utils\PagedList.cs:line 38
   at WalletApp.Persistance.Repositories.TransactionRepository.GetTransactionList(Guid userId, PaginationParamsDto paginationParamsDto, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\Repositories\TransactionRepository.cs:line 34
   at WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListQueryHandler.Handle(GetTransactionListQuery request, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Common\Transaction\GetTransactionList\GetTransactionListQueryHandler.cs:line 22
   at WalletApp.Controllers.TransactionUserController.GetAllTransactions(GetTransactionListDto dto, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api\Controllers\TransactionUserController.cs:line 63
   at lambda_method419(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at WalletApp.Middleware.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api\Middleware\AuthorizationMiddlewareResultHandler.cs:line 39
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at WalletApp.Middleware.ValidationErrorsMiddleware.InvokeAsync(HttpContext context) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api\Middleware\ValidationErrorsMiddleware.cs:line 19
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:a3e70851-5bab-414b-bd6d-63f95ae288de
Error Number:10742,State:1,Class:15
2023-12-13 22:18:42.973 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=0&PaginationParamsDto.PageSize=5 - - - 500 - text/plain;+charset=utf-8 311.4657ms
2023-12-13 22:18:59.269 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=1&PaginationParamsDto.PageSize=5 - -
2023-12-13 22:18:59.271 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:18:59.273 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=1&PaginationParamsDto.PageSize=5 - - - 204 - - 3.4441ms
2023-12-13 22:18:59.274 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=1&PaginationParamsDto.PageSize=5 - -
2023-12-13 22:18:59.275 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:18:59.277 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api)'
2023-12-13 22:18:59.278 +01:00 [INF] Route matched with {action = "GetAllTransactions", controller = "TransactionUser"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult`1[WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListResponseDto]]] GetAllTransactions(WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListDto, System.Threading.CancellationToken) on controller WalletApp.Controllers.TransactionUserController (WalletApp.Api).
2023-12-13 22:18:59.285 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Transactions] AS [t]
        WHERE [t].[UserIdentityId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-12-13 22:18:59.291 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[CategoryId], [t0].[CratedBy], [t0].[CreatedTime], [t0].[CurrencyId], [t0].[Date], [t0].[DefaultTransactionId], [t0].[DeletedBy], [t0].[DeletedTime], [t0].[Description], [t0].[GroupId], [t0].[IsDefault], [t0].[IsDeleted], [t0].[ModifiedBy], [t0].[ModifiedTime], [t0].[Price], [t0].[Title], [t0].[UserIdentityId], [c].[Id], [c].[Ask], [c].[Bid], [c].[Code], [c].[CratedBy], [c].[CreatedTime], [c].[CurrencyName], [c].[DeletedBy], [c].[DeletedTime], [c].[IsDeleted], [c].[ModifiedBy], [c].[ModifiedTime], [c].[TradingDate], [c0].[Id], [c0].[CratedBy], [c0].[CreatedTime], [c0].[DeletedBy], [c0].[DeletedTime], [c0].[GroupId], [c0].[IsDeleted], [c0].[ModifiedBy], [c0].[ModifiedTime], [c0].[Name], [c0].[UserIdentityId]
FROM (
    SELECT [t].[Id], [t].[CategoryId], [t].[CratedBy], [t].[CreatedTime], [t].[CurrencyId], [t].[Date], [t].[DefaultTransactionId], [t].[DeletedBy], [t].[DeletedTime], [t].[Description], [t].[GroupId], [t].[IsDefault], [t].[IsDeleted], [t].[ModifiedBy], [t].[ModifiedTime], [t].[Price], [t].[Title], [t].[UserIdentityId]
    FROM [Transactions] AS [t]
    WHERE [t].[UserIdentityId] = @__userId_0
    ORDER BY (SELECT 1)
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t0]
INNER JOIN [Currencies] AS [c] ON [t0].[CurrencyId] = [c].[Id]
INNER JOIN [Categories] AS [c0] ON [t0].[CategoryId] = [c0].[Id]
2023-12-13 22:18:59.299 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Transactions] AS [t]
WHERE [t].[UserIdentityId] = @__userId_0
2023-12-13 22:18:59.305 +01:00 [INF] Executing OkObjectResult, writing value of type 'WalletApp.Application.Common.ApiResult`1[[WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListResponseDto, WalletApp.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-13 22:18:59.307 +01:00 [INF] Executed action WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api) in 26.6478ms
2023-12-13 22:18:59.309 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api)'
2023-12-13 22:18:59.310 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=1&PaginationParamsDto.PageSize=5 - - - 200 - application/json;+charset=utf-8 35.7926ms
2023-12-13 22:19:19.834 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=2&PaginationParamsDto.PageSize=5 - -
2023-12-13 22:19:19.835 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:19:19.836 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=2&PaginationParamsDto.PageSize=5 - - - 204 - - 3.7748ms
2023-12-13 22:19:19.840 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=2&PaginationParamsDto.PageSize=5 - -
2023-12-13 22:19:19.845 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:19:19.847 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api)'
2023-12-13 22:19:19.848 +01:00 [INF] Route matched with {action = "GetAllTransactions", controller = "TransactionUser"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult`1[WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListResponseDto]]] GetAllTransactions(WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListDto, System.Threading.CancellationToken) on controller WalletApp.Controllers.TransactionUserController (WalletApp.Api).
2023-12-13 22:19:19.854 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Transactions] AS [t]
        WHERE [t].[UserIdentityId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-12-13 22:19:19.860 +01:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2023-12-13 22:19:19.862 +01:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2023-12-13 22:19:19.888 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[CategoryId], [t0].[CratedBy], [t0].[CreatedTime], [t0].[CurrencyId], [t0].[Date], [t0].[DefaultTransactionId], [t0].[DeletedBy], [t0].[DeletedTime], [t0].[Description], [t0].[GroupId], [t0].[IsDefault], [t0].[IsDeleted], [t0].[ModifiedBy], [t0].[ModifiedTime], [t0].[Price], [t0].[Title], [t0].[UserIdentityId], [c].[Id], [c].[Ask], [c].[Bid], [c].[Code], [c].[CratedBy], [c].[CreatedTime], [c].[CurrencyName], [c].[DeletedBy], [c].[DeletedTime], [c].[IsDeleted], [c].[ModifiedBy], [c].[ModifiedTime], [c].[TradingDate], [c0].[Id], [c0].[CratedBy], [c0].[CreatedTime], [c0].[DeletedBy], [c0].[DeletedTime], [c0].[GroupId], [c0].[IsDeleted], [c0].[ModifiedBy], [c0].[ModifiedTime], [c0].[Name], [c0].[UserIdentityId]
FROM (
    SELECT [t].[Id], [t].[CategoryId], [t].[CratedBy], [t].[CreatedTime], [t].[CurrencyId], [t].[Date], [t].[DefaultTransactionId], [t].[DeletedBy], [t].[DeletedTime], [t].[Description], [t].[GroupId], [t].[IsDefault], [t].[IsDeleted], [t].[ModifiedBy], [t].[ModifiedTime], [t].[Price], [t].[Title], [t].[UserIdentityId]
    FROM [Transactions] AS [t]
    WHERE [t].[UserIdentityId] = @__userId_0
    ORDER BY (SELECT 1)
    OFFSET @__p_1 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t0]
INNER JOIN [Currencies] AS [c] ON [t0].[CurrencyId] = [c].[Id]
INNER JOIN [Categories] AS [c0] ON [t0].[CategoryId] = [c0].[Id]
2023-12-13 22:19:19.894 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Transactions] AS [t]
WHERE [t].[UserIdentityId] = @__userId_0
2023-12-13 22:19:19.898 +01:00 [INF] Executing OkObjectResult, writing value of type 'WalletApp.Application.Common.ApiResult`1[[WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListResponseDto, WalletApp.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-13 22:19:19.904 +01:00 [INF] Executed action WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api) in 54.4014ms
2023-12-13 22:19:19.905 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api)'
2023-12-13 22:19:19.908 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=2&PaginationParamsDto.PageSize=5 - - - 200 - application/json;+charset=utf-8 67.2340ms
2023-12-13 22:19:23.117 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/token/nFgxSXo4kRfUDfAdIPP3gvZGOpytn0siohzMVur5yeW93iyYBGtOZWlqcgqyHVS64U2d6iEheW6n26MW7Xmfw== - -
2023-12-13 22:19:23.118 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:19:23.119 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/token/nFgxSXo4kRfUDfAdIPP3gvZGOpytn0siohzMVur5yeW93iyYBGtOZWlqcgqyHVS64U2d6iEheW6n26MW7Xmfw== - - - 204 - - 1.8998ms
2023-12-13 22:19:23.120 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/token/nFgxSXo4kRfUDfAdIPP3gvZGOpytn0siohzMVur5yeW93iyYBGtOZWlqcgqyHVS64U2d6iEheW6n26MW7Xmfw== - -
2023-12-13 22:19:23.126 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:19:23.128 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.TokenController.GetTokens (WalletApp.Api)'
2023-12-13 22:19:23.129 +01:00 [INF] Route matched with {action = "GetTokens", controller = "Token"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult`1[WalletApp.Application.Common.Token.UpdateRefreshToken.RefreshTokenResponseDto]]] GetTokens(System.String, System.Threading.CancellationToken) on controller WalletApp.Controllers.TokenController (WalletApp.Api).
2023-12-13 22:19:23.137 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [t].[Id], [t].[IpAddress], [t].[RefreshToken], [t].[RefreshTokenExpiryTime], [t].[UserIdentityId]
FROM [Tokens] AS [t]
WHERE [t].[RefreshToken] = @__refreshToken_0
2023-12-13 22:19:23.142 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IconType], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__get_Item_0
2023-12-13 22:19:23.163 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Tokens] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2023-12-13 22:19:23.170 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-12-13 22:19:23.173 +01:00 [INF] Executing OkObjectResult, writing value of type 'WalletApp.Application.Common.ApiResult`1[[WalletApp.Application.Common.Token.UpdateRefreshToken.RefreshTokenResponseDto, WalletApp.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-13 22:19:23.174 +01:00 [INF] Executed action WalletApp.Controllers.TokenController.GetTokens (WalletApp.Api) in 42.2376ms
2023-12-13 22:19:23.175 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.TokenController.GetTokens (WalletApp.Api)'
2023-12-13 22:19:23.176 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/token/nFgxSXo4kRfUDfAdIPP3gvZGOpytn0siohzMVur5yeW93iyYBGtOZWlqcgqyHVS64U2d6iEheW6n26MW7Xmfw== - - - 200 - application/json;+charset=utf-8 55.5873ms
2023-12-13 22:19:23.258 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=3&PaginationParamsDto.PageSize=5 - -
2023-12-13 22:19:23.259 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:19:23.260 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=3&PaginationParamsDto.PageSize=5 - - - 204 - - 1.8398ms
2023-12-13 22:19:23.261 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=3&PaginationParamsDto.PageSize=5 - -
2023-12-13 22:19:23.262 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:19:23.264 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api)'
2023-12-13 22:19:23.265 +01:00 [INF] Route matched with {action = "GetAllTransactions", controller = "TransactionUser"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult`1[WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListResponseDto]]] GetAllTransactions(WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListDto, System.Threading.CancellationToken) on controller WalletApp.Controllers.TransactionUserController (WalletApp.Api).
2023-12-13 22:19:23.269 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Transactions] AS [t]
        WHERE [t].[UserIdentityId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-12-13 22:19:23.274 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[CategoryId], [t0].[CratedBy], [t0].[CreatedTime], [t0].[CurrencyId], [t0].[Date], [t0].[DefaultTransactionId], [t0].[DeletedBy], [t0].[DeletedTime], [t0].[Description], [t0].[GroupId], [t0].[IsDefault], [t0].[IsDeleted], [t0].[ModifiedBy], [t0].[ModifiedTime], [t0].[Price], [t0].[Title], [t0].[UserIdentityId], [c].[Id], [c].[Ask], [c].[Bid], [c].[Code], [c].[CratedBy], [c].[CreatedTime], [c].[CurrencyName], [c].[DeletedBy], [c].[DeletedTime], [c].[IsDeleted], [c].[ModifiedBy], [c].[ModifiedTime], [c].[TradingDate], [c0].[Id], [c0].[CratedBy], [c0].[CreatedTime], [c0].[DeletedBy], [c0].[DeletedTime], [c0].[GroupId], [c0].[IsDeleted], [c0].[ModifiedBy], [c0].[ModifiedTime], [c0].[Name], [c0].[UserIdentityId]
FROM (
    SELECT [t].[Id], [t].[CategoryId], [t].[CratedBy], [t].[CreatedTime], [t].[CurrencyId], [t].[Date], [t].[DefaultTransactionId], [t].[DeletedBy], [t].[DeletedTime], [t].[Description], [t].[GroupId], [t].[IsDefault], [t].[IsDeleted], [t].[ModifiedBy], [t].[ModifiedTime], [t].[Price], [t].[Title], [t].[UserIdentityId]
    FROM [Transactions] AS [t]
    WHERE [t].[UserIdentityId] = @__userId_0
    ORDER BY (SELECT 1)
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t0]
INNER JOIN [Currencies] AS [c] ON [t0].[CurrencyId] = [c].[Id]
INNER JOIN [Categories] AS [c0] ON [t0].[CategoryId] = [c0].[Id]
2023-12-13 22:19:23.278 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Transactions] AS [t]
WHERE [t].[UserIdentityId] = @__userId_0
2023-12-13 22:19:23.281 +01:00 [INF] Executing OkObjectResult, writing value of type 'WalletApp.Application.Common.ApiResult`1[[WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListResponseDto, WalletApp.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-13 22:19:23.282 +01:00 [INF] Executed action WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api) in 15.215ms
2023-12-13 22:19:23.283 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api)'
2023-12-13 22:19:23.284 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=3&PaginationParamsDto.PageSize=5 - - - 200 - application/json;+charset=utf-8 23.1910ms
2023-12-13 22:19:24.818 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=2&PaginationParamsDto.PageSize=5 - -
2023-12-13 22:19:24.819 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:19:24.820 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api)'
2023-12-13 22:19:24.821 +01:00 [INF] Route matched with {action = "GetAllTransactions", controller = "TransactionUser"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult`1[WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListResponseDto]]] GetAllTransactions(WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListDto, System.Threading.CancellationToken) on controller WalletApp.Controllers.TransactionUserController (WalletApp.Api).
2023-12-13 22:19:24.825 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Transactions] AS [t]
        WHERE [t].[UserIdentityId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-12-13 22:19:24.829 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[CategoryId], [t0].[CratedBy], [t0].[CreatedTime], [t0].[CurrencyId], [t0].[Date], [t0].[DefaultTransactionId], [t0].[DeletedBy], [t0].[DeletedTime], [t0].[Description], [t0].[GroupId], [t0].[IsDefault], [t0].[IsDeleted], [t0].[ModifiedBy], [t0].[ModifiedTime], [t0].[Price], [t0].[Title], [t0].[UserIdentityId], [c].[Id], [c].[Ask], [c].[Bid], [c].[Code], [c].[CratedBy], [c].[CreatedTime], [c].[CurrencyName], [c].[DeletedBy], [c].[DeletedTime], [c].[IsDeleted], [c].[ModifiedBy], [c].[ModifiedTime], [c].[TradingDate], [c0].[Id], [c0].[CratedBy], [c0].[CreatedTime], [c0].[DeletedBy], [c0].[DeletedTime], [c0].[GroupId], [c0].[IsDeleted], [c0].[ModifiedBy], [c0].[ModifiedTime], [c0].[Name], [c0].[UserIdentityId]
FROM (
    SELECT [t].[Id], [t].[CategoryId], [t].[CratedBy], [t].[CreatedTime], [t].[CurrencyId], [t].[Date], [t].[DefaultTransactionId], [t].[DeletedBy], [t].[DeletedTime], [t].[Description], [t].[GroupId], [t].[IsDefault], [t].[IsDeleted], [t].[ModifiedBy], [t].[ModifiedTime], [t].[Price], [t].[Title], [t].[UserIdentityId]
    FROM [Transactions] AS [t]
    WHERE [t].[UserIdentityId] = @__userId_0
    ORDER BY (SELECT 1)
    OFFSET @__p_1 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t0]
INNER JOIN [Currencies] AS [c] ON [t0].[CurrencyId] = [c].[Id]
INNER JOIN [Categories] AS [c0] ON [t0].[CategoryId] = [c0].[Id]
2023-12-13 22:19:24.834 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Transactions] AS [t]
WHERE [t].[UserIdentityId] = @__userId_0
2023-12-13 22:19:24.835 +01:00 [INF] Executing OkObjectResult, writing value of type 'WalletApp.Application.Common.ApiResult`1[[WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListResponseDto, WalletApp.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-13 22:19:24.836 +01:00 [INF] Executed action WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api) in 14.1776ms
2023-12-13 22:19:24.837 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api)'
2023-12-13 22:19:24.838 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=2&PaginationParamsDto.PageSize=5 - - - 200 - application/json;+charset=utf-8 19.9850ms
2023-12-13 22:19:36.758 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=1&PaginationParamsDto.PageSize=5 - -
2023-12-13 22:19:36.759 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:19:36.761 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=1&PaginationParamsDto.PageSize=5 - - - 204 - - 2.9335ms
2023-12-13 22:19:36.762 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=1&PaginationParamsDto.PageSize=5 - -
2023-12-13 22:19:36.763 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:19:36.765 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api)'
2023-12-13 22:19:36.766 +01:00 [INF] Route matched with {action = "GetAllTransactions", controller = "TransactionUser"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult`1[WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListResponseDto]]] GetAllTransactions(WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListDto, System.Threading.CancellationToken) on controller WalletApp.Controllers.TransactionUserController (WalletApp.Api).
2023-12-13 22:19:36.774 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Transactions] AS [t]
        WHERE [t].[UserIdentityId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-12-13 22:19:36.782 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[CategoryId], [t0].[CratedBy], [t0].[CreatedTime], [t0].[CurrencyId], [t0].[Date], [t0].[DefaultTransactionId], [t0].[DeletedBy], [t0].[DeletedTime], [t0].[Description], [t0].[GroupId], [t0].[IsDefault], [t0].[IsDeleted], [t0].[ModifiedBy], [t0].[ModifiedTime], [t0].[Price], [t0].[Title], [t0].[UserIdentityId], [c].[Id], [c].[Ask], [c].[Bid], [c].[Code], [c].[CratedBy], [c].[CreatedTime], [c].[CurrencyName], [c].[DeletedBy], [c].[DeletedTime], [c].[IsDeleted], [c].[ModifiedBy], [c].[ModifiedTime], [c].[TradingDate], [c0].[Id], [c0].[CratedBy], [c0].[CreatedTime], [c0].[DeletedBy], [c0].[DeletedTime], [c0].[GroupId], [c0].[IsDeleted], [c0].[ModifiedBy], [c0].[ModifiedTime], [c0].[Name], [c0].[UserIdentityId]
FROM (
    SELECT [t].[Id], [t].[CategoryId], [t].[CratedBy], [t].[CreatedTime], [t].[CurrencyId], [t].[Date], [t].[DefaultTransactionId], [t].[DeletedBy], [t].[DeletedTime], [t].[Description], [t].[GroupId], [t].[IsDefault], [t].[IsDeleted], [t].[ModifiedBy], [t].[ModifiedTime], [t].[Price], [t].[Title], [t].[UserIdentityId]
    FROM [Transactions] AS [t]
    WHERE [t].[UserIdentityId] = @__userId_0
    ORDER BY (SELECT 1)
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t0]
INNER JOIN [Currencies] AS [c] ON [t0].[CurrencyId] = [c].[Id]
INNER JOIN [Categories] AS [c0] ON [t0].[CategoryId] = [c0].[Id]
2023-12-13 22:19:36.789 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Transactions] AS [t]
WHERE [t].[UserIdentityId] = @__userId_0
2023-12-13 22:19:36.791 +01:00 [INF] Executing OkObjectResult, writing value of type 'WalletApp.Application.Common.ApiResult`1[[WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListResponseDto, WalletApp.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-13 22:19:36.792 +01:00 [INF] Executed action WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api) in 22.9852ms
2023-12-13 22:19:36.794 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api)'
2023-12-13 22:19:36.795 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=1&PaginationParamsDto.PageSize=5 - - - 200 - application/json;+charset=utf-8 32.9244ms
2023-12-13 22:19:44.594 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=2&PaginationParamsDto.PageSize=5 - -
2023-12-13 22:19:44.595 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:19:44.596 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=2&PaginationParamsDto.PageSize=5 - - - 204 - - 1.9823ms
2023-12-13 22:19:44.598 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=2&PaginationParamsDto.PageSize=5 - -
2023-12-13 22:19:44.598 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:19:44.600 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api)'
2023-12-13 22:19:44.600 +01:00 [INF] Route matched with {action = "GetAllTransactions", controller = "TransactionUser"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult`1[WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListResponseDto]]] GetAllTransactions(WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListDto, System.Threading.CancellationToken) on controller WalletApp.Controllers.TransactionUserController (WalletApp.Api).
2023-12-13 22:19:44.604 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Transactions] AS [t]
        WHERE [t].[UserIdentityId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-12-13 22:19:44.610 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[CategoryId], [t0].[CratedBy], [t0].[CreatedTime], [t0].[CurrencyId], [t0].[Date], [t0].[DefaultTransactionId], [t0].[DeletedBy], [t0].[DeletedTime], [t0].[Description], [t0].[GroupId], [t0].[IsDefault], [t0].[IsDeleted], [t0].[ModifiedBy], [t0].[ModifiedTime], [t0].[Price], [t0].[Title], [t0].[UserIdentityId], [c].[Id], [c].[Ask], [c].[Bid], [c].[Code], [c].[CratedBy], [c].[CreatedTime], [c].[CurrencyName], [c].[DeletedBy], [c].[DeletedTime], [c].[IsDeleted], [c].[ModifiedBy], [c].[ModifiedTime], [c].[TradingDate], [c0].[Id], [c0].[CratedBy], [c0].[CreatedTime], [c0].[DeletedBy], [c0].[DeletedTime], [c0].[GroupId], [c0].[IsDeleted], [c0].[ModifiedBy], [c0].[ModifiedTime], [c0].[Name], [c0].[UserIdentityId]
FROM (
    SELECT [t].[Id], [t].[CategoryId], [t].[CratedBy], [t].[CreatedTime], [t].[CurrencyId], [t].[Date], [t].[DefaultTransactionId], [t].[DeletedBy], [t].[DeletedTime], [t].[Description], [t].[GroupId], [t].[IsDefault], [t].[IsDeleted], [t].[ModifiedBy], [t].[ModifiedTime], [t].[Price], [t].[Title], [t].[UserIdentityId]
    FROM [Transactions] AS [t]
    WHERE [t].[UserIdentityId] = @__userId_0
    ORDER BY (SELECT 1)
    OFFSET @__p_1 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t0]
INNER JOIN [Currencies] AS [c] ON [t0].[CurrencyId] = [c].[Id]
INNER JOIN [Categories] AS [c0] ON [t0].[CategoryId] = [c0].[Id]
2023-12-13 22:19:44.614 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Transactions] AS [t]
WHERE [t].[UserIdentityId] = @__userId_0
2023-12-13 22:19:44.616 +01:00 [INF] Executing OkObjectResult, writing value of type 'WalletApp.Application.Common.ApiResult`1[[WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListResponseDto, WalletApp.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-13 22:19:44.617 +01:00 [INF] Executed action WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api) in 15.5252ms
2023-12-13 22:19:44.618 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api)'
2023-12-13 22:19:44.619 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=2&PaginationParamsDto.PageSize=5 - - - 200 - application/json;+charset=utf-8 21.7578ms
2023-12-13 22:19:46.747 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=1&PaginationParamsDto.PageSize=5 - -
2023-12-13 22:19:46.748 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:19:46.749 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=1&PaginationParamsDto.PageSize=5 - - - 204 - - 1.8296ms
2023-12-13 22:19:46.750 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=1&PaginationParamsDto.PageSize=5 - -
2023-12-13 22:19:46.751 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:19:46.753 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api)'
2023-12-13 22:19:46.754 +01:00 [INF] Route matched with {action = "GetAllTransactions", controller = "TransactionUser"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult`1[WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListResponseDto]]] GetAllTransactions(WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListDto, System.Threading.CancellationToken) on controller WalletApp.Controllers.TransactionUserController (WalletApp.Api).
2023-12-13 22:19:46.759 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Transactions] AS [t]
        WHERE [t].[UserIdentityId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-12-13 22:19:46.763 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[CategoryId], [t0].[CratedBy], [t0].[CreatedTime], [t0].[CurrencyId], [t0].[Date], [t0].[DefaultTransactionId], [t0].[DeletedBy], [t0].[DeletedTime], [t0].[Description], [t0].[GroupId], [t0].[IsDefault], [t0].[IsDeleted], [t0].[ModifiedBy], [t0].[ModifiedTime], [t0].[Price], [t0].[Title], [t0].[UserIdentityId], [c].[Id], [c].[Ask], [c].[Bid], [c].[Code], [c].[CratedBy], [c].[CreatedTime], [c].[CurrencyName], [c].[DeletedBy], [c].[DeletedTime], [c].[IsDeleted], [c].[ModifiedBy], [c].[ModifiedTime], [c].[TradingDate], [c0].[Id], [c0].[CratedBy], [c0].[CreatedTime], [c0].[DeletedBy], [c0].[DeletedTime], [c0].[GroupId], [c0].[IsDeleted], [c0].[ModifiedBy], [c0].[ModifiedTime], [c0].[Name], [c0].[UserIdentityId]
FROM (
    SELECT [t].[Id], [t].[CategoryId], [t].[CratedBy], [t].[CreatedTime], [t].[CurrencyId], [t].[Date], [t].[DefaultTransactionId], [t].[DeletedBy], [t].[DeletedTime], [t].[Description], [t].[GroupId], [t].[IsDefault], [t].[IsDeleted], [t].[ModifiedBy], [t].[ModifiedTime], [t].[Price], [t].[Title], [t].[UserIdentityId]
    FROM [Transactions] AS [t]
    WHERE [t].[UserIdentityId] = @__userId_0
    ORDER BY (SELECT 1)
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t0]
INNER JOIN [Currencies] AS [c] ON [t0].[CurrencyId] = [c].[Id]
INNER JOIN [Categories] AS [c0] ON [t0].[CategoryId] = [c0].[Id]
2023-12-13 22:19:46.768 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Transactions] AS [t]
WHERE [t].[UserIdentityId] = @__userId_0
2023-12-13 22:19:46.769 +01:00 [INF] Executing OkObjectResult, writing value of type 'WalletApp.Application.Common.ApiResult`1[[WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListResponseDto, WalletApp.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-13 22:19:46.770 +01:00 [INF] Executed action WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api) in 15.0638ms
2023-12-13 22:19:46.772 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api)'
2023-12-13 22:19:46.772 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=1&PaginationParamsDto.PageSize=5 - - - 200 - application/json;+charset=utf-8 22.2597ms
2023-12-13 22:19:48.810 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=2&PaginationParamsDto.PageSize=5 - -
2023-12-13 22:19:48.812 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:19:48.814 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api)'
2023-12-13 22:19:48.816 +01:00 [INF] Route matched with {action = "GetAllTransactions", controller = "TransactionUser"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult`1[WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListResponseDto]]] GetAllTransactions(WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListDto, System.Threading.CancellationToken) on controller WalletApp.Controllers.TransactionUserController (WalletApp.Api).
2023-12-13 22:19:48.820 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Transactions] AS [t]
        WHERE [t].[UserIdentityId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-12-13 22:19:48.825 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[CategoryId], [t0].[CratedBy], [t0].[CreatedTime], [t0].[CurrencyId], [t0].[Date], [t0].[DefaultTransactionId], [t0].[DeletedBy], [t0].[DeletedTime], [t0].[Description], [t0].[GroupId], [t0].[IsDefault], [t0].[IsDeleted], [t0].[ModifiedBy], [t0].[ModifiedTime], [t0].[Price], [t0].[Title], [t0].[UserIdentityId], [c].[Id], [c].[Ask], [c].[Bid], [c].[Code], [c].[CratedBy], [c].[CreatedTime], [c].[CurrencyName], [c].[DeletedBy], [c].[DeletedTime], [c].[IsDeleted], [c].[ModifiedBy], [c].[ModifiedTime], [c].[TradingDate], [c0].[Id], [c0].[CratedBy], [c0].[CreatedTime], [c0].[DeletedBy], [c0].[DeletedTime], [c0].[GroupId], [c0].[IsDeleted], [c0].[ModifiedBy], [c0].[ModifiedTime], [c0].[Name], [c0].[UserIdentityId]
FROM (
    SELECT [t].[Id], [t].[CategoryId], [t].[CratedBy], [t].[CreatedTime], [t].[CurrencyId], [t].[Date], [t].[DefaultTransactionId], [t].[DeletedBy], [t].[DeletedTime], [t].[Description], [t].[GroupId], [t].[IsDefault], [t].[IsDeleted], [t].[ModifiedBy], [t].[ModifiedTime], [t].[Price], [t].[Title], [t].[UserIdentityId]
    FROM [Transactions] AS [t]
    WHERE [t].[UserIdentityId] = @__userId_0
    ORDER BY (SELECT 1)
    OFFSET @__p_1 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t0]
INNER JOIN [Currencies] AS [c] ON [t0].[CurrencyId] = [c].[Id]
INNER JOIN [Categories] AS [c0] ON [t0].[CategoryId] = [c0].[Id]
2023-12-13 22:19:48.830 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Transactions] AS [t]
WHERE [t].[UserIdentityId] = @__userId_0
2023-12-13 22:19:48.832 +01:00 [INF] Executing OkObjectResult, writing value of type 'WalletApp.Application.Common.ApiResult`1[[WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListResponseDto, WalletApp.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-13 22:19:48.833 +01:00 [INF] Executed action WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api) in 15.4568ms
2023-12-13 22:19:48.834 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api)'
2023-12-13 22:19:48.835 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=2&PaginationParamsDto.PageSize=5 - - - 200 - application/json;+charset=utf-8 25.0976ms
2023-12-13 22:19:57.856 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=1&PaginationParamsDto.PageSize=5 - -
2023-12-13 22:19:57.857 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:19:57.858 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=1&PaginationParamsDto.PageSize=5 - - - 204 - - 1.9762ms
2023-12-13 22:19:57.859 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=1&PaginationParamsDto.PageSize=5 - -
2023-12-13 22:19:57.860 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:19:57.866 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api)'
2023-12-13 22:19:57.867 +01:00 [INF] Route matched with {action = "GetAllTransactions", controller = "TransactionUser"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult`1[WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListResponseDto]]] GetAllTransactions(WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListDto, System.Threading.CancellationToken) on controller WalletApp.Controllers.TransactionUserController (WalletApp.Api).
2023-12-13 22:19:57.876 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Transactions] AS [t]
        WHERE [t].[UserIdentityId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-12-13 22:19:57.891 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[CategoryId], [t0].[CratedBy], [t0].[CreatedTime], [t0].[CurrencyId], [t0].[Date], [t0].[DefaultTransactionId], [t0].[DeletedBy], [t0].[DeletedTime], [t0].[Description], [t0].[GroupId], [t0].[IsDefault], [t0].[IsDeleted], [t0].[ModifiedBy], [t0].[ModifiedTime], [t0].[Price], [t0].[Title], [t0].[UserIdentityId], [c].[Id], [c].[Ask], [c].[Bid], [c].[Code], [c].[CratedBy], [c].[CreatedTime], [c].[CurrencyName], [c].[DeletedBy], [c].[DeletedTime], [c].[IsDeleted], [c].[ModifiedBy], [c].[ModifiedTime], [c].[TradingDate], [c0].[Id], [c0].[CratedBy], [c0].[CreatedTime], [c0].[DeletedBy], [c0].[DeletedTime], [c0].[GroupId], [c0].[IsDeleted], [c0].[ModifiedBy], [c0].[ModifiedTime], [c0].[Name], [c0].[UserIdentityId]
FROM (
    SELECT [t].[Id], [t].[CategoryId], [t].[CratedBy], [t].[CreatedTime], [t].[CurrencyId], [t].[Date], [t].[DefaultTransactionId], [t].[DeletedBy], [t].[DeletedTime], [t].[Description], [t].[GroupId], [t].[IsDefault], [t].[IsDeleted], [t].[ModifiedBy], [t].[ModifiedTime], [t].[Price], [t].[Title], [t].[UserIdentityId]
    FROM [Transactions] AS [t]
    WHERE [t].[UserIdentityId] = @__userId_0
    ORDER BY (SELECT 1)
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t0]
INNER JOIN [Currencies] AS [c] ON [t0].[CurrencyId] = [c].[Id]
INNER JOIN [Categories] AS [c0] ON [t0].[CategoryId] = [c0].[Id]
2023-12-13 22:19:57.906 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Transactions] AS [t]
WHERE [t].[UserIdentityId] = @__userId_0
2023-12-13 22:19:57.910 +01:00 [INF] Executing OkObjectResult, writing value of type 'WalletApp.Application.Common.ApiResult`1[[WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListResponseDto, WalletApp.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-13 22:19:57.914 +01:00 [INF] Executed action WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api) in 43.8346ms
2023-12-13 22:19:57.918 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api)'
2023-12-13 22:19:57.920 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=1&PaginationParamsDto.PageSize=5 - - - 200 - application/json;+charset=utf-8 60.7150ms
2023-12-13 22:20:13.169 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=0&PaginationParamsDto.PageSize=5 - -
2023-12-13 22:20:13.170 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:20:13.171 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=0&PaginationParamsDto.PageSize=5 - - - 204 - - 2.1075ms
2023-12-13 22:20:13.172 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=0&PaginationParamsDto.PageSize=5 - -
2023-12-13 22:20:13.173 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:20:13.174 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api)'
2023-12-13 22:20:13.175 +01:00 [INF] Route matched with {action = "GetAllTransactions", controller = "TransactionUser"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult`1[WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListResponseDto]]] GetAllTransactions(WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListDto, System.Threading.CancellationToken) on controller WalletApp.Controllers.TransactionUserController (WalletApp.Api).
2023-12-13 22:20:13.180 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Transactions] AS [t]
        WHERE [t].[UserIdentityId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-12-13 22:20:13.184 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[CategoryId], [t0].[CratedBy], [t0].[CreatedTime], [t0].[CurrencyId], [t0].[Date], [t0].[DefaultTransactionId], [t0].[DeletedBy], [t0].[DeletedTime], [t0].[Description], [t0].[GroupId], [t0].[IsDefault], [t0].[IsDeleted], [t0].[ModifiedBy], [t0].[ModifiedTime], [t0].[Price], [t0].[Title], [t0].[UserIdentityId], [c].[Id], [c].[Ask], [c].[Bid], [c].[Code], [c].[CratedBy], [c].[CreatedTime], [c].[CurrencyName], [c].[DeletedBy], [c].[DeletedTime], [c].[IsDeleted], [c].[ModifiedBy], [c].[ModifiedTime], [c].[TradingDate], [c0].[Id], [c0].[CratedBy], [c0].[CreatedTime], [c0].[DeletedBy], [c0].[DeletedTime], [c0].[GroupId], [c0].[IsDeleted], [c0].[ModifiedBy], [c0].[ModifiedTime], [c0].[Name], [c0].[UserIdentityId]
FROM (
    SELECT [t].[Id], [t].[CategoryId], [t].[CratedBy], [t].[CreatedTime], [t].[CurrencyId], [t].[Date], [t].[DefaultTransactionId], [t].[DeletedBy], [t].[DeletedTime], [t].[Description], [t].[GroupId], [t].[IsDefault], [t].[IsDeleted], [t].[ModifiedBy], [t].[ModifiedTime], [t].[Price], [t].[Title], [t].[UserIdentityId]
    FROM [Transactions] AS [t]
    WHERE [t].[UserIdentityId] = @__userId_0
    ORDER BY (SELECT 1)
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t0]
INNER JOIN [Currencies] AS [c] ON [t0].[CurrencyId] = [c].[Id]
INNER JOIN [Categories] AS [c0] ON [t0].[CategoryId] = [c0].[Id]
2023-12-13 22:20:13.187 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'WalletApp.Persistance.WalletDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): The offset specified in a OFFSET clause may not be negative.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:a3e70851-5bab-414b-bd6d-63f95ae288de
Error Number:10742,State:1,Class:15
Microsoft.Data.SqlClient.SqlException (0x80131904): The offset specified in a OFFSET clause may not be negative.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:a3e70851-5bab-414b-bd6d-63f95ae288de
Error Number:10742,State:1,Class:15
2023-12-13 22:20:13.339 +01:00 [INF] Executed action WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api) in 162.8533ms
2023-12-13 22:20:13.341 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api)'
2023-12-13 22:20:13.479 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): The offset specified in a OFFSET clause may not be negative.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at WalletApp.Application.utils.PagedList`1.ToPagedList(IQueryable`1 source, PaginationParamsDto paginationParamsDto, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\utils\PagedList.cs:line 38
   at WalletApp.Persistance.Repositories.TransactionRepository.GetTransactionList(Guid userId, PaginationParamsDto paginationParamsDto, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\Repositories\TransactionRepository.cs:line 34
   at WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListQueryHandler.Handle(GetTransactionListQuery request, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Common\Transaction\GetTransactionList\GetTransactionListQueryHandler.cs:line 22
   at WalletApp.Controllers.TransactionUserController.GetAllTransactions(GetTransactionListDto dto, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api\Controllers\TransactionUserController.cs:line 63
   at lambda_method419(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at WalletApp.Middleware.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api\Middleware\AuthorizationMiddlewareResultHandler.cs:line 39
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at WalletApp.Middleware.ValidationErrorsMiddleware.InvokeAsync(HttpContext context) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api\Middleware\ValidationErrorsMiddleware.cs:line 19
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:a3e70851-5bab-414b-bd6d-63f95ae288de
Error Number:10742,State:1,Class:15
2023-12-13 22:20:13.492 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=0&PaginationParamsDto.PageSize=5 - - - 500 - text/plain;+charset=utf-8 319.8512ms
2023-12-13 22:20:47.557 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=1&PaginationParamsDto.PageSize=5 - -
2023-12-13 22:20:47.558 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:20:47.559 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=1&PaginationParamsDto.PageSize=5 - - - 204 - - 2.2821ms
2023-12-13 22:20:47.561 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=1&PaginationParamsDto.PageSize=5 - -
2023-12-13 22:20:47.563 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:20:47.564 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api)'
2023-12-13 22:20:47.566 +01:00 [INF] Route matched with {action = "GetAllTransactions", controller = "TransactionUser"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult`1[WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListResponseDto]]] GetAllTransactions(WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListDto, System.Threading.CancellationToken) on controller WalletApp.Controllers.TransactionUserController (WalletApp.Api).
2023-12-13 22:20:47.574 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Transactions] AS [t]
        WHERE [t].[UserIdentityId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-12-13 22:20:47.579 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[CategoryId], [t0].[CratedBy], [t0].[CreatedTime], [t0].[CurrencyId], [t0].[Date], [t0].[DefaultTransactionId], [t0].[DeletedBy], [t0].[DeletedTime], [t0].[Description], [t0].[GroupId], [t0].[IsDefault], [t0].[IsDeleted], [t0].[ModifiedBy], [t0].[ModifiedTime], [t0].[Price], [t0].[Title], [t0].[UserIdentityId], [c].[Id], [c].[Ask], [c].[Bid], [c].[Code], [c].[CratedBy], [c].[CreatedTime], [c].[CurrencyName], [c].[DeletedBy], [c].[DeletedTime], [c].[IsDeleted], [c].[ModifiedBy], [c].[ModifiedTime], [c].[TradingDate], [c0].[Id], [c0].[CratedBy], [c0].[CreatedTime], [c0].[DeletedBy], [c0].[DeletedTime], [c0].[GroupId], [c0].[IsDeleted], [c0].[ModifiedBy], [c0].[ModifiedTime], [c0].[Name], [c0].[UserIdentityId]
FROM (
    SELECT [t].[Id], [t].[CategoryId], [t].[CratedBy], [t].[CreatedTime], [t].[CurrencyId], [t].[Date], [t].[DefaultTransactionId], [t].[DeletedBy], [t].[DeletedTime], [t].[Description], [t].[GroupId], [t].[IsDefault], [t].[IsDeleted], [t].[ModifiedBy], [t].[ModifiedTime], [t].[Price], [t].[Title], [t].[UserIdentityId]
    FROM [Transactions] AS [t]
    WHERE [t].[UserIdentityId] = @__userId_0
    ORDER BY (SELECT 1)
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t0]
INNER JOIN [Currencies] AS [c] ON [t0].[CurrencyId] = [c].[Id]
INNER JOIN [Categories] AS [c0] ON [t0].[CategoryId] = [c0].[Id]
2023-12-13 22:20:47.584 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Transactions] AS [t]
WHERE [t].[UserIdentityId] = @__userId_0
2023-12-13 22:20:47.586 +01:00 [INF] Executing OkObjectResult, writing value of type 'WalletApp.Application.Common.ApiResult`1[[WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListResponseDto, WalletApp.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-13 22:20:47.587 +01:00 [INF] Executed action WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api) in 18.4398ms
2023-12-13 22:20:47.588 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api)'
2023-12-13 22:20:47.589 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=1&PaginationParamsDto.PageSize=5 - - - 200 - application/json;+charset=utf-8 28.1281ms
2023-12-13 22:20:47.605 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=1&PaginationParamsDto.PageSize=5 - -
2023-12-13 22:20:47.605 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:20:47.607 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api)'
2023-12-13 22:20:47.608 +01:00 [INF] Route matched with {action = "GetAllTransactions", controller = "TransactionUser"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult`1[WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListResponseDto]]] GetAllTransactions(WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListDto, System.Threading.CancellationToken) on controller WalletApp.Controllers.TransactionUserController (WalletApp.Api).
2023-12-13 22:20:47.612 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Transactions] AS [t]
        WHERE [t].[UserIdentityId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-12-13 22:20:47.617 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[CategoryId], [t0].[CratedBy], [t0].[CreatedTime], [t0].[CurrencyId], [t0].[Date], [t0].[DefaultTransactionId], [t0].[DeletedBy], [t0].[DeletedTime], [t0].[Description], [t0].[GroupId], [t0].[IsDefault], [t0].[IsDeleted], [t0].[ModifiedBy], [t0].[ModifiedTime], [t0].[Price], [t0].[Title], [t0].[UserIdentityId], [c].[Id], [c].[Ask], [c].[Bid], [c].[Code], [c].[CratedBy], [c].[CreatedTime], [c].[CurrencyName], [c].[DeletedBy], [c].[DeletedTime], [c].[IsDeleted], [c].[ModifiedBy], [c].[ModifiedTime], [c].[TradingDate], [c0].[Id], [c0].[CratedBy], [c0].[CreatedTime], [c0].[DeletedBy], [c0].[DeletedTime], [c0].[GroupId], [c0].[IsDeleted], [c0].[ModifiedBy], [c0].[ModifiedTime], [c0].[Name], [c0].[UserIdentityId]
FROM (
    SELECT [t].[Id], [t].[CategoryId], [t].[CratedBy], [t].[CreatedTime], [t].[CurrencyId], [t].[Date], [t].[DefaultTransactionId], [t].[DeletedBy], [t].[DeletedTime], [t].[Description], [t].[GroupId], [t].[IsDefault], [t].[IsDeleted], [t].[ModifiedBy], [t].[ModifiedTime], [t].[Price], [t].[Title], [t].[UserIdentityId]
    FROM [Transactions] AS [t]
    WHERE [t].[UserIdentityId] = @__userId_0
    ORDER BY (SELECT 1)
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t0]
INNER JOIN [Currencies] AS [c] ON [t0].[CurrencyId] = [c].[Id]
INNER JOIN [Categories] AS [c0] ON [t0].[CategoryId] = [c0].[Id]
2023-12-13 22:20:47.622 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Transactions] AS [t]
WHERE [t].[UserIdentityId] = @__userId_0
2023-12-13 22:20:47.624 +01:00 [INF] Executing OkObjectResult, writing value of type 'WalletApp.Application.Common.ApiResult`1[[WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListResponseDto, WalletApp.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-13 22:20:47.625 +01:00 [INF] Executed action WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api) in 15.9519ms
2023-12-13 22:20:47.627 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api)'
2023-12-13 22:20:47.629 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=1&PaginationParamsDto.PageSize=5 - - - 200 - application/json;+charset=utf-8 24.0860ms
2023-12-13 22:20:56.177 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=1&PaginationParamsDto.PageSize=5 - -
2023-12-13 22:20:56.178 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:20:56.179 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=1&PaginationParamsDto.PageSize=5 - - - 204 - - 1.5412ms
2023-12-13 22:20:56.180 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=1&PaginationParamsDto.PageSize=5 - -
2023-12-13 22:20:56.186 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:20:56.188 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api)'
2023-12-13 22:20:56.189 +01:00 [INF] Route matched with {action = "GetAllTransactions", controller = "TransactionUser"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult`1[WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListResponseDto]]] GetAllTransactions(WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListDto, System.Threading.CancellationToken) on controller WalletApp.Controllers.TransactionUserController (WalletApp.Api).
2023-12-13 22:20:56.193 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Transactions] AS [t]
        WHERE [t].[UserIdentityId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-12-13 22:20:56.197 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[CategoryId], [t0].[CratedBy], [t0].[CreatedTime], [t0].[CurrencyId], [t0].[Date], [t0].[DefaultTransactionId], [t0].[DeletedBy], [t0].[DeletedTime], [t0].[Description], [t0].[GroupId], [t0].[IsDefault], [t0].[IsDeleted], [t0].[ModifiedBy], [t0].[ModifiedTime], [t0].[Price], [t0].[Title], [t0].[UserIdentityId], [c].[Id], [c].[Ask], [c].[Bid], [c].[Code], [c].[CratedBy], [c].[CreatedTime], [c].[CurrencyName], [c].[DeletedBy], [c].[DeletedTime], [c].[IsDeleted], [c].[ModifiedBy], [c].[ModifiedTime], [c].[TradingDate], [c0].[Id], [c0].[CratedBy], [c0].[CreatedTime], [c0].[DeletedBy], [c0].[DeletedTime], [c0].[GroupId], [c0].[IsDeleted], [c0].[ModifiedBy], [c0].[ModifiedTime], [c0].[Name], [c0].[UserIdentityId]
FROM (
    SELECT [t].[Id], [t].[CategoryId], [t].[CratedBy], [t].[CreatedTime], [t].[CurrencyId], [t].[Date], [t].[DefaultTransactionId], [t].[DeletedBy], [t].[DeletedTime], [t].[Description], [t].[GroupId], [t].[IsDefault], [t].[IsDeleted], [t].[ModifiedBy], [t].[ModifiedTime], [t].[Price], [t].[Title], [t].[UserIdentityId]
    FROM [Transactions] AS [t]
    WHERE [t].[UserIdentityId] = @__userId_0
    ORDER BY (SELECT 1)
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t0]
INNER JOIN [Currencies] AS [c] ON [t0].[CurrencyId] = [c].[Id]
INNER JOIN [Categories] AS [c0] ON [t0].[CategoryId] = [c0].[Id]
2023-12-13 22:20:56.201 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Transactions] AS [t]
WHERE [t].[UserIdentityId] = @__userId_0
2023-12-13 22:20:56.202 +01:00 [INF] Executing OkObjectResult, writing value of type 'WalletApp.Application.Common.ApiResult`1[[WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListResponseDto, WalletApp.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-13 22:20:56.204 +01:00 [INF] Executed action WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api) in 13.2534ms
2023-12-13 22:20:56.205 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api)'
2023-12-13 22:20:56.206 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=1&PaginationParamsDto.PageSize=5 - - - 200 - application/json;+charset=utf-8 25.6208ms
2023-12-13 22:20:58.341 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=0&PaginationParamsDto.PageSize=5 - -
2023-12-13 22:20:58.342 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:20:58.343 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=0&PaginationParamsDto.PageSize=5 - - - 204 - - 2.1952ms
2023-12-13 22:20:58.344 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=0&PaginationParamsDto.PageSize=5 - -
2023-12-13 22:20:58.344 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:20:58.346 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api)'
2023-12-13 22:20:58.347 +01:00 [INF] Route matched with {action = "GetAllTransactions", controller = "TransactionUser"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult`1[WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListResponseDto]]] GetAllTransactions(WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListDto, System.Threading.CancellationToken) on controller WalletApp.Controllers.TransactionUserController (WalletApp.Api).
2023-12-13 22:20:58.352 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Transactions] AS [t]
        WHERE [t].[UserIdentityId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-12-13 22:20:58.356 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[CategoryId], [t0].[CratedBy], [t0].[CreatedTime], [t0].[CurrencyId], [t0].[Date], [t0].[DefaultTransactionId], [t0].[DeletedBy], [t0].[DeletedTime], [t0].[Description], [t0].[GroupId], [t0].[IsDefault], [t0].[IsDeleted], [t0].[ModifiedBy], [t0].[ModifiedTime], [t0].[Price], [t0].[Title], [t0].[UserIdentityId], [c].[Id], [c].[Ask], [c].[Bid], [c].[Code], [c].[CratedBy], [c].[CreatedTime], [c].[CurrencyName], [c].[DeletedBy], [c].[DeletedTime], [c].[IsDeleted], [c].[ModifiedBy], [c].[ModifiedTime], [c].[TradingDate], [c0].[Id], [c0].[CratedBy], [c0].[CreatedTime], [c0].[DeletedBy], [c0].[DeletedTime], [c0].[GroupId], [c0].[IsDeleted], [c0].[ModifiedBy], [c0].[ModifiedTime], [c0].[Name], [c0].[UserIdentityId]
FROM (
    SELECT [t].[Id], [t].[CategoryId], [t].[CratedBy], [t].[CreatedTime], [t].[CurrencyId], [t].[Date], [t].[DefaultTransactionId], [t].[DeletedBy], [t].[DeletedTime], [t].[Description], [t].[GroupId], [t].[IsDefault], [t].[IsDeleted], [t].[ModifiedBy], [t].[ModifiedTime], [t].[Price], [t].[Title], [t].[UserIdentityId]
    FROM [Transactions] AS [t]
    WHERE [t].[UserIdentityId] = @__userId_0
    ORDER BY (SELECT 1)
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t0]
INNER JOIN [Currencies] AS [c] ON [t0].[CurrencyId] = [c].[Id]
INNER JOIN [Categories] AS [c0] ON [t0].[CategoryId] = [c0].[Id]
2023-12-13 22:20:58.359 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'WalletApp.Persistance.WalletDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): The offset specified in a OFFSET clause may not be negative.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:a3e70851-5bab-414b-bd6d-63f95ae288de
Error Number:10742,State:1,Class:15
Microsoft.Data.SqlClient.SqlException (0x80131904): The offset specified in a OFFSET clause may not be negative.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:a3e70851-5bab-414b-bd6d-63f95ae288de
Error Number:10742,State:1,Class:15
2023-12-13 22:20:58.521 +01:00 [INF] Executed action WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api) in 172.0843ms
2023-12-13 22:20:58.523 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api)'
2023-12-13 22:20:58.662 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): The offset specified in a OFFSET clause may not be negative.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at WalletApp.Application.utils.PagedList`1.ToPagedList(IQueryable`1 source, PaginationParamsDto paginationParamsDto, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\utils\PagedList.cs:line 38
   at WalletApp.Persistance.Repositories.TransactionRepository.GetTransactionList(Guid userId, PaginationParamsDto paginationParamsDto, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\Repositories\TransactionRepository.cs:line 34
   at WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListQueryHandler.Handle(GetTransactionListQuery request, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Common\Transaction\GetTransactionList\GetTransactionListQueryHandler.cs:line 22
   at WalletApp.Controllers.TransactionUserController.GetAllTransactions(GetTransactionListDto dto, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api\Controllers\TransactionUserController.cs:line 63
   at lambda_method419(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at WalletApp.Middleware.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api\Middleware\AuthorizationMiddlewareResultHandler.cs:line 39
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at WalletApp.Middleware.ValidationErrorsMiddleware.InvokeAsync(HttpContext context) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api\Middleware\ValidationErrorsMiddleware.cs:line 19
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:a3e70851-5bab-414b-bd6d-63f95ae288de
Error Number:10742,State:1,Class:15
2023-12-13 22:20:58.675 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=0&PaginationParamsDto.PageSize=5 - - - 500 - text/plain;+charset=utf-8 331.3038ms
2023-12-13 22:21:25.837 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/token/b9NLQz4b7ShkipHdu22t4dIow+AfazorzBUUDqL72FySFCpKfQ2nYqS8zNPa0hc9GBr3aHhpfixMe7yJoNEtMA== - -
2023-12-13 22:21:25.842 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:21:25.843 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/token/b9NLQz4b7ShkipHdu22t4dIow+AfazorzBUUDqL72FySFCpKfQ2nYqS8zNPa0hc9GBr3aHhpfixMe7yJoNEtMA== - - - 204 - - 6.2598ms
2023-12-13 22:21:25.844 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/token/b9NLQz4b7ShkipHdu22t4dIow+AfazorzBUUDqL72FySFCpKfQ2nYqS8zNPa0hc9GBr3aHhpfixMe7yJoNEtMA== - -
2023-12-13 22:21:25.845 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:21:25.846 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.TokenController.GetTokens (WalletApp.Api)'
2023-12-13 22:21:25.847 +01:00 [INF] Route matched with {action = "GetTokens", controller = "Token"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult`1[WalletApp.Application.Common.Token.UpdateRefreshToken.RefreshTokenResponseDto]]] GetTokens(System.String, System.Threading.CancellationToken) on controller WalletApp.Controllers.TokenController (WalletApp.Api).
2023-12-13 22:21:25.853 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [t].[Id], [t].[IpAddress], [t].[RefreshToken], [t].[RefreshTokenExpiryTime], [t].[UserIdentityId]
FROM [Tokens] AS [t]
WHERE [t].[RefreshToken] = @__refreshToken_0
2023-12-13 22:21:25.858 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IconType], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__get_Item_0
2023-12-13 22:21:25.868 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Tokens] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2023-12-13 22:21:25.872 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-12-13 22:21:25.875 +01:00 [INF] Executing OkObjectResult, writing value of type 'WalletApp.Application.Common.ApiResult`1[[WalletApp.Application.Common.Token.UpdateRefreshToken.RefreshTokenResponseDto, WalletApp.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-13 22:21:25.876 +01:00 [INF] Executed action WalletApp.Controllers.TokenController.GetTokens (WalletApp.Api) in 27.9125ms
2023-12-13 22:21:25.877 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.TokenController.GetTokens (WalletApp.Api)'
2023-12-13 22:21:25.878 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/token/b9NLQz4b7ShkipHdu22t4dIow+AfazorzBUUDqL72FySFCpKfQ2nYqS8zNPa0hc9GBr3aHhpfixMe7yJoNEtMA== - - - 200 - application/json;+charset=utf-8 34.0661ms
2023-12-13 22:21:25.956 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=1&PaginationParamsDto.PageSize=5 - -
2023-12-13 22:21:25.957 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:21:25.958 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=1&PaginationParamsDto.PageSize=5 - - - 204 - - 2.2644ms
2023-12-13 22:21:25.959 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=1&PaginationParamsDto.PageSize=5 - -
2023-12-13 22:21:25.960 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:21:25.962 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api)'
2023-12-13 22:21:25.963 +01:00 [INF] Route matched with {action = "GetAllTransactions", controller = "TransactionUser"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult`1[WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListResponseDto]]] GetAllTransactions(WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListDto, System.Threading.CancellationToken) on controller WalletApp.Controllers.TransactionUserController (WalletApp.Api).
2023-12-13 22:21:25.968 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Transactions] AS [t]
        WHERE [t].[UserIdentityId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-12-13 22:21:25.973 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[CategoryId], [t0].[CratedBy], [t0].[CreatedTime], [t0].[CurrencyId], [t0].[Date], [t0].[DefaultTransactionId], [t0].[DeletedBy], [t0].[DeletedTime], [t0].[Description], [t0].[GroupId], [t0].[IsDefault], [t0].[IsDeleted], [t0].[ModifiedBy], [t0].[ModifiedTime], [t0].[Price], [t0].[Title], [t0].[UserIdentityId], [c].[Id], [c].[Ask], [c].[Bid], [c].[Code], [c].[CratedBy], [c].[CreatedTime], [c].[CurrencyName], [c].[DeletedBy], [c].[DeletedTime], [c].[IsDeleted], [c].[ModifiedBy], [c].[ModifiedTime], [c].[TradingDate], [c0].[Id], [c0].[CratedBy], [c0].[CreatedTime], [c0].[DeletedBy], [c0].[DeletedTime], [c0].[GroupId], [c0].[IsDeleted], [c0].[ModifiedBy], [c0].[ModifiedTime], [c0].[Name], [c0].[UserIdentityId]
FROM (
    SELECT [t].[Id], [t].[CategoryId], [t].[CratedBy], [t].[CreatedTime], [t].[CurrencyId], [t].[Date], [t].[DefaultTransactionId], [t].[DeletedBy], [t].[DeletedTime], [t].[Description], [t].[GroupId], [t].[IsDefault], [t].[IsDeleted], [t].[ModifiedBy], [t].[ModifiedTime], [t].[Price], [t].[Title], [t].[UserIdentityId]
    FROM [Transactions] AS [t]
    WHERE [t].[UserIdentityId] = @__userId_0
    ORDER BY (SELECT 1)
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t0]
INNER JOIN [Currencies] AS [c] ON [t0].[CurrencyId] = [c].[Id]
INNER JOIN [Categories] AS [c0] ON [t0].[CategoryId] = [c0].[Id]
2023-12-13 22:21:25.978 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Transactions] AS [t]
WHERE [t].[UserIdentityId] = @__userId_0
2023-12-13 22:21:25.979 +01:00 [INF] Executing OkObjectResult, writing value of type 'WalletApp.Application.Common.ApiResult`1[[WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListResponseDto, WalletApp.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-13 22:21:25.980 +01:00 [INF] Executed action WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api) in 15.6759ms
2023-12-13 22:21:25.981 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api)'
2023-12-13 22:21:25.982 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=1&PaginationParamsDto.PageSize=5 - - - 200 - application/json;+charset=utf-8 23.3868ms
2023-12-13 22:21:42.109 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=1&PaginationParamsDto.PageSize=5 - -
2023-12-13 22:21:42.110 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:21:42.111 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=1&PaginationParamsDto.PageSize=5 - - - 204 - - 2.5480ms
2023-12-13 22:21:42.112 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=1&PaginationParamsDto.PageSize=5 - -
2023-12-13 22:21:42.113 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:21:42.115 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api)'
2023-12-13 22:21:42.116 +01:00 [INF] Route matched with {action = "GetAllTransactions", controller = "TransactionUser"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult`1[WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListResponseDto]]] GetAllTransactions(WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListDto, System.Threading.CancellationToken) on controller WalletApp.Controllers.TransactionUserController (WalletApp.Api).
2023-12-13 22:21:42.121 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Transactions] AS [t]
        WHERE [t].[UserIdentityId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-12-13 22:21:42.126 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[CategoryId], [t0].[CratedBy], [t0].[CreatedTime], [t0].[CurrencyId], [t0].[Date], [t0].[DefaultTransactionId], [t0].[DeletedBy], [t0].[DeletedTime], [t0].[Description], [t0].[GroupId], [t0].[IsDefault], [t0].[IsDeleted], [t0].[ModifiedBy], [t0].[ModifiedTime], [t0].[Price], [t0].[Title], [t0].[UserIdentityId], [c].[Id], [c].[Ask], [c].[Bid], [c].[Code], [c].[CratedBy], [c].[CreatedTime], [c].[CurrencyName], [c].[DeletedBy], [c].[DeletedTime], [c].[IsDeleted], [c].[ModifiedBy], [c].[ModifiedTime], [c].[TradingDate], [c0].[Id], [c0].[CratedBy], [c0].[CreatedTime], [c0].[DeletedBy], [c0].[DeletedTime], [c0].[GroupId], [c0].[IsDeleted], [c0].[ModifiedBy], [c0].[ModifiedTime], [c0].[Name], [c0].[UserIdentityId]
FROM (
    SELECT [t].[Id], [t].[CategoryId], [t].[CratedBy], [t].[CreatedTime], [t].[CurrencyId], [t].[Date], [t].[DefaultTransactionId], [t].[DeletedBy], [t].[DeletedTime], [t].[Description], [t].[GroupId], [t].[IsDefault], [t].[IsDeleted], [t].[ModifiedBy], [t].[ModifiedTime], [t].[Price], [t].[Title], [t].[UserIdentityId]
    FROM [Transactions] AS [t]
    WHERE [t].[UserIdentityId] = @__userId_0
    ORDER BY (SELECT 1)
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t0]
INNER JOIN [Currencies] AS [c] ON [t0].[CurrencyId] = [c].[Id]
INNER JOIN [Categories] AS [c0] ON [t0].[CategoryId] = [c0].[Id]
2023-12-13 22:21:42.131 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Transactions] AS [t]
WHERE [t].[UserIdentityId] = @__userId_0
2023-12-13 22:21:42.133 +01:00 [INF] Executing OkObjectResult, writing value of type 'WalletApp.Application.Common.ApiResult`1[[WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListResponseDto, WalletApp.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-13 22:21:42.134 +01:00 [INF] Executed action WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api) in 16.9144ms
2023-12-13 22:21:42.135 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api)'
2023-12-13 22:21:42.137 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=1&PaginationParamsDto.PageSize=5 - - - 200 - application/json;+charset=utf-8 24.2582ms
2023-12-13 22:22:04.110 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=1&PaginationParamsDto.PageSize=5 - -
2023-12-13 22:22:04.115 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:22:04.119 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=1&PaginationParamsDto.PageSize=5 - - - 204 - - 9.2031ms
2023-12-13 22:22:04.125 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=1&PaginationParamsDto.PageSize=5 - -
2023-12-13 22:22:04.126 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:22:04.129 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api)'
2023-12-13 22:22:04.131 +01:00 [INF] Route matched with {action = "GetAllTransactions", controller = "TransactionUser"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult`1[WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListResponseDto]]] GetAllTransactions(WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListDto, System.Threading.CancellationToken) on controller WalletApp.Controllers.TransactionUserController (WalletApp.Api).
2023-12-13 22:22:04.139 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Transactions] AS [t]
        WHERE [t].[UserIdentityId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-12-13 22:22:04.148 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[CategoryId], [t0].[CratedBy], [t0].[CreatedTime], [t0].[CurrencyId], [t0].[Date], [t0].[DefaultTransactionId], [t0].[DeletedBy], [t0].[DeletedTime], [t0].[Description], [t0].[GroupId], [t0].[IsDefault], [t0].[IsDeleted], [t0].[ModifiedBy], [t0].[ModifiedTime], [t0].[Price], [t0].[Title], [t0].[UserIdentityId], [c].[Id], [c].[Ask], [c].[Bid], [c].[Code], [c].[CratedBy], [c].[CreatedTime], [c].[CurrencyName], [c].[DeletedBy], [c].[DeletedTime], [c].[IsDeleted], [c].[ModifiedBy], [c].[ModifiedTime], [c].[TradingDate], [c0].[Id], [c0].[CratedBy], [c0].[CreatedTime], [c0].[DeletedBy], [c0].[DeletedTime], [c0].[GroupId], [c0].[IsDeleted], [c0].[ModifiedBy], [c0].[ModifiedTime], [c0].[Name], [c0].[UserIdentityId]
FROM (
    SELECT [t].[Id], [t].[CategoryId], [t].[CratedBy], [t].[CreatedTime], [t].[CurrencyId], [t].[Date], [t].[DefaultTransactionId], [t].[DeletedBy], [t].[DeletedTime], [t].[Description], [t].[GroupId], [t].[IsDefault], [t].[IsDeleted], [t].[ModifiedBy], [t].[ModifiedTime], [t].[Price], [t].[Title], [t].[UserIdentityId]
    FROM [Transactions] AS [t]
    WHERE [t].[UserIdentityId] = @__userId_0
    ORDER BY (SELECT 1)
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t0]
INNER JOIN [Currencies] AS [c] ON [t0].[CurrencyId] = [c].[Id]
INNER JOIN [Categories] AS [c0] ON [t0].[CategoryId] = [c0].[Id]
2023-12-13 22:22:04.161 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Transactions] AS [t]
WHERE [t].[UserIdentityId] = @__userId_0
2023-12-13 22:22:04.164 +01:00 [INF] Executing OkObjectResult, writing value of type 'WalletApp.Application.Common.ApiResult`1[[WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListResponseDto, WalletApp.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-13 22:22:04.165 +01:00 [INF] Executed action WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api) in 31.6124ms
2023-12-13 22:22:04.166 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api)'
2023-12-13 22:22:04.168 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=1&PaginationParamsDto.PageSize=5 - - - 200 - application/json;+charset=utf-8 42.9934ms
2023-12-13 22:22:38.446 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/token/zoC8i60odxZX7D6ShldZA8HO1xQmkJNSUGS9FuFEXCc3EBUaDo906RTZtYow2i8G1XfXQMUt1WrhUwDCbQg== - -
2023-12-13 22:22:38.451 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:22:38.452 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/token/zoC8i60odxZX7D6ShldZA8HO1xQmkJNSUGS9FuFEXCc3EBUaDo906RTZtYow2i8G1XfXQMUt1WrhUwDCbQg== - - - 204 - - 6.7343ms
2023-12-13 22:22:38.453 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/token/zoC8i60odxZX7D6ShldZA8HO1xQmkJNSUGS9FuFEXCc3EBUaDo906RTZtYow2i8G1XfXQMUt1WrhUwDCbQg== - -
2023-12-13 22:22:38.454 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:22:38.455 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.TokenController.GetTokens (WalletApp.Api)'
2023-12-13 22:22:38.456 +01:00 [INF] Route matched with {action = "GetTokens", controller = "Token"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult`1[WalletApp.Application.Common.Token.UpdateRefreshToken.RefreshTokenResponseDto]]] GetTokens(System.String, System.Threading.CancellationToken) on controller WalletApp.Controllers.TokenController (WalletApp.Api).
2023-12-13 22:22:38.461 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [t].[Id], [t].[IpAddress], [t].[RefreshToken], [t].[RefreshTokenExpiryTime], [t].[UserIdentityId]
FROM [Tokens] AS [t]
WHERE [t].[RefreshToken] = @__refreshToken_0
2023-12-13 22:22:38.465 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IconType], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__get_Item_0
2023-12-13 22:22:38.476 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Tokens] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2023-12-13 22:22:38.480 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-12-13 22:22:38.482 +01:00 [INF] Executing OkObjectResult, writing value of type 'WalletApp.Application.Common.ApiResult`1[[WalletApp.Application.Common.Token.UpdateRefreshToken.RefreshTokenResponseDto, WalletApp.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-13 22:22:38.483 +01:00 [INF] Executed action WalletApp.Controllers.TokenController.GetTokens (WalletApp.Api) in 25.281ms
2023-12-13 22:22:38.485 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.TokenController.GetTokens (WalletApp.Api)'
2023-12-13 22:22:38.486 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/token/zoC8i60odxZX7D6ShldZA8HO1xQmkJNSUGS9FuFEXCc3EBUaDo906RTZtYow2i8G1XfXQMUt1WrhUwDCbQg== - - - 200 - application/json;+charset=utf-8 32.5113ms
2023-12-13 22:22:38.568 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=1&PaginationParamsDto.PageSize=5 - -
2023-12-13 22:22:38.569 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:22:38.570 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=1&PaginationParamsDto.PageSize=5 - - - 204 - - 1.8302ms
2023-12-13 22:22:38.571 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=1&PaginationParamsDto.PageSize=5 - -
2023-12-13 22:22:38.576 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:22:38.578 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api)'
2023-12-13 22:22:38.579 +01:00 [INF] Route matched with {action = "GetAllTransactions", controller = "TransactionUser"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult`1[WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListResponseDto]]] GetAllTransactions(WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListDto, System.Threading.CancellationToken) on controller WalletApp.Controllers.TransactionUserController (WalletApp.Api).
2023-12-13 22:22:38.584 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Transactions] AS [t]
        WHERE [t].[UserIdentityId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-12-13 22:22:38.589 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[CategoryId], [t0].[CratedBy], [t0].[CreatedTime], [t0].[CurrencyId], [t0].[Date], [t0].[DefaultTransactionId], [t0].[DeletedBy], [t0].[DeletedTime], [t0].[Description], [t0].[GroupId], [t0].[IsDefault], [t0].[IsDeleted], [t0].[ModifiedBy], [t0].[ModifiedTime], [t0].[Price], [t0].[Title], [t0].[UserIdentityId], [c].[Id], [c].[Ask], [c].[Bid], [c].[Code], [c].[CratedBy], [c].[CreatedTime], [c].[CurrencyName], [c].[DeletedBy], [c].[DeletedTime], [c].[IsDeleted], [c].[ModifiedBy], [c].[ModifiedTime], [c].[TradingDate], [c0].[Id], [c0].[CratedBy], [c0].[CreatedTime], [c0].[DeletedBy], [c0].[DeletedTime], [c0].[GroupId], [c0].[IsDeleted], [c0].[ModifiedBy], [c0].[ModifiedTime], [c0].[Name], [c0].[UserIdentityId]
FROM (
    SELECT [t].[Id], [t].[CategoryId], [t].[CratedBy], [t].[CreatedTime], [t].[CurrencyId], [t].[Date], [t].[DefaultTransactionId], [t].[DeletedBy], [t].[DeletedTime], [t].[Description], [t].[GroupId], [t].[IsDefault], [t].[IsDeleted], [t].[ModifiedBy], [t].[ModifiedTime], [t].[Price], [t].[Title], [t].[UserIdentityId]
    FROM [Transactions] AS [t]
    WHERE [t].[UserIdentityId] = @__userId_0
    ORDER BY (SELECT 1)
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t0]
INNER JOIN [Currencies] AS [c] ON [t0].[CurrencyId] = [c].[Id]
INNER JOIN [Categories] AS [c0] ON [t0].[CategoryId] = [c0].[Id]
2023-12-13 22:22:38.595 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Transactions] AS [t]
WHERE [t].[UserIdentityId] = @__userId_0
2023-12-13 22:22:38.597 +01:00 [INF] Executing OkObjectResult, writing value of type 'WalletApp.Application.Common.ApiResult`1[[WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListResponseDto, WalletApp.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-13 22:22:38.599 +01:00 [INF] Executed action WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api) in 17.9787ms
2023-12-13 22:22:38.600 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api)'
2023-12-13 22:22:38.601 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=1&PaginationParamsDto.PageSize=5 - - - 200 - application/json;+charset=utf-8 30.2525ms
2023-12-13 22:23:59.113 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=1&PaginationParamsDto.PageSize=5 - -
2023-12-13 22:23:59.114 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:23:59.115 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=1&PaginationParamsDto.PageSize=5 - - - 204 - - 2.1247ms
2023-12-13 22:23:59.117 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=1&PaginationParamsDto.PageSize=5 - -
2023-12-13 22:23:59.123 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:23:59.150 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api)'
2023-12-13 22:23:59.156 +01:00 [INF] Route matched with {action = "GetAllTransactions", controller = "TransactionUser"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult`1[WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListResponseDto]]] GetAllTransactions(WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListDto, System.Threading.CancellationToken) on controller WalletApp.Controllers.TransactionUserController (WalletApp.Api).
2023-12-13 22:23:59.177 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Transactions] AS [t]
        WHERE [t].[UserIdentityId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-12-13 22:23:59.183 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[CategoryId], [t0].[CratedBy], [t0].[CreatedTime], [t0].[CurrencyId], [t0].[Date], [t0].[DefaultTransactionId], [t0].[DeletedBy], [t0].[DeletedTime], [t0].[Description], [t0].[GroupId], [t0].[IsDefault], [t0].[IsDeleted], [t0].[ModifiedBy], [t0].[ModifiedTime], [t0].[Price], [t0].[Title], [t0].[UserIdentityId], [c].[Id], [c].[Ask], [c].[Bid], [c].[Code], [c].[CratedBy], [c].[CreatedTime], [c].[CurrencyName], [c].[DeletedBy], [c].[DeletedTime], [c].[IsDeleted], [c].[ModifiedBy], [c].[ModifiedTime], [c].[TradingDate], [c0].[Id], [c0].[CratedBy], [c0].[CreatedTime], [c0].[DeletedBy], [c0].[DeletedTime], [c0].[GroupId], [c0].[IsDeleted], [c0].[ModifiedBy], [c0].[ModifiedTime], [c0].[Name], [c0].[UserIdentityId]
FROM (
    SELECT [t].[Id], [t].[CategoryId], [t].[CratedBy], [t].[CreatedTime], [t].[CurrencyId], [t].[Date], [t].[DefaultTransactionId], [t].[DeletedBy], [t].[DeletedTime], [t].[Description], [t].[GroupId], [t].[IsDefault], [t].[IsDeleted], [t].[ModifiedBy], [t].[ModifiedTime], [t].[Price], [t].[Title], [t].[UserIdentityId]
    FROM [Transactions] AS [t]
    WHERE [t].[UserIdentityId] = @__userId_0
    ORDER BY (SELECT 1)
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t0]
INNER JOIN [Currencies] AS [c] ON [t0].[CurrencyId] = [c].[Id]
INNER JOIN [Categories] AS [c0] ON [t0].[CategoryId] = [c0].[Id]
2023-12-13 22:23:59.192 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Transactions] AS [t]
WHERE [t].[UserIdentityId] = @__userId_0
2023-12-13 22:23:59.195 +01:00 [INF] Executing OkObjectResult, writing value of type 'WalletApp.Application.Common.ApiResult`1[[WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListResponseDto, WalletApp.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-13 22:23:59.196 +01:00 [INF] Executed action WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api) in 37.36ms
2023-12-13 22:23:59.198 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api)'
2023-12-13 22:23:59.199 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=1&PaginationParamsDto.PageSize=5 - - - 200 - application/json;+charset=utf-8 82.5217ms
2023-12-13 22:25:00.169 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/defaultUserTransactions - -
2023-12-13 22:25:00.179 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:25:00.181 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/defaultUserTransactions - - - 204 - - 12.8414ms
2023-12-13 22:25:00.183 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/defaultUserTransactions - -
2023-12-13 22:25:00.191 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:25:00.193 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.DefaultUserTransactionsController.GetDefaultUserTransactions (WalletApp.Api)'
2023-12-13 22:25:00.197 +01:00 [INF] Route matched with {action = "GetDefaultUserTransactions", controller = "DefaultUserTransactions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult`1[System.Collections.Generic.IReadOnlyCollection`1[WalletApp.Application.Common.DefaultTransaction.GetDefaultUserTransactions.GetDefaultUserTransactionResponseDto]]]] GetDefaultUserTransactions(System.Threading.CancellationToken) on controller WalletApp.Controllers.DefaultUserTransactionsController (WalletApp.Api).
2023-12-13 22:25:00.218 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[BackgroundColor], [d].[CategoryId], [d].[CratedBy], [d].[CreatedTime], [d].[CurrencyId], [d].[DeletedBy], [d].[DeletedTime], [d].[Description], [d].[GroupId], [d].[IsDeleted], [d].[ModifiedBy], [d].[ModifiedTime], [d].[Price], [d].[TextColor], [d].[Title], [d].[UserIdentityId], [c].[Id], [c].[CratedBy], [c].[CreatedTime], [c].[DeletedBy], [c].[DeletedTime], [c].[GroupId], [c].[IsDeleted], [c].[ModifiedBy], [c].[ModifiedTime], [c].[Name], [c].[UserIdentityId], [c0].[Id], [c0].[Ask], [c0].[Bid], [c0].[Code], [c0].[CratedBy], [c0].[CreatedTime], [c0].[CurrencyName], [c0].[DeletedBy], [c0].[DeletedTime], [c0].[IsDeleted], [c0].[ModifiedBy], [c0].[ModifiedTime], [c0].[TradingDate]
FROM [DefaultTransactions] AS [d]
INNER JOIN [Categories] AS [c] ON [d].[CategoryId] = [c].[Id]
INNER JOIN [Currencies] AS [c0] ON [d].[CurrencyId] = [c0].[Id]
WHERE [d].[UserIdentityId] = @__userId_0
2023-12-13 22:25:00.239 +01:00 [INF] Executing OkObjectResult, writing value of type 'WalletApp.Application.Common.ApiResult`1[[System.Collections.Generic.IReadOnlyCollection`1[[WalletApp.Application.Common.DefaultTransaction.GetDefaultUserTransactions.GetDefaultUserTransactionResponseDto, WalletApp.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-12-13 22:25:00.244 +01:00 [INF] Executed action WalletApp.Controllers.DefaultUserTransactionsController.GetDefaultUserTransactions (WalletApp.Api) in 44.826ms
2023-12-13 22:25:00.245 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.DefaultUserTransactionsController.GetDefaultUserTransactions (WalletApp.Api)'
2023-12-13 22:25:00.246 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/defaultUserTransactions - - - 200 - application/json;+charset=utf-8 62.7313ms
2023-12-13 22:25:01.628 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/transactionUser/addDefault - -
2023-12-13 22:25:01.629 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:25:01.630 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/transactionUser/addDefault - - - 204 - - 2.7173ms
2023-12-13 22:25:01.632 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5238/api/transactionUser/addDefault application/json 63
2023-12-13 22:25:01.633 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:25:01.635 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.TransactionUserController.AddUserTransactionDefault (WalletApp.Api)'
2023-12-13 22:25:01.637 +01:00 [INF] Route matched with {action = "AddUserTransactionDefault", controller = "TransactionUser"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult]] AddUserTransactionDefault(WalletApp.Application.Common.Transaction.AddUserTxDefault.AddUserTxDefaultDto, System.Threading.CancellationToken) on controller WalletApp.Controllers.TransactionUserController (WalletApp.Api).
2023-12-13 22:25:01.659 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[BackgroundColor], [d].[CategoryId], [d].[CratedBy], [d].[CreatedTime], [d].[CurrencyId], [d].[DeletedBy], [d].[DeletedTime], [d].[Description], [d].[GroupId], [d].[IsDeleted], [d].[ModifiedBy], [d].[ModifiedTime], [d].[Price], [d].[TextColor], [d].[Title], [d].[UserIdentityId]
FROM [DefaultTransactions] AS [d]
WHERE [d].[Id] = @__id_0
2023-12-13 22:25:01.733 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Guid), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Guid), @p7='?' (DbType = Guid), @p8='?' (DbType = DateTime2), @p9='?' (Size = 500), @p10='?' (DbType = Guid), @p11='?' (DbType = Boolean), @p12='?' (DbType = Guid), @p13='?' (DbType = DateTime2), @p14='?' (Precision = 15) (Scale = 2) (DbType = Decimal), @p15='?' (Size = 50), @p16='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Transactions] ([Id], [CategoryId], [CratedBy], [CreatedTime], [CurrencyId], [Date], [DefaultTransactionId], [DeletedBy], [DeletedTime], [Description], [GroupId], [IsDeleted], [ModifiedBy], [ModifiedTime], [Price], [Title], [UserIdentityId])
OUTPUT INSERTED.[IsDefault]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
2023-12-13 22:25:01.742 +01:00 [INF] Executing OkObjectResult, writing value of type 'WalletApp.Application.Common.ApiResult'.
2023-12-13 22:25:01.744 +01:00 [INF] Executed action WalletApp.Controllers.TransactionUserController.AddUserTransactionDefault (WalletApp.Api) in 105.7778ms
2023-12-13 22:25:01.745 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.TransactionUserController.AddUserTransactionDefault (WalletApp.Api)'
2023-12-13 22:25:01.747 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5238/api/transactionUser/addDefault application/json 63 - 200 - application/json;+charset=utf-8 115.0341ms
2023-12-13 22:25:02.231 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5238/api/transactionUser/addDefault application/json 63
2023-12-13 22:25:02.232 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:25:02.234 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.TransactionUserController.AddUserTransactionDefault (WalletApp.Api)'
2023-12-13 22:25:02.234 +01:00 [INF] Route matched with {action = "AddUserTransactionDefault", controller = "TransactionUser"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult]] AddUserTransactionDefault(WalletApp.Application.Common.Transaction.AddUserTxDefault.AddUserTxDefaultDto, System.Threading.CancellationToken) on controller WalletApp.Controllers.TransactionUserController (WalletApp.Api).
2023-12-13 22:25:02.245 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[BackgroundColor], [d].[CategoryId], [d].[CratedBy], [d].[CreatedTime], [d].[CurrencyId], [d].[DeletedBy], [d].[DeletedTime], [d].[Description], [d].[GroupId], [d].[IsDeleted], [d].[ModifiedBy], [d].[ModifiedTime], [d].[Price], [d].[TextColor], [d].[Title], [d].[UserIdentityId]
FROM [DefaultTransactions] AS [d]
WHERE [d].[Id] = @__id_0
2023-12-13 22:25:02.260 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Guid), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Guid), @p7='?' (DbType = Guid), @p8='?' (DbType = DateTime2), @p9='?' (Size = 500), @p10='?' (DbType = Guid), @p11='?' (DbType = Boolean), @p12='?' (DbType = Guid), @p13='?' (DbType = DateTime2), @p14='?' (Precision = 15) (Scale = 2) (DbType = Decimal), @p15='?' (Size = 50), @p16='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Transactions] ([Id], [CategoryId], [CratedBy], [CreatedTime], [CurrencyId], [Date], [DefaultTransactionId], [DeletedBy], [DeletedTime], [Description], [GroupId], [IsDeleted], [ModifiedBy], [ModifiedTime], [Price], [Title], [UserIdentityId])
OUTPUT INSERTED.[IsDefault]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
2023-12-13 22:25:02.263 +01:00 [INF] Executing OkObjectResult, writing value of type 'WalletApp.Application.Common.ApiResult'.
2023-12-13 22:25:02.265 +01:00 [INF] Executed action WalletApp.Controllers.TransactionUserController.AddUserTransactionDefault (WalletApp.Api) in 28.7057ms
2023-12-13 22:25:02.267 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.TransactionUserController.AddUserTransactionDefault (WalletApp.Api)'
2023-12-13 22:25:02.268 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5238/api/transactionUser/addDefault application/json 63 - 200 - application/json;+charset=utf-8 36.9363ms
2023-12-13 22:25:02.780 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5238/api/transactionUser/addDefault application/json 63
2023-12-13 22:25:02.781 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:25:02.782 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.TransactionUserController.AddUserTransactionDefault (WalletApp.Api)'
2023-12-13 22:25:02.783 +01:00 [INF] Route matched with {action = "AddUserTransactionDefault", controller = "TransactionUser"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult]] AddUserTransactionDefault(WalletApp.Application.Common.Transaction.AddUserTxDefault.AddUserTxDefaultDto, System.Threading.CancellationToken) on controller WalletApp.Controllers.TransactionUserController (WalletApp.Api).
2023-12-13 22:25:02.789 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[BackgroundColor], [d].[CategoryId], [d].[CratedBy], [d].[CreatedTime], [d].[CurrencyId], [d].[DeletedBy], [d].[DeletedTime], [d].[Description], [d].[GroupId], [d].[IsDeleted], [d].[ModifiedBy], [d].[ModifiedTime], [d].[Price], [d].[TextColor], [d].[Title], [d].[UserIdentityId]
FROM [DefaultTransactions] AS [d]
WHERE [d].[Id] = @__id_0
2023-12-13 22:25:02.796 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Guid), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Guid), @p7='?' (DbType = Guid), @p8='?' (DbType = DateTime2), @p9='?' (Size = 500), @p10='?' (DbType = Guid), @p11='?' (DbType = Boolean), @p12='?' (DbType = Guid), @p13='?' (DbType = DateTime2), @p14='?' (Precision = 15) (Scale = 2) (DbType = Decimal), @p15='?' (Size = 50), @p16='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Transactions] ([Id], [CategoryId], [CratedBy], [CreatedTime], [CurrencyId], [Date], [DefaultTransactionId], [DeletedBy], [DeletedTime], [Description], [GroupId], [IsDeleted], [ModifiedBy], [ModifiedTime], [Price], [Title], [UserIdentityId])
OUTPUT INSERTED.[IsDefault]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
2023-12-13 22:25:02.798 +01:00 [INF] Executing OkObjectResult, writing value of type 'WalletApp.Application.Common.ApiResult'.
2023-12-13 22:25:02.799 +01:00 [INF] Executed action WalletApp.Controllers.TransactionUserController.AddUserTransactionDefault (WalletApp.Api) in 14.1151ms
2023-12-13 22:25:02.800 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.TransactionUserController.AddUserTransactionDefault (WalletApp.Api)'
2023-12-13 22:25:02.801 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5238/api/transactionUser/addDefault application/json 63 - 200 - application/json;+charset=utf-8 21.8720ms
2023-12-13 22:25:03.296 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5238/api/transactionUser/addDefault application/json 63
2023-12-13 22:25:03.296 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:25:03.298 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.TransactionUserController.AddUserTransactionDefault (WalletApp.Api)'
2023-12-13 22:25:03.299 +01:00 [INF] Route matched with {action = "AddUserTransactionDefault", controller = "TransactionUser"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult]] AddUserTransactionDefault(WalletApp.Application.Common.Transaction.AddUserTxDefault.AddUserTxDefaultDto, System.Threading.CancellationToken) on controller WalletApp.Controllers.TransactionUserController (WalletApp.Api).
2023-12-13 22:25:03.304 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[BackgroundColor], [d].[CategoryId], [d].[CratedBy], [d].[CreatedTime], [d].[CurrencyId], [d].[DeletedBy], [d].[DeletedTime], [d].[Description], [d].[GroupId], [d].[IsDeleted], [d].[ModifiedBy], [d].[ModifiedTime], [d].[Price], [d].[TextColor], [d].[Title], [d].[UserIdentityId]
FROM [DefaultTransactions] AS [d]
WHERE [d].[Id] = @__id_0
2023-12-13 22:25:03.312 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Guid), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Guid), @p7='?' (DbType = Guid), @p8='?' (DbType = DateTime2), @p9='?' (Size = 500), @p10='?' (DbType = Guid), @p11='?' (DbType = Boolean), @p12='?' (DbType = Guid), @p13='?' (DbType = DateTime2), @p14='?' (Precision = 15) (Scale = 2) (DbType = Decimal), @p15='?' (Size = 50), @p16='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Transactions] ([Id], [CategoryId], [CratedBy], [CreatedTime], [CurrencyId], [Date], [DefaultTransactionId], [DeletedBy], [DeletedTime], [Description], [GroupId], [IsDeleted], [ModifiedBy], [ModifiedTime], [Price], [Title], [UserIdentityId])
OUTPUT INSERTED.[IsDefault]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
2023-12-13 22:25:03.314 +01:00 [INF] Executing OkObjectResult, writing value of type 'WalletApp.Application.Common.ApiResult'.
2023-12-13 22:25:03.315 +01:00 [INF] Executed action WalletApp.Controllers.TransactionUserController.AddUserTransactionDefault (WalletApp.Api) in 14.2891ms
2023-12-13 22:25:03.317 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.TransactionUserController.AddUserTransactionDefault (WalletApp.Api)'
2023-12-13 22:25:03.317 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5238/api/transactionUser/addDefault application/json 63 - 200 - application/json;+charset=utf-8 21.9253ms
2023-12-13 22:25:03.856 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5238/api/transactionUser/addDefault application/json 63
2023-12-13 22:25:03.857 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:25:03.859 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.TransactionUserController.AddUserTransactionDefault (WalletApp.Api)'
2023-12-13 22:25:03.859 +01:00 [INF] Route matched with {action = "AddUserTransactionDefault", controller = "TransactionUser"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult]] AddUserTransactionDefault(WalletApp.Application.Common.Transaction.AddUserTxDefault.AddUserTxDefaultDto, System.Threading.CancellationToken) on controller WalletApp.Controllers.TransactionUserController (WalletApp.Api).
2023-12-13 22:25:03.864 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[BackgroundColor], [d].[CategoryId], [d].[CratedBy], [d].[CreatedTime], [d].[CurrencyId], [d].[DeletedBy], [d].[DeletedTime], [d].[Description], [d].[GroupId], [d].[IsDeleted], [d].[ModifiedBy], [d].[ModifiedTime], [d].[Price], [d].[TextColor], [d].[Title], [d].[UserIdentityId]
FROM [DefaultTransactions] AS [d]
WHERE [d].[Id] = @__id_0
2023-12-13 22:25:03.872 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Guid), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Guid), @p7='?' (DbType = Guid), @p8='?' (DbType = DateTime2), @p9='?' (Size = 500), @p10='?' (DbType = Guid), @p11='?' (DbType = Boolean), @p12='?' (DbType = Guid), @p13='?' (DbType = DateTime2), @p14='?' (Precision = 15) (Scale = 2) (DbType = Decimal), @p15='?' (Size = 50), @p16='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Transactions] ([Id], [CategoryId], [CratedBy], [CreatedTime], [CurrencyId], [Date], [DefaultTransactionId], [DeletedBy], [DeletedTime], [Description], [GroupId], [IsDeleted], [ModifiedBy], [ModifiedTime], [Price], [Title], [UserIdentityId])
OUTPUT INSERTED.[IsDefault]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
2023-12-13 22:25:03.874 +01:00 [INF] Executing OkObjectResult, writing value of type 'WalletApp.Application.Common.ApiResult'.
2023-12-13 22:25:03.875 +01:00 [INF] Executed action WalletApp.Controllers.TransactionUserController.AddUserTransactionDefault (WalletApp.Api) in 14.1008ms
2023-12-13 22:25:03.876 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.TransactionUserController.AddUserTransactionDefault (WalletApp.Api)'
2023-12-13 22:25:03.877 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5238/api/transactionUser/addDefault application/json 63 - 200 - application/json;+charset=utf-8 20.5646ms
2023-12-13 22:25:04.387 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5238/api/transactionUser/addDefault application/json 63
2023-12-13 22:25:04.388 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:25:04.389 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.TransactionUserController.AddUserTransactionDefault (WalletApp.Api)'
2023-12-13 22:25:04.391 +01:00 [INF] Route matched with {action = "AddUserTransactionDefault", controller = "TransactionUser"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult]] AddUserTransactionDefault(WalletApp.Application.Common.Transaction.AddUserTxDefault.AddUserTxDefaultDto, System.Threading.CancellationToken) on controller WalletApp.Controllers.TransactionUserController (WalletApp.Api).
2023-12-13 22:25:04.395 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[BackgroundColor], [d].[CategoryId], [d].[CratedBy], [d].[CreatedTime], [d].[CurrencyId], [d].[DeletedBy], [d].[DeletedTime], [d].[Description], [d].[GroupId], [d].[IsDeleted], [d].[ModifiedBy], [d].[ModifiedTime], [d].[Price], [d].[TextColor], [d].[Title], [d].[UserIdentityId]
FROM [DefaultTransactions] AS [d]
WHERE [d].[Id] = @__id_0
2023-12-13 22:25:04.403 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Guid), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Guid), @p7='?' (DbType = Guid), @p8='?' (DbType = DateTime2), @p9='?' (Size = 500), @p10='?' (DbType = Guid), @p11='?' (DbType = Boolean), @p12='?' (DbType = Guid), @p13='?' (DbType = DateTime2), @p14='?' (Precision = 15) (Scale = 2) (DbType = Decimal), @p15='?' (Size = 50), @p16='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Transactions] ([Id], [CategoryId], [CratedBy], [CreatedTime], [CurrencyId], [Date], [DefaultTransactionId], [DeletedBy], [DeletedTime], [Description], [GroupId], [IsDeleted], [ModifiedBy], [ModifiedTime], [Price], [Title], [UserIdentityId])
OUTPUT INSERTED.[IsDefault]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
2023-12-13 22:25:04.405 +01:00 [INF] Executing OkObjectResult, writing value of type 'WalletApp.Application.Common.ApiResult'.
2023-12-13 22:25:04.406 +01:00 [INF] Executed action WalletApp.Controllers.TransactionUserController.AddUserTransactionDefault (WalletApp.Api) in 13.9826ms
2023-12-13 22:25:04.407 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.TransactionUserController.AddUserTransactionDefault (WalletApp.Api)'
2023-12-13 22:25:04.408 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5238/api/transactionUser/addDefault application/json 63 - 200 - application/json;+charset=utf-8 21.2764ms
2023-12-13 22:25:04.877 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5238/api/transactionUser/addDefault application/json 63
2023-12-13 22:25:04.878 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:25:04.879 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.TransactionUserController.AddUserTransactionDefault (WalletApp.Api)'
2023-12-13 22:25:04.880 +01:00 [INF] Route matched with {action = "AddUserTransactionDefault", controller = "TransactionUser"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult]] AddUserTransactionDefault(WalletApp.Application.Common.Transaction.AddUserTxDefault.AddUserTxDefaultDto, System.Threading.CancellationToken) on controller WalletApp.Controllers.TransactionUserController (WalletApp.Api).
2023-12-13 22:25:04.886 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[BackgroundColor], [d].[CategoryId], [d].[CratedBy], [d].[CreatedTime], [d].[CurrencyId], [d].[DeletedBy], [d].[DeletedTime], [d].[Description], [d].[GroupId], [d].[IsDeleted], [d].[ModifiedBy], [d].[ModifiedTime], [d].[Price], [d].[TextColor], [d].[Title], [d].[UserIdentityId]
FROM [DefaultTransactions] AS [d]
WHERE [d].[Id] = @__id_0
2023-12-13 22:25:04.893 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Guid), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Guid), @p7='?' (DbType = Guid), @p8='?' (DbType = DateTime2), @p9='?' (Size = 500), @p10='?' (DbType = Guid), @p11='?' (DbType = Boolean), @p12='?' (DbType = Guid), @p13='?' (DbType = DateTime2), @p14='?' (Precision = 15) (Scale = 2) (DbType = Decimal), @p15='?' (Size = 50), @p16='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Transactions] ([Id], [CategoryId], [CratedBy], [CreatedTime], [CurrencyId], [Date], [DefaultTransactionId], [DeletedBy], [DeletedTime], [Description], [GroupId], [IsDeleted], [ModifiedBy], [ModifiedTime], [Price], [Title], [UserIdentityId])
OUTPUT INSERTED.[IsDefault]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
2023-12-13 22:25:04.895 +01:00 [INF] Executing OkObjectResult, writing value of type 'WalletApp.Application.Common.ApiResult'.
2023-12-13 22:25:04.896 +01:00 [INF] Executed action WalletApp.Controllers.TransactionUserController.AddUserTransactionDefault (WalletApp.Api) in 14.2177ms
2023-12-13 22:25:04.897 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.TransactionUserController.AddUserTransactionDefault (WalletApp.Api)'
2023-12-13 22:25:04.898 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5238/api/transactionUser/addDefault application/json 63 - 200 - application/json;+charset=utf-8 20.8163ms
2023-12-13 22:25:06.090 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=1&PaginationParamsDto.PageSize=5 - -
2023-12-13 22:25:06.091 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:25:06.092 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=1&PaginationParamsDto.PageSize=5 - - - 204 - - 2.1163ms
2023-12-13 22:25:06.093 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=1&PaginationParamsDto.PageSize=5 - -
2023-12-13 22:25:06.094 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:25:06.096 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api)'
2023-12-13 22:25:06.096 +01:00 [INF] Route matched with {action = "GetAllTransactions", controller = "TransactionUser"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult`1[WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListResponseDto]]] GetAllTransactions(WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListDto, System.Threading.CancellationToken) on controller WalletApp.Controllers.TransactionUserController (WalletApp.Api).
2023-12-13 22:25:06.101 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Transactions] AS [t]
        WHERE [t].[UserIdentityId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-12-13 22:25:06.106 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[CategoryId], [t0].[CratedBy], [t0].[CreatedTime], [t0].[CurrencyId], [t0].[Date], [t0].[DefaultTransactionId], [t0].[DeletedBy], [t0].[DeletedTime], [t0].[Description], [t0].[GroupId], [t0].[IsDefault], [t0].[IsDeleted], [t0].[ModifiedBy], [t0].[ModifiedTime], [t0].[Price], [t0].[Title], [t0].[UserIdentityId], [c].[Id], [c].[Ask], [c].[Bid], [c].[Code], [c].[CratedBy], [c].[CreatedTime], [c].[CurrencyName], [c].[DeletedBy], [c].[DeletedTime], [c].[IsDeleted], [c].[ModifiedBy], [c].[ModifiedTime], [c].[TradingDate], [c0].[Id], [c0].[CratedBy], [c0].[CreatedTime], [c0].[DeletedBy], [c0].[DeletedTime], [c0].[GroupId], [c0].[IsDeleted], [c0].[ModifiedBy], [c0].[ModifiedTime], [c0].[Name], [c0].[UserIdentityId]
FROM (
    SELECT [t].[Id], [t].[CategoryId], [t].[CratedBy], [t].[CreatedTime], [t].[CurrencyId], [t].[Date], [t].[DefaultTransactionId], [t].[DeletedBy], [t].[DeletedTime], [t].[Description], [t].[GroupId], [t].[IsDefault], [t].[IsDeleted], [t].[ModifiedBy], [t].[ModifiedTime], [t].[Price], [t].[Title], [t].[UserIdentityId]
    FROM [Transactions] AS [t]
    WHERE [t].[UserIdentityId] = @__userId_0
    ORDER BY (SELECT 1)
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t0]
INNER JOIN [Currencies] AS [c] ON [t0].[CurrencyId] = [c].[Id]
INNER JOIN [Categories] AS [c0] ON [t0].[CategoryId] = [c0].[Id]
2023-12-13 22:25:06.111 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Transactions] AS [t]
WHERE [t].[UserIdentityId] = @__userId_0
2023-12-13 22:25:06.113 +01:00 [INF] Executing OkObjectResult, writing value of type 'WalletApp.Application.Common.ApiResult`1[[WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListResponseDto, WalletApp.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-13 22:25:06.114 +01:00 [INF] Executed action WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api) in 16.2675ms
2023-12-13 22:25:06.115 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api)'
2023-12-13 22:25:06.117 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=1&PaginationParamsDto.PageSize=5 - - - 200 - application/json;+charset=utf-8 23.5522ms
2023-12-13 22:25:14.642 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=2&PaginationParamsDto.PageSize=5 - -
2023-12-13 22:25:14.645 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:25:14.660 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=2&PaginationParamsDto.PageSize=5 - - - 204 - - 17.8569ms
2023-12-13 22:25:14.662 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=2&PaginationParamsDto.PageSize=5 - -
2023-12-13 22:25:14.663 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:25:14.666 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api)'
2023-12-13 22:25:14.667 +01:00 [INF] Route matched with {action = "GetAllTransactions", controller = "TransactionUser"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult`1[WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListResponseDto]]] GetAllTransactions(WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListDto, System.Threading.CancellationToken) on controller WalletApp.Controllers.TransactionUserController (WalletApp.Api).
2023-12-13 22:25:14.675 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Transactions] AS [t]
        WHERE [t].[UserIdentityId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-12-13 22:25:14.681 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[CategoryId], [t0].[CratedBy], [t0].[CreatedTime], [t0].[CurrencyId], [t0].[Date], [t0].[DefaultTransactionId], [t0].[DeletedBy], [t0].[DeletedTime], [t0].[Description], [t0].[GroupId], [t0].[IsDefault], [t0].[IsDeleted], [t0].[ModifiedBy], [t0].[ModifiedTime], [t0].[Price], [t0].[Title], [t0].[UserIdentityId], [c].[Id], [c].[Ask], [c].[Bid], [c].[Code], [c].[CratedBy], [c].[CreatedTime], [c].[CurrencyName], [c].[DeletedBy], [c].[DeletedTime], [c].[IsDeleted], [c].[ModifiedBy], [c].[ModifiedTime], [c].[TradingDate], [c0].[Id], [c0].[CratedBy], [c0].[CreatedTime], [c0].[DeletedBy], [c0].[DeletedTime], [c0].[GroupId], [c0].[IsDeleted], [c0].[ModifiedBy], [c0].[ModifiedTime], [c0].[Name], [c0].[UserIdentityId]
FROM (
    SELECT [t].[Id], [t].[CategoryId], [t].[CratedBy], [t].[CreatedTime], [t].[CurrencyId], [t].[Date], [t].[DefaultTransactionId], [t].[DeletedBy], [t].[DeletedTime], [t].[Description], [t].[GroupId], [t].[IsDefault], [t].[IsDeleted], [t].[ModifiedBy], [t].[ModifiedTime], [t].[Price], [t].[Title], [t].[UserIdentityId]
    FROM [Transactions] AS [t]
    WHERE [t].[UserIdentityId] = @__userId_0
    ORDER BY (SELECT 1)
    OFFSET @__p_1 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t0]
INNER JOIN [Currencies] AS [c] ON [t0].[CurrencyId] = [c].[Id]
INNER JOIN [Categories] AS [c0] ON [t0].[CategoryId] = [c0].[Id]
2023-12-13 22:25:14.687 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Transactions] AS [t]
WHERE [t].[UserIdentityId] = @__userId_0
2023-12-13 22:25:14.689 +01:00 [INF] Executing OkObjectResult, writing value of type 'WalletApp.Application.Common.ApiResult`1[[WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListResponseDto, WalletApp.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-13 22:25:14.690 +01:00 [INF] Executed action WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api) in 20.1976ms
2023-12-13 22:25:14.692 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api)'
2023-12-13 22:25:14.693 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=2&PaginationParamsDto.PageSize=5 - - - 200 - application/json;+charset=utf-8 30.9499ms
2023-12-13 22:25:16.825 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=1&PaginationParamsDto.PageSize=5 - -
2023-12-13 22:25:16.826 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:25:16.827 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=1&PaginationParamsDto.PageSize=5 - - - 204 - - 1.7225ms
2023-12-13 22:25:16.828 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=1&PaginationParamsDto.PageSize=5 - -
2023-12-13 22:25:16.829 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:25:16.830 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api)'
2023-12-13 22:25:16.831 +01:00 [INF] Route matched with {action = "GetAllTransactions", controller = "TransactionUser"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult`1[WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListResponseDto]]] GetAllTransactions(WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListDto, System.Threading.CancellationToken) on controller WalletApp.Controllers.TransactionUserController (WalletApp.Api).
2023-12-13 22:25:16.835 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Transactions] AS [t]
        WHERE [t].[UserIdentityId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-12-13 22:25:16.839 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[CategoryId], [t0].[CratedBy], [t0].[CreatedTime], [t0].[CurrencyId], [t0].[Date], [t0].[DefaultTransactionId], [t0].[DeletedBy], [t0].[DeletedTime], [t0].[Description], [t0].[GroupId], [t0].[IsDefault], [t0].[IsDeleted], [t0].[ModifiedBy], [t0].[ModifiedTime], [t0].[Price], [t0].[Title], [t0].[UserIdentityId], [c].[Id], [c].[Ask], [c].[Bid], [c].[Code], [c].[CratedBy], [c].[CreatedTime], [c].[CurrencyName], [c].[DeletedBy], [c].[DeletedTime], [c].[IsDeleted], [c].[ModifiedBy], [c].[ModifiedTime], [c].[TradingDate], [c0].[Id], [c0].[CratedBy], [c0].[CreatedTime], [c0].[DeletedBy], [c0].[DeletedTime], [c0].[GroupId], [c0].[IsDeleted], [c0].[ModifiedBy], [c0].[ModifiedTime], [c0].[Name], [c0].[UserIdentityId]
FROM (
    SELECT [t].[Id], [t].[CategoryId], [t].[CratedBy], [t].[CreatedTime], [t].[CurrencyId], [t].[Date], [t].[DefaultTransactionId], [t].[DeletedBy], [t].[DeletedTime], [t].[Description], [t].[GroupId], [t].[IsDefault], [t].[IsDeleted], [t].[ModifiedBy], [t].[ModifiedTime], [t].[Price], [t].[Title], [t].[UserIdentityId]
    FROM [Transactions] AS [t]
    WHERE [t].[UserIdentityId] = @__userId_0
    ORDER BY (SELECT 1)
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t0]
INNER JOIN [Currencies] AS [c] ON [t0].[CurrencyId] = [c].[Id]
INNER JOIN [Categories] AS [c0] ON [t0].[CategoryId] = [c0].[Id]
2023-12-13 22:25:16.844 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Transactions] AS [t]
WHERE [t].[UserIdentityId] = @__userId_0
2023-12-13 22:25:16.846 +01:00 [INF] Executing OkObjectResult, writing value of type 'WalletApp.Application.Common.ApiResult`1[[WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListResponseDto, WalletApp.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-13 22:25:16.847 +01:00 [INF] Executed action WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api) in 14.1635ms
2023-12-13 22:25:16.847 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api)'
2023-12-13 22:25:16.848 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=1&PaginationParamsDto.PageSize=5 - - - 200 - application/json;+charset=utf-8 20.1935ms
2023-12-13 22:27:01.162 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/transaction/ed51aa4b-c1ba-4da9-b0af-08dbfc21f756 - -
2023-12-13 22:27:01.169 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:27:01.170 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/transaction/ed51aa4b-c1ba-4da9-b0af-08dbfc21f756 - - - 204 - - 7.7016ms
2023-12-13 22:27:01.171 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/transaction/ed51aa4b-c1ba-4da9-b0af-08dbfc21f756 - -
2023-12-13 22:27:01.176 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:27:01.177 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/transaction/ed51aa4b-c1ba-4da9-b0af-08dbfc21f756 - - - 404 0 - 5.8629ms
2023-12-13 22:27:04.975 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=1&PaginationParamsDto.PageSize=5 - -
2023-12-13 22:27:04.977 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:27:04.977 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=1&PaginationParamsDto.PageSize=5 - - - 204 - - 2.2197ms
2023-12-13 22:27:04.979 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=1&PaginationParamsDto.PageSize=5 - -
2023-12-13 22:27:04.979 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:27:04.981 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api)'
2023-12-13 22:27:04.981 +01:00 [INF] Route matched with {action = "GetAllTransactions", controller = "TransactionUser"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult`1[WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListResponseDto]]] GetAllTransactions(WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListDto, System.Threading.CancellationToken) on controller WalletApp.Controllers.TransactionUserController (WalletApp.Api).
2023-12-13 22:27:04.986 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Transactions] AS [t]
        WHERE [t].[UserIdentityId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-12-13 22:27:04.991 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[CategoryId], [t0].[CratedBy], [t0].[CreatedTime], [t0].[CurrencyId], [t0].[Date], [t0].[DefaultTransactionId], [t0].[DeletedBy], [t0].[DeletedTime], [t0].[Description], [t0].[GroupId], [t0].[IsDefault], [t0].[IsDeleted], [t0].[ModifiedBy], [t0].[ModifiedTime], [t0].[Price], [t0].[Title], [t0].[UserIdentityId], [c].[Id], [c].[Ask], [c].[Bid], [c].[Code], [c].[CratedBy], [c].[CreatedTime], [c].[CurrencyName], [c].[DeletedBy], [c].[DeletedTime], [c].[IsDeleted], [c].[ModifiedBy], [c].[ModifiedTime], [c].[TradingDate], [c0].[Id], [c0].[CratedBy], [c0].[CreatedTime], [c0].[DeletedBy], [c0].[DeletedTime], [c0].[GroupId], [c0].[IsDeleted], [c0].[ModifiedBy], [c0].[ModifiedTime], [c0].[Name], [c0].[UserIdentityId]
FROM (
    SELECT [t].[Id], [t].[CategoryId], [t].[CratedBy], [t].[CreatedTime], [t].[CurrencyId], [t].[Date], [t].[DefaultTransactionId], [t].[DeletedBy], [t].[DeletedTime], [t].[Description], [t].[GroupId], [t].[IsDefault], [t].[IsDeleted], [t].[ModifiedBy], [t].[ModifiedTime], [t].[Price], [t].[Title], [t].[UserIdentityId]
    FROM [Transactions] AS [t]
    WHERE [t].[UserIdentityId] = @__userId_0
    ORDER BY (SELECT 1)
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t0]
INNER JOIN [Currencies] AS [c] ON [t0].[CurrencyId] = [c].[Id]
INNER JOIN [Categories] AS [c0] ON [t0].[CategoryId] = [c0].[Id]
2023-12-13 22:27:04.995 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Transactions] AS [t]
WHERE [t].[UserIdentityId] = @__userId_0
2023-12-13 22:27:04.997 +01:00 [INF] Executing OkObjectResult, writing value of type 'WalletApp.Application.Common.ApiResult`1[[WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListResponseDto, WalletApp.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-13 22:27:04.998 +01:00 [INF] Executed action WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api) in 15.0166ms
2023-12-13 22:27:04.999 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api)'
2023-12-13 22:27:05.000 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=1&PaginationParamsDto.PageSize=5 - - - 200 - application/json;+charset=utf-8 20.9141ms
2023-12-13 22:27:05.833 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/transaction/80901e32-b00e-454a-81c9-08dbfc06a507 - -
2023-12-13 22:27:05.834 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:27:05.834 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/transaction/80901e32-b00e-454a-81c9-08dbfc06a507 - - - 204 - - 1.6976ms
2023-12-13 22:27:05.836 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/transaction/80901e32-b00e-454a-81c9-08dbfc06a507 - -
2023-12-13 22:27:05.837 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:27:05.839 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/transaction/80901e32-b00e-454a-81c9-08dbfc06a507 - - - 404 0 - 2.3009ms
2023-12-13 22:27:06.922 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=1&PaginationParamsDto.PageSize=5 - -
2023-12-13 22:27:06.923 +01:00 [INF] CORS policy execution successful.
2023-12-13 22:27:06.924 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api)'
2023-12-13 22:27:06.925 +01:00 [INF] Route matched with {action = "GetAllTransactions", controller = "TransactionUser"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult`1[WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListResponseDto]]] GetAllTransactions(WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListDto, System.Threading.CancellationToken) on controller WalletApp.Controllers.TransactionUserController (WalletApp.Api).
2023-12-13 22:27:06.929 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Transactions] AS [t]
        WHERE [t].[UserIdentityId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-12-13 22:27:06.933 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[CategoryId], [t0].[CratedBy], [t0].[CreatedTime], [t0].[CurrencyId], [t0].[Date], [t0].[DefaultTransactionId], [t0].[DeletedBy], [t0].[DeletedTime], [t0].[Description], [t0].[GroupId], [t0].[IsDefault], [t0].[IsDeleted], [t0].[ModifiedBy], [t0].[ModifiedTime], [t0].[Price], [t0].[Title], [t0].[UserIdentityId], [c].[Id], [c].[Ask], [c].[Bid], [c].[Code], [c].[CratedBy], [c].[CreatedTime], [c].[CurrencyName], [c].[DeletedBy], [c].[DeletedTime], [c].[IsDeleted], [c].[ModifiedBy], [c].[ModifiedTime], [c].[TradingDate], [c0].[Id], [c0].[CratedBy], [c0].[CreatedTime], [c0].[DeletedBy], [c0].[DeletedTime], [c0].[GroupId], [c0].[IsDeleted], [c0].[ModifiedBy], [c0].[ModifiedTime], [c0].[Name], [c0].[UserIdentityId]
FROM (
    SELECT [t].[Id], [t].[CategoryId], [t].[CratedBy], [t].[CreatedTime], [t].[CurrencyId], [t].[Date], [t].[DefaultTransactionId], [t].[DeletedBy], [t].[DeletedTime], [t].[Description], [t].[GroupId], [t].[IsDefault], [t].[IsDeleted], [t].[ModifiedBy], [t].[ModifiedTime], [t].[Price], [t].[Title], [t].[UserIdentityId]
    FROM [Transactions] AS [t]
    WHERE [t].[UserIdentityId] = @__userId_0
    ORDER BY (SELECT 1)
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t0]
INNER JOIN [Currencies] AS [c] ON [t0].[CurrencyId] = [c].[Id]
INNER JOIN [Categories] AS [c0] ON [t0].[CategoryId] = [c0].[Id]
2023-12-13 22:27:06.938 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Transactions] AS [t]
WHERE [t].[UserIdentityId] = @__userId_0
2023-12-13 22:27:06.939 +01:00 [INF] Executing OkObjectResult, writing value of type 'WalletApp.Application.Common.ApiResult`1[[WalletApp.Application.Common.Transaction.GetTransactionList.GetTransactionListResponseDto, WalletApp.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-13 22:27:06.941 +01:00 [INF] Executed action WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api) in 14.562ms
2023-12-13 22:27:06.942 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.TransactionUserController.GetAllTransactions (WalletApp.Api)'
2023-12-13 22:27:06.943 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/transactionUser/transactionList?PaginationParamsDto.PageNumber=1&PaginationParamsDto.PageSize=5 - - - 200 - application/json;+charset=utf-8 21.1512ms

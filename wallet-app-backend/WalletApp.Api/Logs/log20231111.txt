2023-11-11 16:02:39.448 +01:00 [INF] User profile is available. Using 'C:\Users\maste\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-11-11 16:02:39.683 +01:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2023-11-11 16:02:39.685 +01:00 [INF] Quartz Scheduler created
2023-11-11 16:02:39.690 +01:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2023-11-11 16:02:39.691 +01:00 [INF] RAMJobStore initialized.
2023-11-11 16:02:39.693 +01:00 [INF] Quartz Scheduler 3.7.0.0 - 'QuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2023-11-11 16:02:39.694 +01:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2023-11-11 16:02:39.696 +01:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2023-11-11 16:02:39.709 +01:00 [INF] Adding 1 jobs, 1 triggers.
2023-11-11 16:02:39.712 +01:00 [INF] Adding job: DEFAULT.NBP
2023-11-11 16:02:39.821 +01:00 [INF] Now listening on: http://localhost:5238
2023-11-11 16:02:39.823 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-11 16:02:39.833 +01:00 [INF] Hosting environment: Development
2023-11-11 16:02:39.834 +01:00 [INF] Content root path: C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api
2023-11-11 16:02:39.837 +01:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2023-11-11 16:02:40.063 +01:00 [INF] Start processing HTTP request GET http://api.nbp.pl/api/exchangerates/tables/c
2023-11-11 16:02:40.066 +01:00 [INF] Sending HTTP request GET http://api.nbp.pl/api/exchangerates/tables/c
2023-11-11 16:02:40.223 +01:00 [INF] Received HTTP response headers after 152.9734ms - 200
2023-11-11 16:02:40.228 +01:00 [INF] End processing HTTP request after 170.5801ms - 200
2023-11-11 16:02:41.245 +01:00 [ERR] Job DEFAULT.NBP threw an unhandled Exception: 
System.InvalidOperationException: The entity type 'IdentityUserLogin<Guid>' requires a primary key to be defined. If you intended to use a keyless entity type, call 'HasNoKey' in 'OnModelCreating'. For more information on keyless entity types, see https://go.microsoft.com/fwlink/?linkid=2141943.
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.ValidateNonNullPrimaryKeys(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.RelationalModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.SqlServer.Infrastructure.Internal.SqlServerModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelRuntimeInitializer.Initialize(IModel model, Boolean designTime, IDiagnosticsLogger`1 validationLogger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.GetModel(DbContext context, ModelCreationDependencies modelCreationDependencies, Boolean designTime)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.CreateModel(Boolean designTime)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.get_Model()
   at Microsoft.EntityFrameworkCore.Infrastructure.EntityFrameworkServicesBuilder.<>c.<TryAddCoreServices>b__8_4(IServiceProvider p)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_ContextServices()
   at Microsoft.EntityFrameworkCore.DbContext.get_Model()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityType()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.CheckState()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityQueryable()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.System.Collections.Generic.IAsyncEnumerable<TEntity>.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at WalletApp.Persistence.Repositories.CurrencyRepository.GetCurrencies(CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\Repositories\CurrencyRepository.cs:line 39
   at WalletApp.Application.Common.Currency.Update.UpdateCurrencyCommandHandler.Handle(UpdateCurrencyCommand request, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Common\Currency\UpdateCurrency\UpdateCurrencyCommandHandler.cs:line 42
   at MediatR.Wrappers.RequestHandlerWrapperImpl`1.<>c__DisplayClass1_0.<<Handle>g__Handler|0>d.MoveNext()
--- End of stack trace from previous location ---
   at WalletApp.Application.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Behaviours\ValidationBehaviour.cs:line 17
   at WalletApp.Infrastructure.Quartz.CallToNbpApiJob.Execute(IJobExecutionContext context) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Infrastructure\Quartz\CallToNbpApiJob.cs:line 29
   at Quartz.Core.JobRunShell.Run(CancellationToken cancellationToken)
2023-11-11 16:02:41.288 +01:00 [ERR] Job DEFAULT.NBP threw an exception.
Quartz.SchedulerException: Job threw an unhandled exception.
 ---> System.InvalidOperationException: The entity type 'IdentityUserLogin<Guid>' requires a primary key to be defined. If you intended to use a keyless entity type, call 'HasNoKey' in 'OnModelCreating'. For more information on keyless entity types, see https://go.microsoft.com/fwlink/?linkid=2141943.
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.ValidateNonNullPrimaryKeys(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.RelationalModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.SqlServer.Infrastructure.Internal.SqlServerModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelRuntimeInitializer.Initialize(IModel model, Boolean designTime, IDiagnosticsLogger`1 validationLogger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.GetModel(DbContext context, ModelCreationDependencies modelCreationDependencies, Boolean designTime)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.CreateModel(Boolean designTime)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.get_Model()
   at Microsoft.EntityFrameworkCore.Infrastructure.EntityFrameworkServicesBuilder.<>c.<TryAddCoreServices>b__8_4(IServiceProvider p)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_ContextServices()
   at Microsoft.EntityFrameworkCore.DbContext.get_Model()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityType()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.CheckState()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityQueryable()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.System.Collections.Generic.IAsyncEnumerable<TEntity>.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at WalletApp.Persistence.Repositories.CurrencyRepository.GetCurrencies(CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\Repositories\CurrencyRepository.cs:line 39
   at WalletApp.Application.Common.Currency.Update.UpdateCurrencyCommandHandler.Handle(UpdateCurrencyCommand request, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Common\Currency\UpdateCurrency\UpdateCurrencyCommandHandler.cs:line 42
   at MediatR.Wrappers.RequestHandlerWrapperImpl`1.<>c__DisplayClass1_0.<<Handle>g__Handler|0>d.MoveNext()
--- End of stack trace from previous location ---
   at WalletApp.Application.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Behaviours\ValidationBehaviour.cs:line 17
   at WalletApp.Infrastructure.Quartz.CallToNbpApiJob.Execute(IJobExecutionContext context) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Infrastructure\Quartz\CallToNbpApiJob.cs:line 29
   at Quartz.Core.JobRunShell.Run(CancellationToken cancellationToken)
   --- End of inner exception stack trace --- [See nested exception: System.InvalidOperationException: The entity type 'IdentityUserLogin<Guid>' requires a primary key to be defined. If you intended to use a keyless entity type, call 'HasNoKey' in 'OnModelCreating'. For more information on keyless entity types, see https://go.microsoft.com/fwlink/?linkid=2141943.
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.ValidateNonNullPrimaryKeys(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.RelationalModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.SqlServer.Infrastructure.Internal.SqlServerModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelRuntimeInitializer.Initialize(IModel model, Boolean designTime, IDiagnosticsLogger`1 validationLogger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.GetModel(DbContext context, ModelCreationDependencies modelCreationDependencies, Boolean designTime)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.CreateModel(Boolean designTime)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.get_Model()
   at Microsoft.EntityFrameworkCore.Infrastructure.EntityFrameworkServicesBuilder.<>c.<TryAddCoreServices>b__8_4(IServiceProvider p)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_ContextServices()
   at Microsoft.EntityFrameworkCore.DbContext.get_Model()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityType()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.CheckState()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityQueryable()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.System.Collections.Generic.IAsyncEnumerable<TEntity>.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at WalletApp.Persistence.Repositories.CurrencyRepository.GetCurrencies(CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\Repositories\CurrencyRepository.cs:line 39
   at WalletApp.Application.Common.Currency.Update.UpdateCurrencyCommandHandler.Handle(UpdateCurrencyCommand request, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Common\Currency\UpdateCurrency\UpdateCurrencyCommandHandler.cs:line 42
   at MediatR.Wrappers.RequestHandlerWrapperImpl`1.<>c__DisplayClass1_0.<<Handle>g__Handler|0>d.MoveNext()
--- End of stack trace from previous location ---
   at WalletApp.Application.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Behaviours\ValidationBehaviour.cs:line 17
   at WalletApp.Infrastructure.Quartz.CallToNbpApiJob.Execute(IJobExecutionContext context) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Infrastructure\Quartz\CallToNbpApiJob.cs:line 29
   at Quartz.Core.JobRunShell.Run(CancellationToken cancellationToken)]
2023-11-11 16:02:59.547 +01:00 [INF] User profile is available. Using 'C:\Users\maste\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-11-11 16:02:59.682 +01:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2023-11-11 16:02:59.683 +01:00 [INF] Quartz Scheduler created
2023-11-11 16:02:59.684 +01:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2023-11-11 16:02:59.685 +01:00 [INF] RAMJobStore initialized.
2023-11-11 16:02:59.686 +01:00 [INF] Quartz Scheduler 3.7.0.0 - 'QuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2023-11-11 16:02:59.687 +01:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2023-11-11 16:02:59.688 +01:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2023-11-11 16:02:59.698 +01:00 [INF] Adding 1 jobs, 1 triggers.
2023-11-11 16:02:59.702 +01:00 [INF] Adding job: DEFAULT.NBP
2023-11-11 16:02:59.786 +01:00 [INF] Now listening on: http://localhost:5238
2023-11-11 16:02:59.788 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-11 16:02:59.793 +01:00 [INF] Hosting environment: Development
2023-11-11 16:02:59.794 +01:00 [INF] Content root path: C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api
2023-11-11 16:02:59.797 +01:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2023-11-11 16:02:59.961 +01:00 [INF] Start processing HTTP request GET http://api.nbp.pl/api/exchangerates/tables/c
2023-11-11 16:02:59.964 +01:00 [INF] Sending HTTP request GET http://api.nbp.pl/api/exchangerates/tables/c
2023-11-11 16:03:00.089 +01:00 [INF] Received HTTP response headers after 121.1652ms - 200
2023-11-11 16:03:00.094 +01:00 [INF] End processing HTTP request after 136.6227ms - 200
2023-11-11 16:03:00.752 +01:00 [ERR] Job DEFAULT.NBP threw an unhandled Exception: 
System.InvalidOperationException: The entity type 'IdentityUserLogin<Guid>' requires a primary key to be defined. If you intended to use a keyless entity type, call 'HasNoKey' in 'OnModelCreating'. For more information on keyless entity types, see https://go.microsoft.com/fwlink/?linkid=2141943.
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.ValidateNonNullPrimaryKeys(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.RelationalModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.SqlServer.Infrastructure.Internal.SqlServerModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelRuntimeInitializer.Initialize(IModel model, Boolean designTime, IDiagnosticsLogger`1 validationLogger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.GetModel(DbContext context, ModelCreationDependencies modelCreationDependencies, Boolean designTime)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.CreateModel(Boolean designTime)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.get_Model()
   at Microsoft.EntityFrameworkCore.Infrastructure.EntityFrameworkServicesBuilder.<>c.<TryAddCoreServices>b__8_4(IServiceProvider p)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_ContextServices()
   at Microsoft.EntityFrameworkCore.DbContext.get_Model()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityType()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.CheckState()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityQueryable()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.System.Collections.Generic.IAsyncEnumerable<TEntity>.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at WalletApp.Persistence.Repositories.CurrencyRepository.GetCurrencies(CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\Repositories\CurrencyRepository.cs:line 39
   at WalletApp.Application.Common.Currency.Update.UpdateCurrencyCommandHandler.Handle(UpdateCurrencyCommand request, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Common\Currency\UpdateCurrency\UpdateCurrencyCommandHandler.cs:line 42
   at MediatR.Wrappers.RequestHandlerWrapperImpl`1.<>c__DisplayClass1_0.<<Handle>g__Handler|0>d.MoveNext()
--- End of stack trace from previous location ---
   at WalletApp.Application.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Behaviours\ValidationBehaviour.cs:line 17
   at WalletApp.Infrastructure.Quartz.CallToNbpApiJob.Execute(IJobExecutionContext context) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Infrastructure\Quartz\CallToNbpApiJob.cs:line 29
   at Quartz.Core.JobRunShell.Run(CancellationToken cancellationToken)
2023-11-11 16:03:00.777 +01:00 [ERR] Job DEFAULT.NBP threw an exception.
Quartz.SchedulerException: Job threw an unhandled exception.
 ---> System.InvalidOperationException: The entity type 'IdentityUserLogin<Guid>' requires a primary key to be defined. If you intended to use a keyless entity type, call 'HasNoKey' in 'OnModelCreating'. For more information on keyless entity types, see https://go.microsoft.com/fwlink/?linkid=2141943.
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.ValidateNonNullPrimaryKeys(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.RelationalModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.SqlServer.Infrastructure.Internal.SqlServerModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelRuntimeInitializer.Initialize(IModel model, Boolean designTime, IDiagnosticsLogger`1 validationLogger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.GetModel(DbContext context, ModelCreationDependencies modelCreationDependencies, Boolean designTime)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.CreateModel(Boolean designTime)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.get_Model()
   at Microsoft.EntityFrameworkCore.Infrastructure.EntityFrameworkServicesBuilder.<>c.<TryAddCoreServices>b__8_4(IServiceProvider p)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_ContextServices()
   at Microsoft.EntityFrameworkCore.DbContext.get_Model()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityType()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.CheckState()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityQueryable()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.System.Collections.Generic.IAsyncEnumerable<TEntity>.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at WalletApp.Persistence.Repositories.CurrencyRepository.GetCurrencies(CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\Repositories\CurrencyRepository.cs:line 39
   at WalletApp.Application.Common.Currency.Update.UpdateCurrencyCommandHandler.Handle(UpdateCurrencyCommand request, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Common\Currency\UpdateCurrency\UpdateCurrencyCommandHandler.cs:line 42
   at MediatR.Wrappers.RequestHandlerWrapperImpl`1.<>c__DisplayClass1_0.<<Handle>g__Handler|0>d.MoveNext()
--- End of stack trace from previous location ---
   at WalletApp.Application.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Behaviours\ValidationBehaviour.cs:line 17
   at WalletApp.Infrastructure.Quartz.CallToNbpApiJob.Execute(IJobExecutionContext context) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Infrastructure\Quartz\CallToNbpApiJob.cs:line 29
   at Quartz.Core.JobRunShell.Run(CancellationToken cancellationToken)
   --- End of inner exception stack trace --- [See nested exception: System.InvalidOperationException: The entity type 'IdentityUserLogin<Guid>' requires a primary key to be defined. If you intended to use a keyless entity type, call 'HasNoKey' in 'OnModelCreating'. For more information on keyless entity types, see https://go.microsoft.com/fwlink/?linkid=2141943.
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.ValidateNonNullPrimaryKeys(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.RelationalModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.SqlServer.Infrastructure.Internal.SqlServerModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelRuntimeInitializer.Initialize(IModel model, Boolean designTime, IDiagnosticsLogger`1 validationLogger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.GetModel(DbContext context, ModelCreationDependencies modelCreationDependencies, Boolean designTime)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.CreateModel(Boolean designTime)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.get_Model()
   at Microsoft.EntityFrameworkCore.Infrastructure.EntityFrameworkServicesBuilder.<>c.<TryAddCoreServices>b__8_4(IServiceProvider p)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_ContextServices()
   at Microsoft.EntityFrameworkCore.DbContext.get_Model()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityType()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.CheckState()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityQueryable()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.System.Collections.Generic.IAsyncEnumerable<TEntity>.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at WalletApp.Persistence.Repositories.CurrencyRepository.GetCurrencies(CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\Repositories\CurrencyRepository.cs:line 39
   at WalletApp.Application.Common.Currency.Update.UpdateCurrencyCommandHandler.Handle(UpdateCurrencyCommand request, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Common\Currency\UpdateCurrency\UpdateCurrencyCommandHandler.cs:line 42
   at MediatR.Wrappers.RequestHandlerWrapperImpl`1.<>c__DisplayClass1_0.<<Handle>g__Handler|0>d.MoveNext()
--- End of stack trace from previous location ---
   at WalletApp.Application.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Behaviours\ValidationBehaviour.cs:line 17
   at WalletApp.Infrastructure.Quartz.CallToNbpApiJob.Execute(IJobExecutionContext context) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Infrastructure\Quartz\CallToNbpApiJob.cs:line 29
   at Quartz.Core.JobRunShell.Run(CancellationToken cancellationToken)]
2023-11-11 16:09:03.608 +01:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-11-11 16:09:03.648 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-11-11 16:09:03.651 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-11-11 16:09:03.653 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-11-11 16:09:03.677 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-11-11 16:09:03.690 +01:00 [INF] Applying migration '20231111150846_identity'.
2023-11-11 16:09:03.786 +01:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [Categories]
WHERE [Id] = '13e1225f-1e67-42bc-9c4b-870060daa66b';
SELECT @@ROWCOUNT;
2023-11-11 16:09:03.802 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoles] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(256) NULL,
    [NormalizedName] nvarchar(256) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoles] PRIMARY KEY ([Id])
);
2023-11-11 16:09:03.806 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUsers] (
    [Id] uniqueidentifier NOT NULL,
    [UserName] nvarchar(256) NULL,
    [NormalizedUserName] nvarchar(256) NULL,
    [Email] nvarchar(256) NULL,
    [NormalizedEmail] nvarchar(256) NULL,
    [EmailConfirmed] bit NOT NULL,
    [PasswordHash] nvarchar(max) NULL,
    [SecurityStamp] nvarchar(max) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    [PhoneNumber] nvarchar(max) NULL,
    [PhoneNumberConfirmed] bit NOT NULL,
    [TwoFactorEnabled] bit NOT NULL,
    [LockoutEnd] datetimeoffset NULL,
    [LockoutEnabled] bit NOT NULL,
    [AccessFailedCount] int NOT NULL,
    CONSTRAINT [PK_AspNetUsers] PRIMARY KEY ([Id])
);
2023-11-11 16:09:03.811 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoleClaims] (
    [Id] int NOT NULL IDENTITY,
    [RoleId] uniqueidentifier NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoleClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetRoleClaims_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE
);
2023-11-11 16:09:03.815 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserClaims] (
    [Id] int NOT NULL IDENTITY,
    [UserId] uniqueidentifier NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetUserClaims_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2023-11-11 16:09:03.820 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserLogins] (
    [LoginProvider] nvarchar(450) NOT NULL,
    [ProviderKey] nvarchar(450) NOT NULL,
    [ProviderDisplayName] nvarchar(max) NULL,
    [UserId] uniqueidentifier NOT NULL,
    CONSTRAINT [PK_AspNetUserLogins] PRIMARY KEY ([LoginProvider], [ProviderKey]),
    CONSTRAINT [FK_AspNetUserLogins_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2023-11-11 16:09:03.827 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserRoles] (
    [UserId] uniqueidentifier NOT NULL,
    [RoleId] uniqueidentifier NOT NULL,
    CONSTRAINT [PK_AspNetUserRoles] PRIMARY KEY ([UserId], [RoleId]),
    CONSTRAINT [FK_AspNetUserRoles_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_AspNetUserRoles_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2023-11-11 16:09:03.831 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserTokens] (
    [UserId] uniqueidentifier NOT NULL,
    [LoginProvider] nvarchar(450) NOT NULL,
    [Name] nvarchar(450) NOT NULL,
    [Value] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserTokens] PRIMARY KEY ([UserId], [LoginProvider], [Name]),
    CONSTRAINT [FK_AspNetUserTokens_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2023-11-11 16:09:03.853 +01:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CratedBy', N'CreatedTime', N'DeletedBy', N'DeletedTime', N'IsDeleted', N'ModifiedBy', N'ModifiedTime', N'Name') AND [object_id] = OBJECT_ID(N'[Categories]'))
    SET IDENTITY_INSERT [Categories] ON;
INSERT INTO [Categories] ([Id], [CratedBy], [CreatedTime], [DeletedBy], [DeletedTime], [IsDeleted], [ModifiedBy], [ModifiedTime], [Name])
VALUES ('dd13ee7d-b499-4e87-8b31-b46b4810498b', NULL, NULL, NULL, NULL, CAST(0 AS bit), NULL, NULL, 'Rachunki');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CratedBy', N'CreatedTime', N'DeletedBy', N'DeletedTime', N'IsDeleted', N'ModifiedBy', N'ModifiedTime', N'Name') AND [object_id] = OBJECT_ID(N'[Categories]'))
    SET IDENTITY_INSERT [Categories] OFF;
2023-11-11 16:09:03.857 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetRoleClaims_RoleId] ON [AspNetRoleClaims] ([RoleId]);
2023-11-11 16:09:03.860 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [RoleNameIndex] ON [AspNetRoles] ([NormalizedName]) WHERE [NormalizedName] IS NOT NULL;
2023-11-11 16:09:03.862 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserClaims_UserId] ON [AspNetUserClaims] ([UserId]);
2023-11-11 16:09:03.864 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserLogins_UserId] ON [AspNetUserLogins] ([UserId]);
2023-11-11 16:09:03.866 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserRoles_RoleId] ON [AspNetUserRoles] ([RoleId]);
2023-11-11 16:09:03.868 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [EmailIndex] ON [AspNetUsers] ([NormalizedEmail]);
2023-11-11 16:09:03.870 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [UserNameIndex] ON [AspNetUsers] ([NormalizedUserName]) WHERE [NormalizedUserName] IS NOT NULL;
2023-11-11 16:09:03.873 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20231111150846_identity', N'7.0.12');
2023-11-11 17:58:06.203 +01:00 [INF] User profile is available. Using 'C:\Users\maste\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-11-11 17:58:06.317 +01:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2023-11-11 17:58:06.318 +01:00 [INF] Quartz Scheduler created
2023-11-11 17:58:06.319 +01:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2023-11-11 17:58:06.320 +01:00 [INF] RAMJobStore initialized.
2023-11-11 17:58:06.321 +01:00 [INF] Quartz Scheduler 3.7.0.0 - 'QuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2023-11-11 17:58:06.322 +01:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2023-11-11 17:58:06.322 +01:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2023-11-11 17:58:06.333 +01:00 [INF] Adding 1 jobs, 1 triggers.
2023-11-11 17:58:06.336 +01:00 [INF] Adding job: DEFAULT.NBP
2023-11-11 17:58:06.369 +01:00 [INF] Now listening on: http://localhost:5238
2023-11-11 17:58:06.370 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-11 17:58:06.371 +01:00 [INF] Hosting environment: Development
2023-11-11 17:58:06.372 +01:00 [INF] Content root path: C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api
2023-11-11 17:58:06.373 +01:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2023-11-11 17:58:06.474 +01:00 [INF] Start processing HTTP request GET http://api.nbp.pl/api/exchangerates/tables/c
2023-11-11 17:58:06.477 +01:00 [INF] Sending HTTP request GET http://api.nbp.pl/api/exchangerates/tables/c
2023-11-11 17:58:06.583 +01:00 [INF] Received HTTP response headers after 103.1673ms - 200
2023-11-11 17:58:06.586 +01:00 [INF] End processing HTTP request after 114.6085ms - 200
2023-11-11 17:58:06.983 +01:00 [ERR] Job DEFAULT.NBP threw an unhandled Exception: 
System.InvalidOperationException: Both relationships between 'AccountData.Account' and 'UserIdentity' and between 'AccountData' and 'Account.AccountData' could use {'AccountId'} as the foreign key. To resolve this, configure the foreign key properties explicitly in 'OnModelCreating' on at least one of the relationships.
   at Microsoft.EntityFrameworkCore.Metadata.Conventions.ForeignKeyPropertyDiscoveryConvention.ProcessModelFinalizing(IConventionModelBuilder modelBuilder, IConventionContext`1 context)
   at Microsoft.EntityFrameworkCore.Metadata.Conventions.Internal.ConventionDispatcher.ImmediateConventionScope.OnModelFinalizing(IConventionModelBuilder modelBuilder)
   at Microsoft.EntityFrameworkCore.Metadata.Conventions.Internal.ConventionDispatcher.OnModelFinalizing(IConventionModelBuilder modelBuilder)
   at Microsoft.EntityFrameworkCore.Metadata.Internal.Model.FinalizeModel()
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelRuntimeInitializer.Initialize(IModel model, Boolean designTime, IDiagnosticsLogger`1 validationLogger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.GetModel(DbContext context, ModelCreationDependencies modelCreationDependencies, Boolean designTime)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.CreateModel(Boolean designTime)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.get_Model()
   at Microsoft.EntityFrameworkCore.Infrastructure.EntityFrameworkServicesBuilder.<>c.<TryAddCoreServices>b__8_4(IServiceProvider p)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_ContextServices()
   at Microsoft.EntityFrameworkCore.DbContext.get_Model()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityType()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.CheckState()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityQueryable()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.System.Collections.Generic.IAsyncEnumerable<TEntity>.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at WalletApp.Persistence.Repositories.CurrencyRepository.GetCurrencies(CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\Repositories\CurrencyRepository.cs:line 39
   at WalletApp.Application.Common.Currency.Update.UpdateCurrencyCommandHandler.Handle(UpdateCurrencyCommand request, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Common\Currency\UpdateCurrency\UpdateCurrencyCommandHandler.cs:line 42
   at MediatR.Wrappers.RequestHandlerWrapperImpl`1.<>c__DisplayClass1_0.<<Handle>g__Handler|0>d.MoveNext()
--- End of stack trace from previous location ---
   at WalletApp.Application.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Behaviours\ValidationBehaviour.cs:line 17
   at WalletApp.Infrastructure.Quartz.CallToNbpApiJob.Execute(IJobExecutionContext context) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Infrastructure\Quartz\CallToNbpApiJob.cs:line 29
   at Quartz.Core.JobRunShell.Run(CancellationToken cancellationToken)
2023-11-11 17:58:07.001 +01:00 [ERR] Job DEFAULT.NBP threw an exception.
Quartz.SchedulerException: Job threw an unhandled exception.
 ---> System.InvalidOperationException: Both relationships between 'AccountData.Account' and 'UserIdentity' and between 'AccountData' and 'Account.AccountData' could use {'AccountId'} as the foreign key. To resolve this, configure the foreign key properties explicitly in 'OnModelCreating' on at least one of the relationships.
   at Microsoft.EntityFrameworkCore.Metadata.Conventions.ForeignKeyPropertyDiscoveryConvention.ProcessModelFinalizing(IConventionModelBuilder modelBuilder, IConventionContext`1 context)
   at Microsoft.EntityFrameworkCore.Metadata.Conventions.Internal.ConventionDispatcher.ImmediateConventionScope.OnModelFinalizing(IConventionModelBuilder modelBuilder)
   at Microsoft.EntityFrameworkCore.Metadata.Conventions.Internal.ConventionDispatcher.OnModelFinalizing(IConventionModelBuilder modelBuilder)
   at Microsoft.EntityFrameworkCore.Metadata.Internal.Model.FinalizeModel()
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelRuntimeInitializer.Initialize(IModel model, Boolean designTime, IDiagnosticsLogger`1 validationLogger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.GetModel(DbContext context, ModelCreationDependencies modelCreationDependencies, Boolean designTime)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.CreateModel(Boolean designTime)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.get_Model()
   at Microsoft.EntityFrameworkCore.Infrastructure.EntityFrameworkServicesBuilder.<>c.<TryAddCoreServices>b__8_4(IServiceProvider p)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_ContextServices()
   at Microsoft.EntityFrameworkCore.DbContext.get_Model()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityType()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.CheckState()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityQueryable()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.System.Collections.Generic.IAsyncEnumerable<TEntity>.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at WalletApp.Persistence.Repositories.CurrencyRepository.GetCurrencies(CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\Repositories\CurrencyRepository.cs:line 39
   at WalletApp.Application.Common.Currency.Update.UpdateCurrencyCommandHandler.Handle(UpdateCurrencyCommand request, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Common\Currency\UpdateCurrency\UpdateCurrencyCommandHandler.cs:line 42
   at MediatR.Wrappers.RequestHandlerWrapperImpl`1.<>c__DisplayClass1_0.<<Handle>g__Handler|0>d.MoveNext()
--- End of stack trace from previous location ---
   at WalletApp.Application.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Behaviours\ValidationBehaviour.cs:line 17
   at WalletApp.Infrastructure.Quartz.CallToNbpApiJob.Execute(IJobExecutionContext context) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Infrastructure\Quartz\CallToNbpApiJob.cs:line 29
   at Quartz.Core.JobRunShell.Run(CancellationToken cancellationToken)
   --- End of inner exception stack trace --- [See nested exception: System.InvalidOperationException: Both relationships between 'AccountData.Account' and 'UserIdentity' and between 'AccountData' and 'Account.AccountData' could use {'AccountId'} as the foreign key. To resolve this, configure the foreign key properties explicitly in 'OnModelCreating' on at least one of the relationships.
   at Microsoft.EntityFrameworkCore.Metadata.Conventions.ForeignKeyPropertyDiscoveryConvention.ProcessModelFinalizing(IConventionModelBuilder modelBuilder, IConventionContext`1 context)
   at Microsoft.EntityFrameworkCore.Metadata.Conventions.Internal.ConventionDispatcher.ImmediateConventionScope.OnModelFinalizing(IConventionModelBuilder modelBuilder)
   at Microsoft.EntityFrameworkCore.Metadata.Conventions.Internal.ConventionDispatcher.OnModelFinalizing(IConventionModelBuilder modelBuilder)
   at Microsoft.EntityFrameworkCore.Metadata.Internal.Model.FinalizeModel()
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelRuntimeInitializer.Initialize(IModel model, Boolean designTime, IDiagnosticsLogger`1 validationLogger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.GetModel(DbContext context, ModelCreationDependencies modelCreationDependencies, Boolean designTime)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.CreateModel(Boolean designTime)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.get_Model()
   at Microsoft.EntityFrameworkCore.Infrastructure.EntityFrameworkServicesBuilder.<>c.<TryAddCoreServices>b__8_4(IServiceProvider p)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_ContextServices()
   at Microsoft.EntityFrameworkCore.DbContext.get_Model()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityType()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.CheckState()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityQueryable()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.System.Collections.Generic.IAsyncEnumerable<TEntity>.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at WalletApp.Persistence.Repositories.CurrencyRepository.GetCurrencies(CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\Repositories\CurrencyRepository.cs:line 39
   at WalletApp.Application.Common.Currency.Update.UpdateCurrencyCommandHandler.Handle(UpdateCurrencyCommand request, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Common\Currency\UpdateCurrency\UpdateCurrencyCommandHandler.cs:line 42
   at MediatR.Wrappers.RequestHandlerWrapperImpl`1.<>c__DisplayClass1_0.<<Handle>g__Handler|0>d.MoveNext()
--- End of stack trace from previous location ---
   at WalletApp.Application.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Behaviours\ValidationBehaviour.cs:line 17
   at WalletApp.Infrastructure.Quartz.CallToNbpApiJob.Execute(IJobExecutionContext context) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Infrastructure\Quartz\CallToNbpApiJob.cs:line 29
   at Quartz.Core.JobRunShell.Run(CancellationToken cancellationToken)]
2023-11-11 17:58:24.234 +01:00 [INF] Application is shutting down...
2023-11-11 17:58:24.241 +01:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED shutting down.
2023-11-11 17:58:24.243 +01:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED paused.
2023-11-11 17:58:24.247 +01:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED Shutdown complete.
2023-11-11 18:06:01.553 +01:00 [INF] User profile is available. Using 'C:\Users\maste\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-11-11 18:06:01.715 +01:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2023-11-11 18:06:01.717 +01:00 [INF] Quartz Scheduler created
2023-11-11 18:06:01.718 +01:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2023-11-11 18:06:01.719 +01:00 [INF] RAMJobStore initialized.
2023-11-11 18:06:01.720 +01:00 [INF] Quartz Scheduler 3.7.0.0 - 'QuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2023-11-11 18:06:01.721 +01:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2023-11-11 18:06:01.722 +01:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2023-11-11 18:06:01.732 +01:00 [INF] Adding 1 jobs, 1 triggers.
2023-11-11 18:06:01.735 +01:00 [INF] Adding job: DEFAULT.NBP
2023-11-11 18:06:01.825 +01:00 [INF] Now listening on: http://localhost:5238
2023-11-11 18:06:01.827 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-11 18:06:01.832 +01:00 [INF] Hosting environment: Development
2023-11-11 18:06:01.832 +01:00 [INF] Content root path: C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api
2023-11-11 18:06:01.835 +01:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2023-11-11 18:06:02.013 +01:00 [INF] Start processing HTTP request GET http://api.nbp.pl/api/exchangerates/tables/c
2023-11-11 18:06:02.016 +01:00 [INF] Sending HTTP request GET http://api.nbp.pl/api/exchangerates/tables/c
2023-11-11 18:06:02.177 +01:00 [INF] Received HTTP response headers after 156.9172ms - 200
2023-11-11 18:06:02.183 +01:00 [INF] End processing HTTP request after 175.0935ms - 200
2023-11-11 18:06:02.909 +01:00 [WRN] The foreign key property 'AccountData.AccountId2' was created in shadow state because a conflicting property with the simple name 'AccountId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2023-11-11 18:06:02.910 +01:00 [WRN] The foreign key property 'Token.AccountId1' was created in shadow state because a conflicting property with the simple name 'AccountId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2023-11-11 18:06:03.613 +01:00 [INF] Executed DbCommand (65ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Ask], [c].[Bid], [c].[Code], [c].[CratedBy], [c].[CreatedTime], [c].[CurrencyName], [c].[DeletedBy], [c].[DeletedTime], [c].[IsDeleted], [c].[ModifiedBy], [c].[ModifiedTime], [c].[TradingDate]
FROM [Currencies] AS [c]
2023-11-11 18:06:03.915 +01:00 [ERR] Job DEFAULT.NBP threw an unhandled Exception: 
System.NullReferenceException: Object reference not set to an instance of an object.
   at WalletApp.Services.CurrentUserService.get_Account() in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api\Services\CurrentUserService.cs:line 15
   at WalletApp.Persistence.WalletDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\WalletDbContext.cs:line 54
   at WalletApp.Persistence.Repositories.CurrencyRepository.Save(CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\Repositories\CurrencyRepository.cs:line 49
   at WalletApp.Application.Common.Currency.Update.UpdateCurrencyCommandHandler.Handle(UpdateCurrencyCommand request, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Common\Currency\UpdateCurrency\UpdateCurrencyCommandHandler.cs:line 48
   at MediatR.Wrappers.RequestHandlerWrapperImpl`1.<>c__DisplayClass1_0.<<Handle>g__Handler|0>d.MoveNext()
--- End of stack trace from previous location ---
   at WalletApp.Application.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Behaviours\ValidationBehaviour.cs:line 17
   at WalletApp.Infrastructure.Quartz.CallToNbpApiJob.Execute(IJobExecutionContext context) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Infrastructure\Quartz\CallToNbpApiJob.cs:line 29
   at Quartz.Core.JobRunShell.Run(CancellationToken cancellationToken)
2023-11-11 18:06:03.930 +01:00 [ERR] Job DEFAULT.NBP threw an exception.
Quartz.SchedulerException: Job threw an unhandled exception.
 ---> System.NullReferenceException: Object reference not set to an instance of an object.
   at WalletApp.Services.CurrentUserService.get_Account() in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api\Services\CurrentUserService.cs:line 15
   at WalletApp.Persistence.WalletDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\WalletDbContext.cs:line 54
   at WalletApp.Persistence.Repositories.CurrencyRepository.Save(CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\Repositories\CurrencyRepository.cs:line 49
   at WalletApp.Application.Common.Currency.Update.UpdateCurrencyCommandHandler.Handle(UpdateCurrencyCommand request, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Common\Currency\UpdateCurrency\UpdateCurrencyCommandHandler.cs:line 48
   at MediatR.Wrappers.RequestHandlerWrapperImpl`1.<>c__DisplayClass1_0.<<Handle>g__Handler|0>d.MoveNext()
--- End of stack trace from previous location ---
   at WalletApp.Application.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Behaviours\ValidationBehaviour.cs:line 17
   at WalletApp.Infrastructure.Quartz.CallToNbpApiJob.Execute(IJobExecutionContext context) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Infrastructure\Quartz\CallToNbpApiJob.cs:line 29
   at Quartz.Core.JobRunShell.Run(CancellationToken cancellationToken)
   --- End of inner exception stack trace --- [See nested exception: System.NullReferenceException: Object reference not set to an instance of an object.
   at WalletApp.Services.CurrentUserService.get_Account() in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api\Services\CurrentUserService.cs:line 15
   at WalletApp.Persistence.WalletDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\WalletDbContext.cs:line 54
   at WalletApp.Persistence.Repositories.CurrencyRepository.Save(CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\Repositories\CurrencyRepository.cs:line 49
   at WalletApp.Application.Common.Currency.Update.UpdateCurrencyCommandHandler.Handle(UpdateCurrencyCommand request, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Common\Currency\UpdateCurrency\UpdateCurrencyCommandHandler.cs:line 48
   at MediatR.Wrappers.RequestHandlerWrapperImpl`1.<>c__DisplayClass1_0.<<Handle>g__Handler|0>d.MoveNext()
--- End of stack trace from previous location ---
   at WalletApp.Application.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Behaviours\ValidationBehaviour.cs:line 17
   at WalletApp.Infrastructure.Quartz.CallToNbpApiJob.Execute(IJobExecutionContext context) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Infrastructure\Quartz\CallToNbpApiJob.cs:line 29
   at Quartz.Core.JobRunShell.Run(CancellationToken cancellationToken)]
2023-11-11 18:19:36.126 +01:00 [WRN] The foreign key property 'AccountData.AccountId2' was created in shadow state because a conflicting property with the simple name 'AccountId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2023-11-11 18:19:36.152 +01:00 [WRN] The foreign key property 'Token.AccountId1' was created in shadow state because a conflicting property with the simple name 'AccountId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2023-11-11 18:19:36.328 +01:00 [WRN] The foreign key property 'AccountData.AccountId2' was created in shadow state because a conflicting property with the simple name 'AccountId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2023-11-11 18:19:36.328 +01:00 [WRN] The foreign key property 'Token.AccountId1' was created in shadow state because a conflicting property with the simple name 'AccountId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2023-11-11 18:23:16.608 +01:00 [WRN] The foreign key property 'AccountData.AccountId2' was created in shadow state because a conflicting property with the simple name 'AccountId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2023-11-11 18:23:16.631 +01:00 [WRN] The foreign key property 'Token.AccountId1' was created in shadow state because a conflicting property with the simple name 'AccountId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2023-11-11 18:23:16.935 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-11-11 18:23:16.953 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-11-11 18:23:16.956 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-11-11 18:23:17.015 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2023-11-11 18:23:17.017 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-11-11 18:23:17.019 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-11-11 18:23:17.029 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-11-11 18:23:17.043 +01:00 [INF] Applying migration '20231111171936_Initial'.
2023-11-11 18:23:17.119 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Accounts] (
    [Id] uniqueidentifier NOT NULL,
    [Username] varchar(40) NOT NULL,
    [Email] varchar(255) NOT NULL,
    [PasswordHash] varchar(255) NOT NULL,
    [Icon] int NOT NULL DEFAULT 1,
    [CratedBy] uniqueidentifier NULL,
    [CreatedTime] datetime2 NULL,
    [ModifiedBy] uniqueidentifier NULL,
    [ModifiedTime] datetime2 NULL,
    [DeletedBy] uniqueidentifier NULL,
    [DeletedTime] datetime2 NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_Accounts] PRIMARY KEY ([Id])
);
2023-11-11 18:23:17.123 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoles] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(256) NULL,
    [NormalizedName] nvarchar(256) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoles] PRIMARY KEY ([Id])
);
2023-11-11 18:23:17.127 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUsers] (
    [Id] uniqueidentifier NOT NULL,
    [IconType] int NOT NULL,
    [AccountDataId] uniqueidentifier NOT NULL,
    [UserName] nvarchar(256) NULL,
    [NormalizedUserName] nvarchar(256) NULL,
    [Email] nvarchar(256) NULL,
    [NormalizedEmail] nvarchar(256) NULL,
    [EmailConfirmed] bit NOT NULL,
    [PasswordHash] nvarchar(max) NULL,
    [SecurityStamp] nvarchar(max) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    [PhoneNumber] nvarchar(max) NULL,
    [PhoneNumberConfirmed] bit NOT NULL,
    [TwoFactorEnabled] bit NOT NULL,
    [LockoutEnd] datetimeoffset NULL,
    [LockoutEnabled] bit NOT NULL,
    [AccessFailedCount] int NOT NULL,
    CONSTRAINT [PK_AspNetUsers] PRIMARY KEY ([Id])
);
2023-11-11 18:23:17.130 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Categories] (
    [Id] uniqueidentifier NOT NULL,
    [Name] varchar(50) NOT NULL,
    [CratedBy] uniqueidentifier NULL,
    [CreatedTime] datetime2 NULL,
    [ModifiedBy] uniqueidentifier NULL,
    [ModifiedTime] datetime2 NULL,
    [DeletedBy] uniqueidentifier NULL,
    [DeletedTime] datetime2 NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_Categories] PRIMARY KEY ([Id])
);
2023-11-11 18:23:17.132 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Currencies] (
    [Id] uniqueidentifier NOT NULL,
    [CurrencyName] varchar(30) NOT NULL,
    [Code] varchar(3) NOT NULL,
    [Bid] decimal(10,3) NOT NULL,
    [Ask] decimal(10,3) NOT NULL,
    [TradingDate] datetime NOT NULL,
    [CratedBy] uniqueidentifier NULL,
    [CreatedTime] datetime2 NULL,
    [ModifiedBy] uniqueidentifier NULL,
    [ModifiedTime] datetime2 NULL,
    [DeletedBy] uniqueidentifier NULL,
    [DeletedTime] datetime2 NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_Currencies] PRIMARY KEY ([Id])
);
2023-11-11 18:23:17.136 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Notes] (
    [Id] uniqueidentifier NOT NULL,
    [Title] varchar(50) NOT NULL,
    [Text] varchar(500) NULL,
    [IsDone] bit NOT NULL DEFAULT CAST(0 AS bit),
    [TextColor] varchar(7) NULL,
    [BackgroundColor] varchar(7) NULL,
    [AccountId] uniqueidentifier NOT NULL,
    [CratedBy] uniqueidentifier NULL,
    [CreatedTime] datetime2 NULL,
    [ModifiedBy] uniqueidentifier NULL,
    [ModifiedTime] datetime2 NULL,
    [DeletedBy] uniqueidentifier NULL,
    [DeletedTime] datetime2 NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_Notes] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Notes_Accounts_AccountId] FOREIGN KEY ([AccountId]) REFERENCES [Accounts] ([Id]) ON DELETE CASCADE
);
2023-11-11 18:23:17.140 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoleClaims] (
    [Id] int NOT NULL IDENTITY,
    [RoleId] uniqueidentifier NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoleClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetRoleClaims_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE
);
2023-11-11 18:23:17.143 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AccountData] (
    [Id] uniqueidentifier NOT NULL,
    [ActualMoney] decimal(15,2) NOT NULL DEFAULT 0.0,
    [AccountId] uniqueidentifier NOT NULL,
    [AccountId2] uniqueidentifier NOT NULL,
    [CratedBy] uniqueidentifier NULL,
    [CreatedTime] datetime2 NULL,
    [ModifiedBy] uniqueidentifier NULL,
    [ModifiedTime] datetime2 NULL,
    [DeletedBy] uniqueidentifier NULL,
    [DeletedTime] datetime2 NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_AccountData] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AccountData_Accounts_AccountId2] FOREIGN KEY ([AccountId2]) REFERENCES [Accounts] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_AccountData_AspNetUsers_AccountId] FOREIGN KEY ([AccountId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2023-11-11 18:23:17.146 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserClaims] (
    [Id] int NOT NULL IDENTITY,
    [UserId] uniqueidentifier NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetUserClaims_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2023-11-11 18:23:17.150 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserLogins] (
    [LoginProvider] nvarchar(450) NOT NULL,
    [ProviderKey] nvarchar(450) NOT NULL,
    [ProviderDisplayName] nvarchar(max) NULL,
    [UserId] uniqueidentifier NOT NULL,
    CONSTRAINT [PK_AspNetUserLogins] PRIMARY KEY ([LoginProvider], [ProviderKey]),
    CONSTRAINT [FK_AspNetUserLogins_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2023-11-11 18:23:17.154 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserRoles] (
    [UserId] uniqueidentifier NOT NULL,
    [RoleId] uniqueidentifier NOT NULL,
    CONSTRAINT [PK_AspNetUserRoles] PRIMARY KEY ([UserId], [RoleId]),
    CONSTRAINT [FK_AspNetUserRoles_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_AspNetUserRoles_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2023-11-11 18:23:17.158 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserTokens] (
    [UserId] uniqueidentifier NOT NULL,
    [LoginProvider] nvarchar(450) NOT NULL,
    [Name] nvarchar(450) NOT NULL,
    [Value] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserTokens] PRIMARY KEY ([UserId], [LoginProvider], [Name]),
    CONSTRAINT [FK_AspNetUserTokens_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2023-11-11 18:23:17.161 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Tokens] (
    [Id] uniqueidentifier NOT NULL,
    [RefreshToken] nvarchar(max) NULL,
    [RefreshTokenExpiryTime] datetime2 NULL,
    [IpAddress] nvarchar(max) NOT NULL,
    [AccountId] uniqueidentifier NULL,
    [AccountId1] uniqueidentifier NULL,
    CONSTRAINT [PK_Tokens] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Tokens_Accounts_AccountId1] FOREIGN KEY ([AccountId1]) REFERENCES [Accounts] ([Id]),
    CONSTRAINT [FK_Tokens_AspNetUsers_AccountId] FOREIGN KEY ([AccountId]) REFERENCES [AspNetUsers] ([Id])
);
2023-11-11 18:23:17.165 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Transactions] (
    [Id] uniqueidentifier NOT NULL,
    [Title] varchar(50) NOT NULL,
    [Price] decimal(15,2) NOT NULL,
    [Date] datetime2 NOT NULL,
    [TextColor] varchar(7) NULL,
    [BackgroundColor] varchar(7) NULL,
    [IsDefault] bit NOT NULL DEFAULT CAST(0 AS bit),
    [CategoryId] uniqueidentifier NOT NULL,
    [CurrencyId] uniqueidentifier NOT NULL,
    [AccountId] uniqueidentifier NOT NULL,
    [CratedBy] uniqueidentifier NULL,
    [CreatedTime] datetime2 NULL,
    [ModifiedBy] uniqueidentifier NULL,
    [ModifiedTime] datetime2 NULL,
    [DeletedBy] uniqueidentifier NULL,
    [DeletedTime] datetime2 NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_Transactions] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Transactions_Accounts_AccountId] FOREIGN KEY ([AccountId]) REFERENCES [Accounts] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Transactions_Categories_CategoryId] FOREIGN KEY ([CategoryId]) REFERENCES [Categories] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Transactions_Currencies_CurrencyId] FOREIGN KEY ([CurrencyId]) REFERENCES [Currencies] ([Id]) ON DELETE CASCADE
);
2023-11-11 18:23:17.214 +01:00 [INF] Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CratedBy', N'CreatedTime', N'DeletedBy', N'DeletedTime', N'IsDeleted', N'ModifiedBy', N'ModifiedTime', N'Name') AND [object_id] = OBJECT_ID(N'[Categories]'))
    SET IDENTITY_INSERT [Categories] ON;
INSERT INTO [Categories] ([Id], [CratedBy], [CreatedTime], [DeletedBy], [DeletedTime], [IsDeleted], [ModifiedBy], [ModifiedTime], [Name])
VALUES ('c71a29c0-8e57-41f2-90ac-1cdee705a5c7', NULL, NULL, NULL, NULL, CAST(0 AS bit), NULL, NULL, 'Rachunki');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CratedBy', N'CreatedTime', N'DeletedBy', N'DeletedTime', N'IsDeleted', N'ModifiedBy', N'ModifiedTime', N'Name') AND [object_id] = OBJECT_ID(N'[Categories]'))
    SET IDENTITY_INSERT [Categories] OFF;
2023-11-11 18:23:17.217 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_AccountData_AccountId] ON [AccountData] ([AccountId]);
2023-11-11 18:23:17.218 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_AccountData_AccountId2] ON [AccountData] ([AccountId2]);
2023-11-11 18:23:17.220 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Accounts_Email] ON [Accounts] ([Email]);
2023-11-11 18:23:17.221 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetRoleClaims_RoleId] ON [AspNetRoleClaims] ([RoleId]);
2023-11-11 18:23:17.223 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [RoleNameIndex] ON [AspNetRoles] ([NormalizedName]) WHERE [NormalizedName] IS NOT NULL;
2023-11-11 18:23:17.225 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserClaims_UserId] ON [AspNetUserClaims] ([UserId]);
2023-11-11 18:23:17.227 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserLogins_UserId] ON [AspNetUserLogins] ([UserId]);
2023-11-11 18:23:17.228 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserRoles_RoleId] ON [AspNetUserRoles] ([RoleId]);
2023-11-11 18:23:17.230 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [EmailIndex] ON [AspNetUsers] ([NormalizedEmail]);
2023-11-11 18:23:17.232 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [UserNameIndex] ON [AspNetUsers] ([NormalizedUserName]) WHERE [NormalizedUserName] IS NOT NULL;
2023-11-11 18:23:17.234 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Notes_AccountId] ON [Notes] ([AccountId]);
2023-11-11 18:23:17.235 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Tokens_AccountId] ON [Tokens] ([AccountId]);
2023-11-11 18:23:17.237 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Tokens_AccountId1] ON [Tokens] ([AccountId1]) WHERE [AccountId1] IS NOT NULL;
2023-11-11 18:23:17.238 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Transactions_AccountId] ON [Transactions] ([AccountId]);
2023-11-11 18:23:17.240 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Transactions_CategoryId] ON [Transactions] ([CategoryId]);
2023-11-11 18:23:17.241 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Transactions_CurrencyId] ON [Transactions] ([CurrencyId]);
2023-11-11 18:23:17.243 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20231111171936_Initial', N'7.0.12');
2023-11-11 18:52:36.877 +01:00 [WRN] The foreign key property 'AccountData.AccountId1' was created in shadow state because a conflicting property with the simple name 'AccountId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2023-11-11 18:52:36.899 +01:00 [WRN] The foreign key property 'Token.AccountId1' was created in shadow state because a conflicting property with the simple name 'AccountId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2023-11-11 18:52:37.079 +01:00 [WRN] The foreign key property 'AccountData.AccountId1' was created in shadow state because a conflicting property with the simple name 'AccountId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2023-11-11 18:52:37.079 +01:00 [WRN] The foreign key property 'Token.AccountId1' was created in shadow state because a conflicting property with the simple name 'AccountId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2023-11-11 18:55:10.468 +01:00 [WRN] The foreign key property 'AccountData.AccountId1' was created in shadow state because a conflicting property with the simple name 'AccountId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2023-11-11 18:55:10.490 +01:00 [WRN] The foreign key property 'Token.AccountId1' was created in shadow state because a conflicting property with the simple name 'AccountId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2023-11-11 18:55:10.776 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-11-11 18:55:10.795 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-11-11 18:55:10.798 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-11-11 18:55:10.858 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2023-11-11 18:55:10.861 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-11-11 18:55:10.863 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-11-11 18:55:10.874 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-11-11 18:55:10.886 +01:00 [INF] Applying migration '20231111175237_Initial'.
2023-11-11 18:55:10.965 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Accounts] (
    [Id] uniqueidentifier NOT NULL,
    [Username] varchar(40) NOT NULL,
    [Email] varchar(255) NOT NULL,
    [PasswordHash] varchar(255) NOT NULL,
    [Icon] int NOT NULL DEFAULT 1,
    [CratedBy] uniqueidentifier NULL,
    [CreatedTime] datetime2 NULL,
    [ModifiedBy] uniqueidentifier NULL,
    [ModifiedTime] datetime2 NULL,
    [DeletedBy] uniqueidentifier NULL,
    [DeletedTime] datetime2 NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_Accounts] PRIMARY KEY ([Id])
);
2023-11-11 18:55:10.968 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoles] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(256) NULL,
    [NormalizedName] nvarchar(256) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoles] PRIMARY KEY ([Id])
);
2023-11-11 18:55:10.970 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUsers] (
    [Id] uniqueidentifier NOT NULL,
    [IconType] int NOT NULL,
    [UserName] nvarchar(256) NULL,
    [NormalizedUserName] nvarchar(256) NULL,
    [Email] nvarchar(256) NULL,
    [NormalizedEmail] nvarchar(256) NULL,
    [EmailConfirmed] bit NOT NULL,
    [PasswordHash] nvarchar(max) NULL,
    [SecurityStamp] nvarchar(max) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    [PhoneNumber] nvarchar(max) NULL,
    [PhoneNumberConfirmed] bit NOT NULL,
    [TwoFactorEnabled] bit NOT NULL,
    [LockoutEnd] datetimeoffset NULL,
    [LockoutEnabled] bit NOT NULL,
    [AccessFailedCount] int NOT NULL,
    CONSTRAINT [PK_AspNetUsers] PRIMARY KEY ([Id])
);
2023-11-11 18:55:10.972 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Categories] (
    [Id] uniqueidentifier NOT NULL,
    [Name] varchar(50) NOT NULL,
    [CratedBy] uniqueidentifier NULL,
    [CreatedTime] datetime2 NULL,
    [ModifiedBy] uniqueidentifier NULL,
    [ModifiedTime] datetime2 NULL,
    [DeletedBy] uniqueidentifier NULL,
    [DeletedTime] datetime2 NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_Categories] PRIMARY KEY ([Id])
);
2023-11-11 18:55:10.974 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Currencies] (
    [Id] uniqueidentifier NOT NULL,
    [CurrencyName] varchar(30) NOT NULL,
    [Code] varchar(3) NOT NULL,
    [Bid] decimal(10,3) NOT NULL,
    [Ask] decimal(10,3) NOT NULL,
    [TradingDate] datetime NOT NULL,
    [CratedBy] uniqueidentifier NULL,
    [CreatedTime] datetime2 NULL,
    [ModifiedBy] uniqueidentifier NULL,
    [ModifiedTime] datetime2 NULL,
    [DeletedBy] uniqueidentifier NULL,
    [DeletedTime] datetime2 NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_Currencies] PRIMARY KEY ([Id])
);
2023-11-11 18:55:10.977 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Notes] (
    [Id] uniqueidentifier NOT NULL,
    [Title] varchar(50) NOT NULL,
    [Text] varchar(500) NULL,
    [IsDone] bit NOT NULL DEFAULT CAST(0 AS bit),
    [TextColor] varchar(7) NULL,
    [BackgroundColor] varchar(7) NULL,
    [AccountId] uniqueidentifier NOT NULL,
    [CratedBy] uniqueidentifier NULL,
    [CreatedTime] datetime2 NULL,
    [ModifiedBy] uniqueidentifier NULL,
    [ModifiedTime] datetime2 NULL,
    [DeletedBy] uniqueidentifier NULL,
    [DeletedTime] datetime2 NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_Notes] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Notes_Accounts_AccountId] FOREIGN KEY ([AccountId]) REFERENCES [Accounts] ([Id]) ON DELETE CASCADE
);
2023-11-11 18:55:10.980 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoleClaims] (
    [Id] int NOT NULL IDENTITY,
    [RoleId] uniqueidentifier NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoleClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetRoleClaims_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE
);
2023-11-11 18:55:10.983 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AccountData] (
    [Id] uniqueidentifier NOT NULL,
    [ActualMoney] decimal(15,2) NOT NULL DEFAULT 0.0,
    [AccountId] uniqueidentifier NOT NULL,
    [AccountId1] uniqueidentifier NULL,
    [CratedBy] uniqueidentifier NULL,
    [CreatedTime] datetime2 NULL,
    [ModifiedBy] uniqueidentifier NULL,
    [ModifiedTime] datetime2 NULL,
    [DeletedBy] uniqueidentifier NULL,
    [DeletedTime] datetime2 NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_AccountData] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AccountData_Accounts_AccountId1] FOREIGN KEY ([AccountId1]) REFERENCES [Accounts] ([Id]),
    CONSTRAINT [FK_AccountData_AspNetUsers_AccountId] FOREIGN KEY ([AccountId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2023-11-11 18:55:10.987 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserClaims] (
    [Id] int NOT NULL IDENTITY,
    [UserId] uniqueidentifier NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetUserClaims_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2023-11-11 18:55:10.990 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserLogins] (
    [LoginProvider] nvarchar(450) NOT NULL,
    [ProviderKey] nvarchar(450) NOT NULL,
    [ProviderDisplayName] nvarchar(max) NULL,
    [UserId] uniqueidentifier NOT NULL,
    CONSTRAINT [PK_AspNetUserLogins] PRIMARY KEY ([LoginProvider], [ProviderKey]),
    CONSTRAINT [FK_AspNetUserLogins_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2023-11-11 18:55:10.993 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserRoles] (
    [UserId] uniqueidentifier NOT NULL,
    [RoleId] uniqueidentifier NOT NULL,
    CONSTRAINT [PK_AspNetUserRoles] PRIMARY KEY ([UserId], [RoleId]),
    CONSTRAINT [FK_AspNetUserRoles_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_AspNetUserRoles_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2023-11-11 18:55:10.996 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserTokens] (
    [UserId] uniqueidentifier NOT NULL,
    [LoginProvider] nvarchar(450) NOT NULL,
    [Name] nvarchar(450) NOT NULL,
    [Value] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserTokens] PRIMARY KEY ([UserId], [LoginProvider], [Name]),
    CONSTRAINT [FK_AspNetUserTokens_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2023-11-11 18:55:10.999 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Tokens] (
    [Id] uniqueidentifier NOT NULL,
    [RefreshToken] nvarchar(max) NULL,
    [RefreshTokenExpiryTime] datetime2 NULL,
    [IpAddress] nvarchar(max) NOT NULL,
    [AccountId] uniqueidentifier NULL,
    [AccountId1] uniqueidentifier NULL,
    CONSTRAINT [PK_Tokens] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Tokens_Accounts_AccountId1] FOREIGN KEY ([AccountId1]) REFERENCES [Accounts] ([Id]),
    CONSTRAINT [FK_Tokens_AspNetUsers_AccountId] FOREIGN KEY ([AccountId]) REFERENCES [AspNetUsers] ([Id])
);
2023-11-11 18:55:11.003 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Transactions] (
    [Id] uniqueidentifier NOT NULL,
    [Title] varchar(50) NOT NULL,
    [Price] decimal(15,2) NOT NULL,
    [Date] datetime2 NOT NULL,
    [TextColor] varchar(7) NULL,
    [BackgroundColor] varchar(7) NULL,
    [IsDefault] bit NOT NULL DEFAULT CAST(0 AS bit),
    [CategoryId] uniqueidentifier NOT NULL,
    [CurrencyId] uniqueidentifier NOT NULL,
    [AccountId] uniqueidentifier NOT NULL,
    [CratedBy] uniqueidentifier NULL,
    [CreatedTime] datetime2 NULL,
    [ModifiedBy] uniqueidentifier NULL,
    [ModifiedTime] datetime2 NULL,
    [DeletedBy] uniqueidentifier NULL,
    [DeletedTime] datetime2 NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_Transactions] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Transactions_Accounts_AccountId] FOREIGN KEY ([AccountId]) REFERENCES [Accounts] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Transactions_Categories_CategoryId] FOREIGN KEY ([CategoryId]) REFERENCES [Categories] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Transactions_Currencies_CurrencyId] FOREIGN KEY ([CurrencyId]) REFERENCES [Currencies] ([Id]) ON DELETE CASCADE
);
2023-11-11 18:55:11.040 +01:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CratedBy', N'CreatedTime', N'DeletedBy', N'DeletedTime', N'IsDeleted', N'ModifiedBy', N'ModifiedTime', N'Name') AND [object_id] = OBJECT_ID(N'[Categories]'))
    SET IDENTITY_INSERT [Categories] ON;
INSERT INTO [Categories] ([Id], [CratedBy], [CreatedTime], [DeletedBy], [DeletedTime], [IsDeleted], [ModifiedBy], [ModifiedTime], [Name])
VALUES ('00d9b1cd-02f0-484d-a434-92200d3c0900', NULL, NULL, NULL, NULL, CAST(0 AS bit), NULL, NULL, 'Rachunki');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CratedBy', N'CreatedTime', N'DeletedBy', N'DeletedTime', N'IsDeleted', N'ModifiedBy', N'ModifiedTime', N'Name') AND [object_id] = OBJECT_ID(N'[Categories]'))
    SET IDENTITY_INSERT [Categories] OFF;
2023-11-11 18:55:11.042 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_AccountData_AccountId] ON [AccountData] ([AccountId]);
2023-11-11 18:55:11.044 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_AccountData_AccountId1] ON [AccountData] ([AccountId1]) WHERE [AccountId1] IS NOT NULL;
2023-11-11 18:55:11.046 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Accounts_Email] ON [Accounts] ([Email]);
2023-11-11 18:55:11.048 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetRoleClaims_RoleId] ON [AspNetRoleClaims] ([RoleId]);
2023-11-11 18:55:11.050 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [RoleNameIndex] ON [AspNetRoles] ([NormalizedName]) WHERE [NormalizedName] IS NOT NULL;
2023-11-11 18:55:11.051 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserClaims_UserId] ON [AspNetUserClaims] ([UserId]);
2023-11-11 18:55:11.053 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserLogins_UserId] ON [AspNetUserLogins] ([UserId]);
2023-11-11 18:55:11.055 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserRoles_RoleId] ON [AspNetUserRoles] ([RoleId]);
2023-11-11 18:55:11.057 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [EmailIndex] ON [AspNetUsers] ([NormalizedEmail]);
2023-11-11 18:55:11.058 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [UserNameIndex] ON [AspNetUsers] ([NormalizedUserName]) WHERE [NormalizedUserName] IS NOT NULL;
2023-11-11 18:55:11.061 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Notes_AccountId] ON [Notes] ([AccountId]);
2023-11-11 18:55:11.062 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Tokens_AccountId] ON [Tokens] ([AccountId]);
2023-11-11 18:55:11.064 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Tokens_AccountId1] ON [Tokens] ([AccountId1]) WHERE [AccountId1] IS NOT NULL;
2023-11-11 18:55:11.065 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Transactions_AccountId] ON [Transactions] ([AccountId]);
2023-11-11 18:55:11.067 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Transactions_CategoryId] ON [Transactions] ([CategoryId]);
2023-11-11 18:55:11.068 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Transactions_CurrencyId] ON [Transactions] ([CurrencyId]);
2023-11-11 18:55:11.070 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20231111175237_Initial', N'7.0.12');
2023-11-11 19:06:31.772 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-11-11 19:06:31.816 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-11-11 19:06:31.819 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-11-11 19:06:31.875 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2023-11-11 19:06:31.877 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-11-11 19:06:31.880 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-11-11 19:06:31.892 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-11-11 19:06:31.905 +01:00 [INF] Applying migration '20231111180614_Initial'.
2023-11-11 19:06:31.981 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoles] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(256) NULL,
    [NormalizedName] nvarchar(256) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoles] PRIMARY KEY ([Id])
);
2023-11-11 19:06:31.984 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUsers] (
    [Id] uniqueidentifier NOT NULL,
    [IconType] int NOT NULL,
    [UserName] nvarchar(256) NULL,
    [NormalizedUserName] nvarchar(256) NULL,
    [Email] nvarchar(256) NULL,
    [NormalizedEmail] nvarchar(256) NULL,
    [EmailConfirmed] bit NOT NULL,
    [PasswordHash] nvarchar(max) NULL,
    [SecurityStamp] nvarchar(max) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    [PhoneNumber] nvarchar(max) NULL,
    [PhoneNumberConfirmed] bit NOT NULL,
    [TwoFactorEnabled] bit NOT NULL,
    [LockoutEnd] datetimeoffset NULL,
    [LockoutEnabled] bit NOT NULL,
    [AccessFailedCount] int NOT NULL,
    CONSTRAINT [PK_AspNetUsers] PRIMARY KEY ([Id])
);
2023-11-11 19:06:31.987 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Categories] (
    [Id] uniqueidentifier NOT NULL,
    [Name] varchar(50) NOT NULL,
    [CratedBy] uniqueidentifier NULL,
    [CreatedTime] datetime2 NULL,
    [ModifiedBy] uniqueidentifier NULL,
    [ModifiedTime] datetime2 NULL,
    [DeletedBy] uniqueidentifier NULL,
    [DeletedTime] datetime2 NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_Categories] PRIMARY KEY ([Id])
);
2023-11-11 19:06:31.990 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Currencies] (
    [Id] uniqueidentifier NOT NULL,
    [CurrencyName] varchar(30) NOT NULL,
    [Code] varchar(3) NOT NULL,
    [Bid] decimal(10,3) NOT NULL,
    [Ask] decimal(10,3) NOT NULL,
    [TradingDate] datetime NOT NULL,
    [CratedBy] uniqueidentifier NULL,
    [CreatedTime] datetime2 NULL,
    [ModifiedBy] uniqueidentifier NULL,
    [ModifiedTime] datetime2 NULL,
    [DeletedBy] uniqueidentifier NULL,
    [DeletedTime] datetime2 NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_Currencies] PRIMARY KEY ([Id])
);
2023-11-11 19:06:31.992 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoleClaims] (
    [Id] int NOT NULL IDENTITY,
    [RoleId] uniqueidentifier NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoleClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetRoleClaims_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE
);
2023-11-11 19:06:31.995 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AccountData] (
    [Id] uniqueidentifier NOT NULL,
    [ActualMoney] decimal(15,2) NOT NULL DEFAULT 0.0,
    [UserIdentityId] uniqueidentifier NOT NULL,
    [CratedBy] uniqueidentifier NULL,
    [CreatedTime] datetime2 NULL,
    [ModifiedBy] uniqueidentifier NULL,
    [ModifiedTime] datetime2 NULL,
    [DeletedBy] uniqueidentifier NULL,
    [DeletedTime] datetime2 NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_AccountData] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AccountData_AspNetUsers_UserIdentityId] FOREIGN KEY ([UserIdentityId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2023-11-11 19:06:31.998 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserClaims] (
    [Id] int NOT NULL IDENTITY,
    [UserId] uniqueidentifier NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetUserClaims_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2023-11-11 19:06:32.001 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserLogins] (
    [LoginProvider] nvarchar(450) NOT NULL,
    [ProviderKey] nvarchar(450) NOT NULL,
    [ProviderDisplayName] nvarchar(max) NULL,
    [UserId] uniqueidentifier NOT NULL,
    CONSTRAINT [PK_AspNetUserLogins] PRIMARY KEY ([LoginProvider], [ProviderKey]),
    CONSTRAINT [FK_AspNetUserLogins_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2023-11-11 19:06:32.004 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserRoles] (
    [UserId] uniqueidentifier NOT NULL,
    [RoleId] uniqueidentifier NOT NULL,
    CONSTRAINT [PK_AspNetUserRoles] PRIMARY KEY ([UserId], [RoleId]),
    CONSTRAINT [FK_AspNetUserRoles_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_AspNetUserRoles_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2023-11-11 19:06:32.007 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserTokens] (
    [UserId] uniqueidentifier NOT NULL,
    [LoginProvider] nvarchar(450) NOT NULL,
    [Name] nvarchar(450) NOT NULL,
    [Value] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserTokens] PRIMARY KEY ([UserId], [LoginProvider], [Name]),
    CONSTRAINT [FK_AspNetUserTokens_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2023-11-11 19:06:32.010 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Tokens] (
    [Id] uniqueidentifier NOT NULL,
    [RefreshToken] nvarchar(max) NULL,
    [RefreshTokenExpiryTime] datetime2 NULL,
    [IpAddress] nvarchar(max) NOT NULL,
    [UserIdentityId] uniqueidentifier NOT NULL,
    CONSTRAINT [PK_Tokens] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Tokens_AspNetUsers_UserIdentityId] FOREIGN KEY ([UserIdentityId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2023-11-11 19:06:32.013 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Accounts] (
    [Id] uniqueidentifier NOT NULL,
    [Username] varchar(40) NOT NULL,
    [Email] varchar(255) NOT NULL,
    [PasswordHash] varchar(255) NOT NULL,
    [Icon] int NOT NULL DEFAULT 1,
    [TokenId] uniqueidentifier NULL,
    [AccountDataId] uniqueidentifier NOT NULL,
    [CratedBy] uniqueidentifier NULL,
    [CreatedTime] datetime2 NULL,
    [ModifiedBy] uniqueidentifier NULL,
    [ModifiedTime] datetime2 NULL,
    [DeletedBy] uniqueidentifier NULL,
    [DeletedTime] datetime2 NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_Accounts] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Accounts_AccountData_AccountDataId] FOREIGN KEY ([AccountDataId]) REFERENCES [AccountData] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Accounts_Tokens_TokenId] FOREIGN KEY ([TokenId]) REFERENCES [Tokens] ([Id])
);
2023-11-11 19:06:32.017 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Notes] (
    [Id] uniqueidentifier NOT NULL,
    [Title] varchar(50) NOT NULL,
    [Text] varchar(500) NULL,
    [IsDone] bit NOT NULL DEFAULT CAST(0 AS bit),
    [TextColor] varchar(7) NULL,
    [BackgroundColor] varchar(7) NULL,
    [AccountId] uniqueidentifier NOT NULL,
    [CratedBy] uniqueidentifier NULL,
    [CreatedTime] datetime2 NULL,
    [ModifiedBy] uniqueidentifier NULL,
    [ModifiedTime] datetime2 NULL,
    [DeletedBy] uniqueidentifier NULL,
    [DeletedTime] datetime2 NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_Notes] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Notes_Accounts_AccountId] FOREIGN KEY ([AccountId]) REFERENCES [Accounts] ([Id]) ON DELETE CASCADE
);
2023-11-11 19:06:32.021 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Transactions] (
    [Id] uniqueidentifier NOT NULL,
    [Title] varchar(50) NOT NULL,
    [Price] decimal(15,2) NOT NULL,
    [Date] datetime2 NOT NULL,
    [TextColor] varchar(7) NULL,
    [BackgroundColor] varchar(7) NULL,
    [IsDefault] bit NOT NULL DEFAULT CAST(0 AS bit),
    [CategoryId] uniqueidentifier NOT NULL,
    [CurrencyId] uniqueidentifier NOT NULL,
    [AccountId] uniqueidentifier NOT NULL,
    [CratedBy] uniqueidentifier NULL,
    [CreatedTime] datetime2 NULL,
    [ModifiedBy] uniqueidentifier NULL,
    [ModifiedTime] datetime2 NULL,
    [DeletedBy] uniqueidentifier NULL,
    [DeletedTime] datetime2 NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_Transactions] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Transactions_Accounts_AccountId] FOREIGN KEY ([AccountId]) REFERENCES [Accounts] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Transactions_Categories_CategoryId] FOREIGN KEY ([CategoryId]) REFERENCES [Categories] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Transactions_Currencies_CurrencyId] FOREIGN KEY ([CurrencyId]) REFERENCES [Currencies] ([Id]) ON DELETE CASCADE
);
2023-11-11 19:06:32.060 +01:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CratedBy', N'CreatedTime', N'DeletedBy', N'DeletedTime', N'IsDeleted', N'ModifiedBy', N'ModifiedTime', N'Name') AND [object_id] = OBJECT_ID(N'[Categories]'))
    SET IDENTITY_INSERT [Categories] ON;
INSERT INTO [Categories] ([Id], [CratedBy], [CreatedTime], [DeletedBy], [DeletedTime], [IsDeleted], [ModifiedBy], [ModifiedTime], [Name])
VALUES ('f2863d64-b144-44a0-9f29-e06ba9132fdf', NULL, NULL, NULL, NULL, CAST(0 AS bit), NULL, NULL, 'Rachunki');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CratedBy', N'CreatedTime', N'DeletedBy', N'DeletedTime', N'IsDeleted', N'ModifiedBy', N'ModifiedTime', N'Name') AND [object_id] = OBJECT_ID(N'[Categories]'))
    SET IDENTITY_INSERT [Categories] OFF;
2023-11-11 19:06:32.063 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_AccountData_UserIdentityId] ON [AccountData] ([UserIdentityId]);
2023-11-11 19:06:32.065 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Accounts_AccountDataId] ON [Accounts] ([AccountDataId]);
2023-11-11 19:06:32.067 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Accounts_Email] ON [Accounts] ([Email]);
2023-11-11 19:06:32.069 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Accounts_TokenId] ON [Accounts] ([TokenId]);
2023-11-11 19:06:32.070 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetRoleClaims_RoleId] ON [AspNetRoleClaims] ([RoleId]);
2023-11-11 19:06:32.071 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [RoleNameIndex] ON [AspNetRoles] ([NormalizedName]) WHERE [NormalizedName] IS NOT NULL;
2023-11-11 19:06:32.073 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserClaims_UserId] ON [AspNetUserClaims] ([UserId]);
2023-11-11 19:06:32.074 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserLogins_UserId] ON [AspNetUserLogins] ([UserId]);
2023-11-11 19:06:32.075 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserRoles_RoleId] ON [AspNetUserRoles] ([RoleId]);
2023-11-11 19:06:32.077 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [EmailIndex] ON [AspNetUsers] ([NormalizedEmail]);
2023-11-11 19:06:32.079 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [UserNameIndex] ON [AspNetUsers] ([NormalizedUserName]) WHERE [NormalizedUserName] IS NOT NULL;
2023-11-11 19:06:32.081 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Notes_AccountId] ON [Notes] ([AccountId]);
2023-11-11 19:06:32.082 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Tokens_UserIdentityId] ON [Tokens] ([UserIdentityId]);
2023-11-11 19:06:32.083 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Transactions_AccountId] ON [Transactions] ([AccountId]);
2023-11-11 19:06:32.084 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Transactions_CategoryId] ON [Transactions] ([CategoryId]);
2023-11-11 19:06:32.085 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Transactions_CurrencyId] ON [Transactions] ([CurrencyId]);
2023-11-11 19:06:32.087 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20231111180614_Initial', N'7.0.12');
2023-11-11 19:17:43.636 +01:00 [INF] User profile is available. Using 'C:\Users\maste\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-11-11 19:17:43.784 +01:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2023-11-11 19:17:43.785 +01:00 [INF] Quartz Scheduler created
2023-11-11 19:17:43.787 +01:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2023-11-11 19:17:43.788 +01:00 [INF] RAMJobStore initialized.
2023-11-11 19:17:43.789 +01:00 [INF] Quartz Scheduler 3.7.0.0 - 'QuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2023-11-11 19:17:43.790 +01:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2023-11-11 19:17:43.791 +01:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2023-11-11 19:17:43.800 +01:00 [INF] Adding 1 jobs, 1 triggers.
2023-11-11 19:17:43.805 +01:00 [INF] Adding job: DEFAULT.NBP
2023-11-11 19:17:43.882 +01:00 [INF] Now listening on: http://localhost:5238
2023-11-11 19:17:43.883 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-11 19:17:43.888 +01:00 [INF] Hosting environment: Development
2023-11-11 19:17:43.889 +01:00 [INF] Content root path: C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api
2023-11-11 19:17:43.892 +01:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2023-11-11 19:17:44.066 +01:00 [INF] Start processing HTTP request GET http://api.nbp.pl/api/exchangerates/tables/c
2023-11-11 19:17:44.069 +01:00 [INF] Sending HTTP request GET http://api.nbp.pl/api/exchangerates/tables/c
2023-11-11 19:17:44.212 +01:00 [INF] Received HTTP response headers after 139.8737ms - 200
2023-11-11 19:17:44.216 +01:00 [INF] End processing HTTP request after 155.264ms - 200
2023-11-11 19:17:45.440 +01:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Ask], [c].[Bid], [c].[Code], [c].[CratedBy], [c].[CreatedTime], [c].[CurrencyName], [c].[DeletedBy], [c].[DeletedTime], [c].[IsDeleted], [c].[ModifiedBy], [c].[ModifiedTime], [c].[TradingDate]
FROM [Currencies] AS [c]
2023-11-11 19:17:45.680 +01:00 [ERR] Job DEFAULT.NBP threw an unhandled Exception: 
System.NullReferenceException: Object reference not set to an instance of an object.
   at WalletApp.Services.CurrentUserService.get_Account() in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api\Services\CurrentUserService.cs:line 15
   at WalletApp.Persistence.WalletDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\WalletDbContext.cs:line 54
   at WalletApp.Persistence.Repositories.CurrencyRepository.Save(CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\Repositories\CurrencyRepository.cs:line 49
   at WalletApp.Application.Common.Currency.Update.UpdateCurrencyCommandHandler.Handle(UpdateCurrencyCommand request, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Common\Currency\UpdateCurrency\UpdateCurrencyCommandHandler.cs:line 48
   at MediatR.Wrappers.RequestHandlerWrapperImpl`1.<>c__DisplayClass1_0.<<Handle>g__Handler|0>d.MoveNext()
--- End of stack trace from previous location ---
   at WalletApp.Application.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Behaviours\ValidationBehaviour.cs:line 17
   at WalletApp.Infrastructure.Quartz.CallToNbpApiJob.Execute(IJobExecutionContext context) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Infrastructure\Quartz\CallToNbpApiJob.cs:line 29
   at Quartz.Core.JobRunShell.Run(CancellationToken cancellationToken)
2023-11-11 19:17:45.691 +01:00 [ERR] Job DEFAULT.NBP threw an exception.
Quartz.SchedulerException: Job threw an unhandled exception.
 ---> System.NullReferenceException: Object reference not set to an instance of an object.
   at WalletApp.Services.CurrentUserService.get_Account() in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api\Services\CurrentUserService.cs:line 15
   at WalletApp.Persistence.WalletDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\WalletDbContext.cs:line 54
   at WalletApp.Persistence.Repositories.CurrencyRepository.Save(CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\Repositories\CurrencyRepository.cs:line 49
   at WalletApp.Application.Common.Currency.Update.UpdateCurrencyCommandHandler.Handle(UpdateCurrencyCommand request, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Common\Currency\UpdateCurrency\UpdateCurrencyCommandHandler.cs:line 48
   at MediatR.Wrappers.RequestHandlerWrapperImpl`1.<>c__DisplayClass1_0.<<Handle>g__Handler|0>d.MoveNext()
--- End of stack trace from previous location ---
   at WalletApp.Application.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Behaviours\ValidationBehaviour.cs:line 17
   at WalletApp.Infrastructure.Quartz.CallToNbpApiJob.Execute(IJobExecutionContext context) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Infrastructure\Quartz\CallToNbpApiJob.cs:line 29
   at Quartz.Core.JobRunShell.Run(CancellationToken cancellationToken)
   --- End of inner exception stack trace --- [See nested exception: System.NullReferenceException: Object reference not set to an instance of an object.
   at WalletApp.Services.CurrentUserService.get_Account() in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api\Services\CurrentUserService.cs:line 15
   at WalletApp.Persistence.WalletDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\WalletDbContext.cs:line 54
   at WalletApp.Persistence.Repositories.CurrencyRepository.Save(CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\Repositories\CurrencyRepository.cs:line 49
   at WalletApp.Application.Common.Currency.Update.UpdateCurrencyCommandHandler.Handle(UpdateCurrencyCommand request, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Common\Currency\UpdateCurrency\UpdateCurrencyCommandHandler.cs:line 48
   at MediatR.Wrappers.RequestHandlerWrapperImpl`1.<>c__DisplayClass1_0.<<Handle>g__Handler|0>d.MoveNext()
--- End of stack trace from previous location ---
   at WalletApp.Application.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Behaviours\ValidationBehaviour.cs:line 17
   at WalletApp.Infrastructure.Quartz.CallToNbpApiJob.Execute(IJobExecutionContext context) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Infrastructure\Quartz\CallToNbpApiJob.cs:line 29
   at Quartz.Core.JobRunShell.Run(CancellationToken cancellationToken)]
2023-11-11 19:19:46.729 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5238/api/account/register application/json 165
2023-11-11 19:19:46.775 +01:00 [WRN] Failed to determine the https port for redirect.
2023-11-11 19:26:31.524 +01:00 [INF] User profile is available. Using 'C:\Users\maste\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-11-11 19:26:31.670 +01:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2023-11-11 19:26:31.671 +01:00 [INF] Quartz Scheduler created
2023-11-11 19:26:31.672 +01:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2023-11-11 19:26:31.673 +01:00 [INF] RAMJobStore initialized.
2023-11-11 19:26:31.674 +01:00 [INF] Quartz Scheduler 3.7.0.0 - 'QuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2023-11-11 19:26:31.675 +01:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2023-11-11 19:26:31.677 +01:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2023-11-11 19:26:31.690 +01:00 [INF] Adding 1 jobs, 1 triggers.
2023-11-11 19:26:31.695 +01:00 [INF] Adding job: DEFAULT.NBP
2023-11-11 19:26:31.778 +01:00 [INF] Now listening on: http://localhost:5238
2023-11-11 19:26:31.779 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-11 19:26:31.784 +01:00 [INF] Hosting environment: Development
2023-11-11 19:26:31.786 +01:00 [INF] Content root path: C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api
2023-11-11 19:26:31.787 +01:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2023-11-11 19:26:31.956 +01:00 [INF] Start processing HTTP request GET http://api.nbp.pl/api/exchangerates/tables/c
2023-11-11 19:26:31.959 +01:00 [INF] Sending HTTP request GET http://api.nbp.pl/api/exchangerates/tables/c
2023-11-11 19:26:32.114 +01:00 [INF] Received HTTP response headers after 150.6704ms - 200
2023-11-11 19:26:32.119 +01:00 [INF] End processing HTTP request after 167.3875ms - 200
2023-11-11 19:26:33.521 +01:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Ask], [c].[Bid], [c].[Code], [c].[CratedBy], [c].[CreatedTime], [c].[CurrencyName], [c].[DeletedBy], [c].[DeletedTime], [c].[IsDeleted], [c].[ModifiedBy], [c].[ModifiedTime], [c].[TradingDate]
FROM [Currencies] AS [c]
2023-11-11 19:26:33.770 +01:00 [ERR] Job DEFAULT.NBP threw an unhandled Exception: 
System.NullReferenceException: Object reference not set to an instance of an object.
   at WalletApp.Services.CurrentUserService.get_Account() in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api\Services\CurrentUserService.cs:line 15
   at WalletApp.Persistence.WalletDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\WalletDbContext.cs:line 54
   at WalletApp.Persistence.Repositories.CurrencyRepository.Save(CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\Repositories\CurrencyRepository.cs:line 49
   at WalletApp.Application.Common.Currency.Update.UpdateCurrencyCommandHandler.Handle(UpdateCurrencyCommand request, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Common\Currency\UpdateCurrency\UpdateCurrencyCommandHandler.cs:line 48
   at MediatR.Wrappers.RequestHandlerWrapperImpl`1.<>c__DisplayClass1_0.<<Handle>g__Handler|0>d.MoveNext()
--- End of stack trace from previous location ---
   at WalletApp.Application.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Behaviours\ValidationBehaviour.cs:line 17
   at WalletApp.Infrastructure.Quartz.CallToNbpApiJob.Execute(IJobExecutionContext context) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Infrastructure\Quartz\CallToNbpApiJob.cs:line 29
   at Quartz.Core.JobRunShell.Run(CancellationToken cancellationToken)
2023-11-11 19:26:33.782 +01:00 [ERR] Job DEFAULT.NBP threw an exception.
Quartz.SchedulerException: Job threw an unhandled exception.
 ---> System.NullReferenceException: Object reference not set to an instance of an object.
   at WalletApp.Services.CurrentUserService.get_Account() in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api\Services\CurrentUserService.cs:line 15
   at WalletApp.Persistence.WalletDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\WalletDbContext.cs:line 54
   at WalletApp.Persistence.Repositories.CurrencyRepository.Save(CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\Repositories\CurrencyRepository.cs:line 49
   at WalletApp.Application.Common.Currency.Update.UpdateCurrencyCommandHandler.Handle(UpdateCurrencyCommand request, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Common\Currency\UpdateCurrency\UpdateCurrencyCommandHandler.cs:line 48
   at MediatR.Wrappers.RequestHandlerWrapperImpl`1.<>c__DisplayClass1_0.<<Handle>g__Handler|0>d.MoveNext()
--- End of stack trace from previous location ---
   at WalletApp.Application.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Behaviours\ValidationBehaviour.cs:line 17
   at WalletApp.Infrastructure.Quartz.CallToNbpApiJob.Execute(IJobExecutionContext context) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Infrastructure\Quartz\CallToNbpApiJob.cs:line 29
   at Quartz.Core.JobRunShell.Run(CancellationToken cancellationToken)
   --- End of inner exception stack trace --- [See nested exception: System.NullReferenceException: Object reference not set to an instance of an object.
   at WalletApp.Services.CurrentUserService.get_Account() in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api\Services\CurrentUserService.cs:line 15
   at WalletApp.Persistence.WalletDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\WalletDbContext.cs:line 54
   at WalletApp.Persistence.Repositories.CurrencyRepository.Save(CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\Repositories\CurrencyRepository.cs:line 49
   at WalletApp.Application.Common.Currency.Update.UpdateCurrencyCommandHandler.Handle(UpdateCurrencyCommand request, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Common\Currency\UpdateCurrency\UpdateCurrencyCommandHandler.cs:line 48
   at MediatR.Wrappers.RequestHandlerWrapperImpl`1.<>c__DisplayClass1_0.<<Handle>g__Handler|0>d.MoveNext()
--- End of stack trace from previous location ---
   at WalletApp.Application.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Behaviours\ValidationBehaviour.cs:line 17
   at WalletApp.Infrastructure.Quartz.CallToNbpApiJob.Execute(IJobExecutionContext context) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Infrastructure\Quartz\CallToNbpApiJob.cs:line 29
   at Quartz.Core.JobRunShell.Run(CancellationToken cancellationToken)]
2023-11-11 20:10:39.829 +01:00 [INF] User profile is available. Using 'C:\Users\maste\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-11-11 20:10:39.971 +01:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2023-11-11 20:10:39.981 +01:00 [INF] Quartz Scheduler created
2023-11-11 20:10:39.982 +01:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2023-11-11 20:10:39.983 +01:00 [INF] RAMJobStore initialized.
2023-11-11 20:10:39.984 +01:00 [INF] Quartz Scheduler 3.7.0.0 - 'QuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2023-11-11 20:10:39.985 +01:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2023-11-11 20:10:39.986 +01:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2023-11-11 20:10:39.995 +01:00 [INF] Adding 1 jobs, 1 triggers.
2023-11-11 20:10:39.999 +01:00 [INF] Adding job: DEFAULT.NBP
2023-11-11 20:10:40.091 +01:00 [INF] Now listening on: http://localhost:5238
2023-11-11 20:10:40.093 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-11 20:10:40.100 +01:00 [INF] Hosting environment: Development
2023-11-11 20:10:40.101 +01:00 [INF] Content root path: C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api
2023-11-11 20:10:40.103 +01:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2023-11-11 20:10:40.274 +01:00 [INF] Start processing HTTP request GET http://api.nbp.pl/api/exchangerates/tables/c
2023-11-11 20:10:40.277 +01:00 [INF] Sending HTTP request GET http://api.nbp.pl/api/exchangerates/tables/c
2023-11-11 20:10:40.405 +01:00 [INF] Received HTTP response headers after 122.7605ms - 200
2023-11-11 20:10:40.410 +01:00 [INF] End processing HTTP request after 140.1603ms - 200
2023-11-11 20:10:41.631 +01:00 [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Ask], [c].[Bid], [c].[Code], [c].[CratedBy], [c].[CreatedTime], [c].[CurrencyName], [c].[DeletedBy], [c].[DeletedTime], [c].[IsDeleted], [c].[ModifiedBy], [c].[ModifiedTime], [c].[TradingDate]
FROM [Currencies] AS [c]
2023-11-11 20:10:41.878 +01:00 [ERR] Job DEFAULT.NBP threw an unhandled Exception: 
System.NullReferenceException: Object reference not set to an instance of an object.
   at WalletApp.Services.CurrentUserService.get_Id() in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api\Services\CurrentUserService.cs:line 15
   at WalletApp.Persistence.WalletDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\WalletDbContext.cs:line 51
   at WalletApp.Persistence.Repositories.CurrencyRepository.Save(CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\Repositories\CurrencyRepository.cs:line 49
   at WalletApp.Application.Common.Currency.Update.UpdateCurrencyCommandHandler.Handle(UpdateCurrencyCommand request, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Common\Currency\UpdateCurrency\UpdateCurrencyCommandHandler.cs:line 48
   at MediatR.Wrappers.RequestHandlerWrapperImpl`1.<>c__DisplayClass1_0.<<Handle>g__Handler|0>d.MoveNext()
--- End of stack trace from previous location ---
   at WalletApp.Application.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Behaviours\ValidationBehaviour.cs:line 17
   at WalletApp.Infrastructure.Quartz.CallToNbpApiJob.Execute(IJobExecutionContext context) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Infrastructure\Quartz\CallToNbpApiJob.cs:line 29
   at Quartz.Core.JobRunShell.Run(CancellationToken cancellationToken)
2023-11-11 20:10:41.888 +01:00 [ERR] Job DEFAULT.NBP threw an exception.
Quartz.SchedulerException: Job threw an unhandled exception.
 ---> System.NullReferenceException: Object reference not set to an instance of an object.
   at WalletApp.Services.CurrentUserService.get_Id() in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api\Services\CurrentUserService.cs:line 15
   at WalletApp.Persistence.WalletDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\WalletDbContext.cs:line 51
   at WalletApp.Persistence.Repositories.CurrencyRepository.Save(CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\Repositories\CurrencyRepository.cs:line 49
   at WalletApp.Application.Common.Currency.Update.UpdateCurrencyCommandHandler.Handle(UpdateCurrencyCommand request, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Common\Currency\UpdateCurrency\UpdateCurrencyCommandHandler.cs:line 48
   at MediatR.Wrappers.RequestHandlerWrapperImpl`1.<>c__DisplayClass1_0.<<Handle>g__Handler|0>d.MoveNext()
--- End of stack trace from previous location ---
   at WalletApp.Application.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Behaviours\ValidationBehaviour.cs:line 17
   at WalletApp.Infrastructure.Quartz.CallToNbpApiJob.Execute(IJobExecutionContext context) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Infrastructure\Quartz\CallToNbpApiJob.cs:line 29
   at Quartz.Core.JobRunShell.Run(CancellationToken cancellationToken)
   --- End of inner exception stack trace --- [See nested exception: System.NullReferenceException: Object reference not set to an instance of an object.
   at WalletApp.Services.CurrentUserService.get_Id() in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api\Services\CurrentUserService.cs:line 15
   at WalletApp.Persistence.WalletDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\WalletDbContext.cs:line 51
   at WalletApp.Persistence.Repositories.CurrencyRepository.Save(CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\Repositories\CurrencyRepository.cs:line 49
   at WalletApp.Application.Common.Currency.Update.UpdateCurrencyCommandHandler.Handle(UpdateCurrencyCommand request, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Common\Currency\UpdateCurrency\UpdateCurrencyCommandHandler.cs:line 48
   at MediatR.Wrappers.RequestHandlerWrapperImpl`1.<>c__DisplayClass1_0.<<Handle>g__Handler|0>d.MoveNext()
--- End of stack trace from previous location ---
   at WalletApp.Application.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Behaviours\ValidationBehaviour.cs:line 17
   at WalletApp.Infrastructure.Quartz.CallToNbpApiJob.Execute(IJobExecutionContext context) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Infrastructure\Quartz\CallToNbpApiJob.cs:line 29
   at Quartz.Core.JobRunShell.Run(CancellationToken cancellationToken)]
2023-11-11 20:12:08.596 +01:00 [INF] User profile is available. Using 'C:\Users\maste\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-11-11 20:12:08.744 +01:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2023-11-11 20:12:08.746 +01:00 [INF] Quartz Scheduler created
2023-11-11 20:12:08.747 +01:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2023-11-11 20:12:08.748 +01:00 [INF] RAMJobStore initialized.
2023-11-11 20:12:08.749 +01:00 [INF] Quartz Scheduler 3.7.0.0 - 'QuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2023-11-11 20:12:08.749 +01:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2023-11-11 20:12:08.750 +01:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2023-11-11 20:12:08.760 +01:00 [INF] Adding 1 jobs, 1 triggers.
2023-11-11 20:12:08.764 +01:00 [INF] Adding job: DEFAULT.NBP
2023-11-11 20:12:08.853 +01:00 [INF] Now listening on: http://localhost:5238
2023-11-11 20:12:08.856 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-11 20:12:08.859 +01:00 [INF] Hosting environment: Development
2023-11-11 20:12:08.860 +01:00 [INF] Content root path: C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api
2023-11-11 20:12:08.862 +01:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2023-11-11 20:12:09.023 +01:00 [INF] Start processing HTTP request GET http://api.nbp.pl/api/exchangerates/tables/c
2023-11-11 20:12:09.027 +01:00 [INF] Sending HTTP request GET http://api.nbp.pl/api/exchangerates/tables/c
2023-11-11 20:12:09.165 +01:00 [INF] Received HTTP response headers after 133.649ms - 200
2023-11-11 20:12:09.172 +01:00 [INF] End processing HTTP request after 154.0497ms - 200
2023-11-11 20:12:10.387 +01:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Ask], [c].[Bid], [c].[Code], [c].[CratedBy], [c].[CreatedTime], [c].[CurrencyName], [c].[DeletedBy], [c].[DeletedTime], [c].[IsDeleted], [c].[ModifiedBy], [c].[ModifiedTime], [c].[TradingDate]
FROM [Currencies] AS [c]
2023-11-11 20:17:33.433 +01:00 [INF] User profile is available. Using 'C:\Users\maste\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-11-11 20:17:33.587 +01:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2023-11-11 20:17:33.589 +01:00 [INF] Quartz Scheduler created
2023-11-11 20:17:33.590 +01:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2023-11-11 20:17:33.591 +01:00 [INF] RAMJobStore initialized.
2023-11-11 20:17:33.592 +01:00 [INF] Quartz Scheduler 3.7.0.0 - 'QuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2023-11-11 20:17:33.593 +01:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2023-11-11 20:17:33.594 +01:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2023-11-11 20:17:33.604 +01:00 [INF] Adding 1 jobs, 1 triggers.
2023-11-11 20:17:33.607 +01:00 [INF] Adding job: DEFAULT.NBP
2023-11-11 20:17:33.695 +01:00 [INF] Now listening on: http://localhost:5238
2023-11-11 20:17:33.698 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-11 20:17:33.703 +01:00 [INF] Hosting environment: Development
2023-11-11 20:17:33.705 +01:00 [INF] Content root path: C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api
2023-11-11 20:17:33.708 +01:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2023-11-11 20:17:57.465 +01:00 [INF] Start processing HTTP request GET http://api.nbp.pl/api/exchangerates/tables/c
2023-11-11 20:17:57.468 +01:00 [INF] Sending HTTP request GET http://api.nbp.pl/api/exchangerates/tables/c
2023-11-11 20:17:57.622 +01:00 [INF] Received HTTP response headers after 150.9967ms - 200
2023-11-11 20:17:57.627 +01:00 [INF] End processing HTTP request after 166.15ms - 200
2023-11-11 20:17:58.867 +01:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Ask], [c].[Bid], [c].[Code], [c].[CratedBy], [c].[CreatedTime], [c].[CurrencyName], [c].[DeletedBy], [c].[DeletedTime], [c].[IsDeleted], [c].[ModifiedBy], [c].[ModifiedTime], [c].[TradingDate]
FROM [Currencies] AS [c]
2023-11-11 20:19:48.738 +01:00 [INF] User profile is available. Using 'C:\Users\maste\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-11-11 20:19:48.886 +01:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2023-11-11 20:19:48.888 +01:00 [INF] Quartz Scheduler created
2023-11-11 20:19:48.889 +01:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2023-11-11 20:19:48.889 +01:00 [INF] RAMJobStore initialized.
2023-11-11 20:19:48.891 +01:00 [INF] Quartz Scheduler 3.7.0.0 - 'QuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2023-11-11 20:19:48.892 +01:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2023-11-11 20:19:48.893 +01:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2023-11-11 20:19:48.904 +01:00 [INF] Adding 1 jobs, 1 triggers.
2023-11-11 20:19:48.907 +01:00 [INF] Adding job: DEFAULT.NBP
2023-11-11 20:19:48.994 +01:00 [INF] Now listening on: http://localhost:5238
2023-11-11 20:19:48.995 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-11 20:19:49.000 +01:00 [INF] Hosting environment: Development
2023-11-11 20:19:49.001 +01:00 [INF] Content root path: C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api
2023-11-11 20:19:49.004 +01:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2023-11-11 20:19:54.774 +01:00 [INF] Start processing HTTP request GET http://api.nbp.pl/api/exchangerates/tables/c
2023-11-11 20:19:54.777 +01:00 [INF] Sending HTTP request GET http://api.nbp.pl/api/exchangerates/tables/c
2023-11-11 20:19:54.896 +01:00 [INF] Received HTTP response headers after 115.3034ms - 200
2023-11-11 20:19:54.900 +01:00 [INF] End processing HTTP request after 129.6554ms - 200
2023-11-11 20:19:56.133 +01:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Ask], [c].[Bid], [c].[Code], [c].[CratedBy], [c].[CreatedTime], [c].[CurrencyName], [c].[DeletedBy], [c].[DeletedTime], [c].[IsDeleted], [c].[ModifiedBy], [c].[ModifiedTime], [c].[TradingDate]
FROM [Currencies] AS [c]
2023-11-11 20:21:15.735 +01:00 [INF] User profile is available. Using 'C:\Users\maste\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-11-11 20:21:15.883 +01:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2023-11-11 20:21:15.885 +01:00 [INF] Quartz Scheduler created
2023-11-11 20:21:15.886 +01:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2023-11-11 20:21:15.887 +01:00 [INF] RAMJobStore initialized.
2023-11-11 20:21:15.888 +01:00 [INF] Quartz Scheduler 3.7.0.0 - 'QuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2023-11-11 20:21:15.888 +01:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2023-11-11 20:21:15.890 +01:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2023-11-11 20:21:15.899 +01:00 [INF] Adding 1 jobs, 1 triggers.
2023-11-11 20:21:15.902 +01:00 [INF] Adding job: DEFAULT.NBP
2023-11-11 20:21:15.979 +01:00 [INF] Now listening on: http://localhost:5238
2023-11-11 20:21:15.981 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-11 20:21:15.985 +01:00 [INF] Hosting environment: Development
2023-11-11 20:21:15.986 +01:00 [INF] Content root path: C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api
2023-11-11 20:21:15.989 +01:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2023-11-11 20:21:19.921 +01:00 [INF] Start processing HTTP request GET http://api.nbp.pl/api/exchangerates/tables/c
2023-11-11 20:21:19.923 +01:00 [INF] Sending HTTP request GET http://api.nbp.pl/api/exchangerates/tables/c
2023-11-11 20:21:20.038 +01:00 [INF] Received HTTP response headers after 111.3739ms - 200
2023-11-11 20:21:20.041 +01:00 [INF] End processing HTTP request after 124.634ms - 200
2023-11-11 20:21:21.252 +01:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Ask], [c].[Bid], [c].[Code], [c].[CratedBy], [c].[CreatedTime], [c].[CurrencyName], [c].[DeletedBy], [c].[DeletedTime], [c].[IsDeleted], [c].[ModifiedBy], [c].[ModifiedTime], [c].[TradingDate]
FROM [Currencies] AS [c]
2023-11-11 20:24:17.905 +01:00 [INF] User profile is available. Using 'C:\Users\maste\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-11-11 20:24:18.066 +01:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2023-11-11 20:24:18.067 +01:00 [INF] Quartz Scheduler created
2023-11-11 20:24:18.068 +01:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2023-11-11 20:24:18.069 +01:00 [INF] RAMJobStore initialized.
2023-11-11 20:24:18.071 +01:00 [INF] Quartz Scheduler 3.7.0.0 - 'QuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2023-11-11 20:24:18.071 +01:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2023-11-11 20:24:18.072 +01:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2023-11-11 20:24:18.082 +01:00 [INF] Adding 1 jobs, 1 triggers.
2023-11-11 20:24:18.085 +01:00 [INF] Adding job: DEFAULT.NBP
2023-11-11 20:24:18.174 +01:00 [INF] Now listening on: http://localhost:5238
2023-11-11 20:24:18.175 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-11 20:24:18.180 +01:00 [INF] Hosting environment: Development
2023-11-11 20:24:18.181 +01:00 [INF] Content root path: C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api
2023-11-11 20:24:18.184 +01:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2023-11-11 20:24:21.344 +01:00 [INF] Start processing HTTP request GET http://api.nbp.pl/api/exchangerates/tables/c
2023-11-11 20:24:21.347 +01:00 [INF] Sending HTTP request GET http://api.nbp.pl/api/exchangerates/tables/c
2023-11-11 20:24:21.499 +01:00 [INF] Received HTTP response headers after 149.524ms - 200
2023-11-11 20:24:21.505 +01:00 [INF] End processing HTTP request after 165.7853ms - 200
2023-11-11 20:24:22.725 +01:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Ask], [c].[Bid], [c].[Code], [c].[CratedBy], [c].[CreatedTime], [c].[CurrencyName], [c].[DeletedBy], [c].[DeletedTime], [c].[IsDeleted], [c].[ModifiedBy], [c].[ModifiedTime], [c].[TradingDate]
FROM [Currencies] AS [c]
2023-11-11 20:25:35.079 +01:00 [INF] User profile is available. Using 'C:\Users\maste\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-11-11 20:25:35.224 +01:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2023-11-11 20:25:35.227 +01:00 [INF] Quartz Scheduler created
2023-11-11 20:25:35.229 +01:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2023-11-11 20:25:35.230 +01:00 [INF] RAMJobStore initialized.
2023-11-11 20:25:35.231 +01:00 [INF] Quartz Scheduler 3.7.0.0 - 'QuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2023-11-11 20:25:35.232 +01:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2023-11-11 20:25:35.234 +01:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2023-11-11 20:25:35.243 +01:00 [INF] Adding 1 jobs, 1 triggers.
2023-11-11 20:25:35.246 +01:00 [INF] Adding job: DEFAULT.NBP
2023-11-11 20:25:35.332 +01:00 [INF] Now listening on: http://localhost:5238
2023-11-11 20:25:35.333 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-11 20:25:35.339 +01:00 [INF] Hosting environment: Development
2023-11-11 20:25:35.340 +01:00 [INF] Content root path: C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api
2023-11-11 20:25:35.342 +01:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2023-11-11 20:25:35.519 +01:00 [INF] Start processing HTTP request GET http://api.nbp.pl/api/exchangerates/tables/c
2023-11-11 20:25:35.523 +01:00 [INF] Sending HTTP request GET http://api.nbp.pl/api/exchangerates/tables/c
2023-11-11 20:25:35.650 +01:00 [INF] Received HTTP response headers after 123.4818ms - 200
2023-11-11 20:25:35.655 +01:00 [INF] End processing HTTP request after 139.2494ms - 200
2023-11-11 20:25:36.863 +01:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Ask], [c].[Bid], [c].[Code], [c].[CratedBy], [c].[CreatedTime], [c].[CurrencyName], [c].[DeletedBy], [c].[DeletedTime], [c].[IsDeleted], [c].[ModifiedBy], [c].[ModifiedTime], [c].[TradingDate]
FROM [Currencies] AS [c]
2023-11-11 20:26:07.881 +01:00 [INF] User profile is available. Using 'C:\Users\maste\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-11-11 20:26:08.032 +01:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2023-11-11 20:26:08.034 +01:00 [INF] Quartz Scheduler created
2023-11-11 20:26:08.035 +01:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2023-11-11 20:26:08.036 +01:00 [INF] RAMJobStore initialized.
2023-11-11 20:26:08.037 +01:00 [INF] Quartz Scheduler 3.7.0.0 - 'QuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2023-11-11 20:26:08.038 +01:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2023-11-11 20:26:08.040 +01:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2023-11-11 20:26:08.050 +01:00 [INF] Adding 1 jobs, 1 triggers.
2023-11-11 20:26:08.053 +01:00 [INF] Adding job: DEFAULT.NBP
2023-11-11 20:26:08.140 +01:00 [INF] Now listening on: http://localhost:5238
2023-11-11 20:26:08.142 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-11 20:26:08.147 +01:00 [INF] Hosting environment: Development
2023-11-11 20:26:08.148 +01:00 [INF] Content root path: C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api
2023-11-11 20:26:08.151 +01:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2023-11-11 20:26:08.322 +01:00 [INF] Start processing HTTP request GET http://api.nbp.pl/api/exchangerates/tables/c
2023-11-11 20:26:08.325 +01:00 [INF] Sending HTTP request GET http://api.nbp.pl/api/exchangerates/tables/c
2023-11-11 20:26:08.446 +01:00 [INF] Received HTTP response headers after 117.5019ms - 200
2023-11-11 20:26:08.451 +01:00 [INF] End processing HTTP request after 134.459ms - 200
2023-11-11 20:26:09.682 +01:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Ask], [c].[Bid], [c].[Code], [c].[CratedBy], [c].[CreatedTime], [c].[CurrencyName], [c].[DeletedBy], [c].[DeletedTime], [c].[IsDeleted], [c].[ModifiedBy], [c].[ModifiedTime], [c].[TradingDate]
FROM [Currencies] AS [c]
2023-11-11 20:29:54.444 +01:00 [INF] User profile is available. Using 'C:\Users\maste\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-11-11 20:29:54.694 +01:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2023-11-11 20:29:54.696 +01:00 [INF] Quartz Scheduler created
2023-11-11 20:29:54.698 +01:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2023-11-11 20:29:54.699 +01:00 [INF] RAMJobStore initialized.
2023-11-11 20:29:54.701 +01:00 [INF] Quartz Scheduler 3.7.0.0 - 'QuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2023-11-11 20:29:54.702 +01:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2023-11-11 20:29:54.704 +01:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2023-11-11 20:29:54.723 +01:00 [INF] Adding 1 jobs, 1 triggers.
2023-11-11 20:29:54.727 +01:00 [INF] Adding job: DEFAULT.NBP
2023-11-11 20:29:54.837 +01:00 [INF] Now listening on: http://localhost:5238
2023-11-11 20:29:54.839 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-11 20:29:54.846 +01:00 [INF] Hosting environment: Development
2023-11-11 20:29:54.847 +01:00 [INF] Content root path: C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api
2023-11-11 20:29:54.850 +01:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2023-11-11 20:29:55.064 +01:00 [INF] Start processing HTTP request GET http://api.nbp.pl/api/exchangerates/tables/c
2023-11-11 20:29:55.067 +01:00 [INF] Sending HTTP request GET http://api.nbp.pl/api/exchangerates/tables/c
2023-11-11 20:29:55.192 +01:00 [INF] Received HTTP response headers after 121.7956ms - 200
2023-11-11 20:29:55.198 +01:00 [INF] End processing HTTP request after 137.3629ms - 200
2023-11-11 20:29:56.549 +01:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Ask], [c].[Bid], [c].[Code], [c].[CratedBy], [c].[CreatedTime], [c].[CurrencyName], [c].[DeletedBy], [c].[DeletedTime], [c].[IsDeleted], [c].[ModifiedBy], [c].[ModifiedTime], [c].[TradingDate]
FROM [Currencies] AS [c]
2023-11-11 20:30:39.021 +01:00 [ERR] Job DEFAULT.NBP threw an unhandled Exception: 
System.FormatException: Unrecognized Guid format.
   at System.Guid.GuidResult.SetFailure(Boolean overflow, String failureMessageID)
   at System.Guid.TryParseGuid(ReadOnlySpan`1 guidString, GuidResult& result)
   at System.Guid.Parse(ReadOnlySpan`1 input)
   at System.Guid.Parse(String input)
   at WalletApp.Services.CurrentUserService.get_Id()
   at WalletApp.Persistence.WalletDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\WalletDbContext.cs:line 51
   at WalletApp.Persistence.Repositories.CurrencyRepository.Save(CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\Repositories\CurrencyRepository.cs:line 49
   at WalletApp.Application.Common.Currency.Update.UpdateCurrencyCommandHandler.Handle(UpdateCurrencyCommand request, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Common\Currency\UpdateCurrency\UpdateCurrencyCommandHandler.cs:line 48
   at MediatR.Wrappers.RequestHandlerWrapperImpl`1.<>c__DisplayClass1_0.<<Handle>g__Handler|0>d.MoveNext()
--- End of stack trace from previous location ---
   at WalletApp.Application.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Behaviours\ValidationBehaviour.cs:line 17
   at WalletApp.Infrastructure.Quartz.CallToNbpApiJob.Execute(IJobExecutionContext context) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Infrastructure\Quartz\CallToNbpApiJob.cs:line 29
   at Quartz.Core.JobRunShell.Run(CancellationToken cancellationToken)
2023-11-11 20:30:39.035 +01:00 [ERR] Job DEFAULT.NBP threw an exception.
Quartz.SchedulerException: Job threw an unhandled exception.
 ---> System.FormatException: Unrecognized Guid format.
   at System.Guid.GuidResult.SetFailure(Boolean overflow, String failureMessageID)
   at System.Guid.TryParseGuid(ReadOnlySpan`1 guidString, GuidResult& result)
   at System.Guid.Parse(ReadOnlySpan`1 input)
   at System.Guid.Parse(String input)
   at WalletApp.Services.CurrentUserService.get_Id()
   at WalletApp.Persistence.WalletDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\WalletDbContext.cs:line 51
   at WalletApp.Persistence.Repositories.CurrencyRepository.Save(CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\Repositories\CurrencyRepository.cs:line 49
   at WalletApp.Application.Common.Currency.Update.UpdateCurrencyCommandHandler.Handle(UpdateCurrencyCommand request, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Common\Currency\UpdateCurrency\UpdateCurrencyCommandHandler.cs:line 48
   at MediatR.Wrappers.RequestHandlerWrapperImpl`1.<>c__DisplayClass1_0.<<Handle>g__Handler|0>d.MoveNext()
--- End of stack trace from previous location ---
   at WalletApp.Application.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Behaviours\ValidationBehaviour.cs:line 17
   at WalletApp.Infrastructure.Quartz.CallToNbpApiJob.Execute(IJobExecutionContext context) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Infrastructure\Quartz\CallToNbpApiJob.cs:line 29
   at Quartz.Core.JobRunShell.Run(CancellationToken cancellationToken)
   --- End of inner exception stack trace --- [See nested exception: System.FormatException: Unrecognized Guid format.
   at System.Guid.GuidResult.SetFailure(Boolean overflow, String failureMessageID)
   at System.Guid.TryParseGuid(ReadOnlySpan`1 guidString, GuidResult& result)
   at System.Guid.Parse(ReadOnlySpan`1 input)
   at System.Guid.Parse(String input)
   at WalletApp.Services.CurrentUserService.get_Id()
   at WalletApp.Persistence.WalletDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\WalletDbContext.cs:line 51
   at WalletApp.Persistence.Repositories.CurrencyRepository.Save(CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\Repositories\CurrencyRepository.cs:line 49
   at WalletApp.Application.Common.Currency.Update.UpdateCurrencyCommandHandler.Handle(UpdateCurrencyCommand request, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Common\Currency\UpdateCurrency\UpdateCurrencyCommandHandler.cs:line 48
   at MediatR.Wrappers.RequestHandlerWrapperImpl`1.<>c__DisplayClass1_0.<<Handle>g__Handler|0>d.MoveNext()
--- End of stack trace from previous location ---
   at WalletApp.Application.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Behaviours\ValidationBehaviour.cs:line 17
   at WalletApp.Infrastructure.Quartz.CallToNbpApiJob.Execute(IJobExecutionContext context) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Infrastructure\Quartz\CallToNbpApiJob.cs:line 29
   at Quartz.Core.JobRunShell.Run(CancellationToken cancellationToken)]
2023-11-11 20:34:23.148 +01:00 [INF] User profile is available. Using 'C:\Users\maste\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-11-11 20:34:23.310 +01:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2023-11-11 20:34:23.311 +01:00 [INF] Quartz Scheduler created
2023-11-11 20:34:23.313 +01:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2023-11-11 20:34:23.314 +01:00 [INF] RAMJobStore initialized.
2023-11-11 20:34:23.316 +01:00 [INF] Quartz Scheduler 3.7.0.0 - 'QuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2023-11-11 20:34:23.317 +01:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2023-11-11 20:34:23.319 +01:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2023-11-11 20:34:23.329 +01:00 [INF] Adding 1 jobs, 1 triggers.
2023-11-11 20:34:23.333 +01:00 [INF] Adding job: DEFAULT.NBP
2023-11-11 20:34:23.424 +01:00 [INF] Now listening on: http://localhost:5238
2023-11-11 20:34:23.426 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-11 20:34:23.431 +01:00 [INF] Hosting environment: Development
2023-11-11 20:34:23.432 +01:00 [INF] Content root path: C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api
2023-11-11 20:34:23.435 +01:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2023-11-11 20:34:23.618 +01:00 [INF] Start processing HTTP request GET http://api.nbp.pl/api/exchangerates/tables/c
2023-11-11 20:34:23.621 +01:00 [INF] Sending HTTP request GET http://api.nbp.pl/api/exchangerates/tables/c
2023-11-11 20:34:23.743 +01:00 [INF] Received HTTP response headers after 119.1699ms - 200
2023-11-11 20:34:23.748 +01:00 [INF] End processing HTTP request after 133.932ms - 200
2023-11-11 20:34:25.156 +01:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Ask], [c].[Bid], [c].[Code], [c].[CratedBy], [c].[CreatedTime], [c].[CurrencyName], [c].[DeletedBy], [c].[DeletedTime], [c].[IsDeleted], [c].[ModifiedBy], [c].[ModifiedTime], [c].[TradingDate]
FROM [Currencies] AS [c]
2023-11-11 20:35:22.879 +01:00 [INF] User profile is available. Using 'C:\Users\maste\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-11-11 20:35:23.039 +01:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2023-11-11 20:35:23.040 +01:00 [INF] Quartz Scheduler created
2023-11-11 20:35:23.042 +01:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2023-11-11 20:35:23.044 +01:00 [INF] RAMJobStore initialized.
2023-11-11 20:35:23.045 +01:00 [INF] Quartz Scheduler 3.7.0.0 - 'QuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2023-11-11 20:35:23.047 +01:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2023-11-11 20:35:23.048 +01:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2023-11-11 20:35:23.058 +01:00 [INF] Adding 1 jobs, 1 triggers.
2023-11-11 20:35:23.062 +01:00 [INF] Adding job: DEFAULT.NBP
2023-11-11 20:35:23.151 +01:00 [INF] Now listening on: http://localhost:5238
2023-11-11 20:35:23.153 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-11 20:35:23.159 +01:00 [INF] Hosting environment: Development
2023-11-11 20:35:23.160 +01:00 [INF] Content root path: C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api
2023-11-11 20:35:23.161 +01:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2023-11-11 20:35:23.350 +01:00 [INF] Start processing HTTP request GET http://api.nbp.pl/api/exchangerates/tables/c
2023-11-11 20:35:23.353 +01:00 [INF] Sending HTTP request GET http://api.nbp.pl/api/exchangerates/tables/c
2023-11-11 20:35:23.475 +01:00 [INF] Received HTTP response headers after 117.9887ms - 200
2023-11-11 20:35:23.480 +01:00 [INF] End processing HTTP request after 135.5067ms - 200
2023-11-11 20:35:24.867 +01:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Ask], [c].[Bid], [c].[Code], [c].[CratedBy], [c].[CreatedTime], [c].[CurrencyName], [c].[DeletedBy], [c].[DeletedTime], [c].[IsDeleted], [c].[ModifiedBy], [c].[ModifiedTime], [c].[TradingDate]
FROM [Currencies] AS [c]
2023-11-11 20:35:30.971 +01:00 [ERR] Job DEFAULT.NBP threw an unhandled Exception: 
System.FormatException: Unrecognized Guid format.
   at System.Guid.GuidResult.SetFailure(Boolean overflow, String failureMessageID)
   at System.Guid.TryParseGuid(ReadOnlySpan`1 guidString, GuidResult& result)
   at System.Guid.Parse(ReadOnlySpan`1 input)
   at System.Guid.Parse(String input)
   at WalletApp.Services.CurrentUserService.get_Id() in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api\Services\CurrentUserService.cs:line 15
   at WalletApp.Persistence.WalletDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\WalletDbContext.cs:line 51
   at WalletApp.Persistence.Repositories.CurrencyRepository.Save(CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\Repositories\CurrencyRepository.cs:line 49
   at WalletApp.Application.Common.Currency.Update.UpdateCurrencyCommandHandler.Handle(UpdateCurrencyCommand request, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Common\Currency\UpdateCurrency\UpdateCurrencyCommandHandler.cs:line 48
   at MediatR.Wrappers.RequestHandlerWrapperImpl`1.<>c__DisplayClass1_0.<<Handle>g__Handler|0>d.MoveNext()
--- End of stack trace from previous location ---
   at WalletApp.Application.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Behaviours\ValidationBehaviour.cs:line 17
   at WalletApp.Infrastructure.Quartz.CallToNbpApiJob.Execute(IJobExecutionContext context) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Infrastructure\Quartz\CallToNbpApiJob.cs:line 29
   at Quartz.Core.JobRunShell.Run(CancellationToken cancellationToken)
2023-11-11 20:35:30.985 +01:00 [ERR] Job DEFAULT.NBP threw an exception.
Quartz.SchedulerException: Job threw an unhandled exception.
 ---> System.FormatException: Unrecognized Guid format.
   at System.Guid.GuidResult.SetFailure(Boolean overflow, String failureMessageID)
   at System.Guid.TryParseGuid(ReadOnlySpan`1 guidString, GuidResult& result)
   at System.Guid.Parse(ReadOnlySpan`1 input)
   at System.Guid.Parse(String input)
   at WalletApp.Services.CurrentUserService.get_Id() in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api\Services\CurrentUserService.cs:line 15
   at WalletApp.Persistence.WalletDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\WalletDbContext.cs:line 51
   at WalletApp.Persistence.Repositories.CurrencyRepository.Save(CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\Repositories\CurrencyRepository.cs:line 49
   at WalletApp.Application.Common.Currency.Update.UpdateCurrencyCommandHandler.Handle(UpdateCurrencyCommand request, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Common\Currency\UpdateCurrency\UpdateCurrencyCommandHandler.cs:line 48
   at MediatR.Wrappers.RequestHandlerWrapperImpl`1.<>c__DisplayClass1_0.<<Handle>g__Handler|0>d.MoveNext()
--- End of stack trace from previous location ---
   at WalletApp.Application.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Behaviours\ValidationBehaviour.cs:line 17
   at WalletApp.Infrastructure.Quartz.CallToNbpApiJob.Execute(IJobExecutionContext context) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Infrastructure\Quartz\CallToNbpApiJob.cs:line 29
   at Quartz.Core.JobRunShell.Run(CancellationToken cancellationToken)
   --- End of inner exception stack trace --- [See nested exception: System.FormatException: Unrecognized Guid format.
   at System.Guid.GuidResult.SetFailure(Boolean overflow, String failureMessageID)
   at System.Guid.TryParseGuid(ReadOnlySpan`1 guidString, GuidResult& result)
   at System.Guid.Parse(ReadOnlySpan`1 input)
   at System.Guid.Parse(String input)
   at WalletApp.Services.CurrentUserService.get_Id() in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api\Services\CurrentUserService.cs:line 15
   at WalletApp.Persistence.WalletDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\WalletDbContext.cs:line 51
   at WalletApp.Persistence.Repositories.CurrencyRepository.Save(CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\Repositories\CurrencyRepository.cs:line 49
   at WalletApp.Application.Common.Currency.Update.UpdateCurrencyCommandHandler.Handle(UpdateCurrencyCommand request, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Common\Currency\UpdateCurrency\UpdateCurrencyCommandHandler.cs:line 48
   at MediatR.Wrappers.RequestHandlerWrapperImpl`1.<>c__DisplayClass1_0.<<Handle>g__Handler|0>d.MoveNext()
--- End of stack trace from previous location ---
   at WalletApp.Application.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Behaviours\ValidationBehaviour.cs:line 17
   at WalletApp.Infrastructure.Quartz.CallToNbpApiJob.Execute(IJobExecutionContext context) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Infrastructure\Quartz\CallToNbpApiJob.cs:line 29
   at Quartz.Core.JobRunShell.Run(CancellationToken cancellationToken)]
2023-11-11 20:37:54.432 +01:00 [INF] User profile is available. Using 'C:\Users\maste\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-11-11 20:37:54.588 +01:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2023-11-11 20:37:54.595 +01:00 [INF] Quartz Scheduler created
2023-11-11 20:37:54.596 +01:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2023-11-11 20:37:54.598 +01:00 [INF] RAMJobStore initialized.
2023-11-11 20:37:54.599 +01:00 [INF] Quartz Scheduler 3.7.0.0 - 'QuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2023-11-11 20:37:54.600 +01:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2023-11-11 20:37:54.601 +01:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2023-11-11 20:37:54.616 +01:00 [INF] Adding 1 jobs, 1 triggers.
2023-11-11 20:37:54.620 +01:00 [INF] Adding job: DEFAULT.NBP
2023-11-11 20:37:54.720 +01:00 [INF] Now listening on: http://localhost:5238
2023-11-11 20:37:54.722 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-11 20:37:54.728 +01:00 [INF] Hosting environment: Development
2023-11-11 20:37:54.729 +01:00 [INF] Content root path: C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api
2023-11-11 20:37:54.732 +01:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2023-11-11 20:37:54.936 +01:00 [INF] Start processing HTTP request GET http://api.nbp.pl/api/exchangerates/tables/c
2023-11-11 20:37:54.939 +01:00 [INF] Sending HTTP request GET http://api.nbp.pl/api/exchangerates/tables/c
2023-11-11 20:37:55.072 +01:00 [INF] Received HTTP response headers after 127.5427ms - 200
2023-11-11 20:37:55.078 +01:00 [INF] End processing HTTP request after 146.6722ms - 200
2023-11-11 20:37:56.394 +01:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Ask], [c].[Bid], [c].[Code], [c].[CratedBy], [c].[CreatedTime], [c].[CurrencyName], [c].[DeletedBy], [c].[DeletedTime], [c].[IsDeleted], [c].[ModifiedBy], [c].[ModifiedTime], [c].[TradingDate]
FROM [Currencies] AS [c]
2023-11-11 20:37:56.663 +01:00 [ERR] Job DEFAULT.NBP threw an unhandled Exception: 
System.FormatException: Unrecognized Guid format.
   at System.Guid.GuidResult.SetFailure(Boolean overflow, String failureMessageID)
   at System.Guid.TryParseGuid(ReadOnlySpan`1 guidString, GuidResult& result)
   at System.Guid.Parse(ReadOnlySpan`1 input)
   at System.Guid.Parse(String input)
   at WalletApp.Services.CurrentUserService.get_Id() in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api\Services\CurrentUserService.cs:line 15
   at WalletApp.Persistence.WalletDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\WalletDbContext.cs:line 51
   at WalletApp.Persistence.Repositories.CurrencyRepository.Save(CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\Repositories\CurrencyRepository.cs:line 49
   at WalletApp.Application.Common.Currency.Update.UpdateCurrencyCommandHandler.Handle(UpdateCurrencyCommand request, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Common\Currency\UpdateCurrency\UpdateCurrencyCommandHandler.cs:line 48
   at MediatR.Wrappers.RequestHandlerWrapperImpl`1.<>c__DisplayClass1_0.<<Handle>g__Handler|0>d.MoveNext()
--- End of stack trace from previous location ---
   at WalletApp.Application.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Behaviours\ValidationBehaviour.cs:line 17
   at WalletApp.Infrastructure.Quartz.CallToNbpApiJob.Execute(IJobExecutionContext context) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Infrastructure\Quartz\CallToNbpApiJob.cs:line 29
   at Quartz.Core.JobRunShell.Run(CancellationToken cancellationToken)
2023-11-11 20:37:56.677 +01:00 [ERR] Job DEFAULT.NBP threw an exception.
Quartz.SchedulerException: Job threw an unhandled exception.
 ---> System.FormatException: Unrecognized Guid format.
   at System.Guid.GuidResult.SetFailure(Boolean overflow, String failureMessageID)
   at System.Guid.TryParseGuid(ReadOnlySpan`1 guidString, GuidResult& result)
   at System.Guid.Parse(ReadOnlySpan`1 input)
   at System.Guid.Parse(String input)
   at WalletApp.Services.CurrentUserService.get_Id() in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api\Services\CurrentUserService.cs:line 15
   at WalletApp.Persistence.WalletDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\WalletDbContext.cs:line 51
   at WalletApp.Persistence.Repositories.CurrencyRepository.Save(CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\Repositories\CurrencyRepository.cs:line 49
   at WalletApp.Application.Common.Currency.Update.UpdateCurrencyCommandHandler.Handle(UpdateCurrencyCommand request, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Common\Currency\UpdateCurrency\UpdateCurrencyCommandHandler.cs:line 48
   at MediatR.Wrappers.RequestHandlerWrapperImpl`1.<>c__DisplayClass1_0.<<Handle>g__Handler|0>d.MoveNext()
--- End of stack trace from previous location ---
   at WalletApp.Application.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Behaviours\ValidationBehaviour.cs:line 17
   at WalletApp.Infrastructure.Quartz.CallToNbpApiJob.Execute(IJobExecutionContext context) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Infrastructure\Quartz\CallToNbpApiJob.cs:line 29
   at Quartz.Core.JobRunShell.Run(CancellationToken cancellationToken)
   --- End of inner exception stack trace --- [See nested exception: System.FormatException: Unrecognized Guid format.
   at System.Guid.GuidResult.SetFailure(Boolean overflow, String failureMessageID)
   at System.Guid.TryParseGuid(ReadOnlySpan`1 guidString, GuidResult& result)
   at System.Guid.Parse(ReadOnlySpan`1 input)
   at System.Guid.Parse(String input)
   at WalletApp.Services.CurrentUserService.get_Id() in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api\Services\CurrentUserService.cs:line 15
   at WalletApp.Persistence.WalletDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\WalletDbContext.cs:line 51
   at WalletApp.Persistence.Repositories.CurrencyRepository.Save(CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\Repositories\CurrencyRepository.cs:line 49
   at WalletApp.Application.Common.Currency.Update.UpdateCurrencyCommandHandler.Handle(UpdateCurrencyCommand request, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Common\Currency\UpdateCurrency\UpdateCurrencyCommandHandler.cs:line 48
   at MediatR.Wrappers.RequestHandlerWrapperImpl`1.<>c__DisplayClass1_0.<<Handle>g__Handler|0>d.MoveNext()
--- End of stack trace from previous location ---
   at WalletApp.Application.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Behaviours\ValidationBehaviour.cs:line 17
   at WalletApp.Infrastructure.Quartz.CallToNbpApiJob.Execute(IJobExecutionContext context) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Infrastructure\Quartz\CallToNbpApiJob.cs:line 29
   at Quartz.Core.JobRunShell.Run(CancellationToken cancellationToken)]
2023-11-11 20:38:54.212 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5238/api/account/authenticate application/json 67
2023-11-11 20:38:54.260 +01:00 [WRN] Failed to determine the https port for redirect.
2023-11-11 20:38:54.316 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.AccountController.Authentication (WalletApp.Api)'
2023-11-11 20:38:54.334 +01:00 [INF] Route matched with {action = "Authentication", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult`1[WalletApp.Application.Account.Authenticate.AuthenticateResponseDto]]] Authentication(WalletApp.Application.Account.Authenticate.AuthenticateDto, System.Threading.CancellationToken) on controller WalletApp.Controllers.AccountController (WalletApp.Api).
2023-11-11 20:38:54.342 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-11-11 20:38:54.344 +01:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2023-11-11 20:38:54.347 +01:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2023-11-11 20:38:54.356 +01:00 [INF] Executed action WalletApp.Controllers.AccountController.Authentication (WalletApp.Api) in 17.3769ms
2023-11-11 20:38:54.359 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.AccountController.Authentication (WalletApp.Api)'
2023-11-11 20:38:54.362 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No authenticationScheme was specified, and there was no DefaultChallengeScheme found. The default schemes can be set using either AddAuthentication(string defaultScheme) or AddAuthentication(Action<AuthenticationOptions> configureOptions).
   at Microsoft.AspNetCore.Authentication.AuthenticationService.ChallengeAsync(HttpContext context, String scheme, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Mvc.ChallengeResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeAlwaysRunResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-11-11 20:38:54.377 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5238/api/account/authenticate application/json 67 - 500 - text/plain;+charset=utf-8 166.3080ms
2023-11-11 20:39:45.840 +01:00 [INF] User profile is available. Using 'C:\Users\maste\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-11-11 20:39:45.989 +01:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2023-11-11 20:39:45.990 +01:00 [INF] Quartz Scheduler created
2023-11-11 20:39:45.992 +01:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2023-11-11 20:39:45.994 +01:00 [INF] RAMJobStore initialized.
2023-11-11 20:39:45.995 +01:00 [INF] Quartz Scheduler 3.7.0.0 - 'QuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2023-11-11 20:39:45.996 +01:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2023-11-11 20:39:45.997 +01:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2023-11-11 20:39:46.008 +01:00 [INF] Adding 1 jobs, 1 triggers.
2023-11-11 20:39:46.012 +01:00 [INF] Adding job: DEFAULT.NBP
2023-11-11 20:39:46.105 +01:00 [INF] Now listening on: http://localhost:5238
2023-11-11 20:39:46.107 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-11 20:39:46.112 +01:00 [INF] Hosting environment: Development
2023-11-11 20:39:46.114 +01:00 [INF] Content root path: C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api
2023-11-11 20:39:46.117 +01:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2023-11-11 20:39:46.299 +01:00 [INF] Start processing HTTP request GET http://api.nbp.pl/api/exchangerates/tables/c
2023-11-11 20:39:46.303 +01:00 [INF] Sending HTTP request GET http://api.nbp.pl/api/exchangerates/tables/c
2023-11-11 20:39:46.432 +01:00 [INF] Received HTTP response headers after 125.3131ms - 200
2023-11-11 20:39:46.436 +01:00 [INF] End processing HTTP request after 142.2617ms - 200
2023-11-11 20:39:47.771 +01:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Ask], [c].[Bid], [c].[Code], [c].[CratedBy], [c].[CreatedTime], [c].[CurrencyName], [c].[DeletedBy], [c].[DeletedTime], [c].[IsDeleted], [c].[ModifiedBy], [c].[ModifiedTime], [c].[TradingDate]
FROM [Currencies] AS [c]
2023-11-11 20:39:48.024 +01:00 [ERR] Job DEFAULT.NBP threw an unhandled Exception: 
System.FormatException: Unrecognized Guid format.
   at System.Guid.GuidResult.SetFailure(Boolean overflow, String failureMessageID)
   at System.Guid.TryParseGuid(ReadOnlySpan`1 guidString, GuidResult& result)
   at System.Guid.Parse(ReadOnlySpan`1 input)
   at System.Guid.Parse(String input)
   at WalletApp.Services.CurrentUserService.get_Id() in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api\Services\CurrentUserService.cs:line 15
   at WalletApp.Persistence.WalletDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\WalletDbContext.cs:line 51
   at WalletApp.Persistence.Repositories.CurrencyRepository.Save(CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\Repositories\CurrencyRepository.cs:line 49
   at WalletApp.Application.Common.Currency.Update.UpdateCurrencyCommandHandler.Handle(UpdateCurrencyCommand request, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Common\Currency\UpdateCurrency\UpdateCurrencyCommandHandler.cs:line 48
   at MediatR.Wrappers.RequestHandlerWrapperImpl`1.<>c__DisplayClass1_0.<<Handle>g__Handler|0>d.MoveNext()
--- End of stack trace from previous location ---
   at WalletApp.Application.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Behaviours\ValidationBehaviour.cs:line 17
   at WalletApp.Infrastructure.Quartz.CallToNbpApiJob.Execute(IJobExecutionContext context) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Infrastructure\Quartz\CallToNbpApiJob.cs:line 29
   at Quartz.Core.JobRunShell.Run(CancellationToken cancellationToken)
2023-11-11 20:39:48.035 +01:00 [ERR] Job DEFAULT.NBP threw an exception.
Quartz.SchedulerException: Job threw an unhandled exception.
 ---> System.FormatException: Unrecognized Guid format.
   at System.Guid.GuidResult.SetFailure(Boolean overflow, String failureMessageID)
   at System.Guid.TryParseGuid(ReadOnlySpan`1 guidString, GuidResult& result)
   at System.Guid.Parse(ReadOnlySpan`1 input)
   at System.Guid.Parse(String input)
   at WalletApp.Services.CurrentUserService.get_Id() in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api\Services\CurrentUserService.cs:line 15
   at WalletApp.Persistence.WalletDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\WalletDbContext.cs:line 51
   at WalletApp.Persistence.Repositories.CurrencyRepository.Save(CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\Repositories\CurrencyRepository.cs:line 49
   at WalletApp.Application.Common.Currency.Update.UpdateCurrencyCommandHandler.Handle(UpdateCurrencyCommand request, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Common\Currency\UpdateCurrency\UpdateCurrencyCommandHandler.cs:line 48
   at MediatR.Wrappers.RequestHandlerWrapperImpl`1.<>c__DisplayClass1_0.<<Handle>g__Handler|0>d.MoveNext()
--- End of stack trace from previous location ---
   at WalletApp.Application.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Behaviours\ValidationBehaviour.cs:line 17
   at WalletApp.Infrastructure.Quartz.CallToNbpApiJob.Execute(IJobExecutionContext context) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Infrastructure\Quartz\CallToNbpApiJob.cs:line 29
   at Quartz.Core.JobRunShell.Run(CancellationToken cancellationToken)
   --- End of inner exception stack trace --- [See nested exception: System.FormatException: Unrecognized Guid format.
   at System.Guid.GuidResult.SetFailure(Boolean overflow, String failureMessageID)
   at System.Guid.TryParseGuid(ReadOnlySpan`1 guidString, GuidResult& result)
   at System.Guid.Parse(ReadOnlySpan`1 input)
   at System.Guid.Parse(String input)
   at WalletApp.Services.CurrentUserService.get_Id() in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api\Services\CurrentUserService.cs:line 15
   at WalletApp.Persistence.WalletDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\WalletDbContext.cs:line 51
   at WalletApp.Persistence.Repositories.CurrencyRepository.Save(CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\Repositories\CurrencyRepository.cs:line 49
   at WalletApp.Application.Common.Currency.Update.UpdateCurrencyCommandHandler.Handle(UpdateCurrencyCommand request, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Common\Currency\UpdateCurrency\UpdateCurrencyCommandHandler.cs:line 48
   at MediatR.Wrappers.RequestHandlerWrapperImpl`1.<>c__DisplayClass1_0.<<Handle>g__Handler|0>d.MoveNext()
--- End of stack trace from previous location ---
   at WalletApp.Application.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Behaviours\ValidationBehaviour.cs:line 17
   at WalletApp.Infrastructure.Quartz.CallToNbpApiJob.Execute(IJobExecutionContext context) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Infrastructure\Quartz\CallToNbpApiJob.cs:line 29
   at Quartz.Core.JobRunShell.Run(CancellationToken cancellationToken)]
2023-11-11 20:39:53.076 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5238/api/account/authenticate application/json 67
2023-11-11 20:39:53.128 +01:00 [WRN] Failed to determine the https port for redirect.
2023-11-11 20:39:53.192 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.AccountController.Authentication (WalletApp.Api)'
2023-11-11 20:39:53.215 +01:00 [INF] Route matched with {action = "Authentication", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult`1[WalletApp.Application.Account.Authenticate.AuthenticateResponseDto]]] Authentication(WalletApp.Application.Account.Authenticate.AuthenticateDto, System.Threading.CancellationToken) on controller WalletApp.Controllers.AccountController (WalletApp.Api).
2023-11-11 20:46:25.738 +01:00 [INF] User profile is available. Using 'C:\Users\maste\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-11-11 20:46:25.883 +01:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2023-11-11 20:46:25.884 +01:00 [INF] Quartz Scheduler created
2023-11-11 20:46:25.885 +01:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2023-11-11 20:46:25.886 +01:00 [INF] RAMJobStore initialized.
2023-11-11 20:46:25.887 +01:00 [INF] Quartz Scheduler 3.7.0.0 - 'QuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2023-11-11 20:46:25.888 +01:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2023-11-11 20:46:25.889 +01:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2023-11-11 20:46:25.899 +01:00 [INF] Adding 1 jobs, 1 triggers.
2023-11-11 20:46:25.903 +01:00 [INF] Adding job: DEFAULT.NBP
2023-11-11 20:46:25.984 +01:00 [INF] Now listening on: http://localhost:5238
2023-11-11 20:46:25.985 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-11 20:46:25.990 +01:00 [INF] Hosting environment: Development
2023-11-11 20:46:25.991 +01:00 [INF] Content root path: C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api
2023-11-11 20:46:25.994 +01:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2023-11-11 20:46:26.175 +01:00 [INF] Start processing HTTP request GET http://api.nbp.pl/api/exchangerates/tables/c
2023-11-11 20:46:26.178 +01:00 [INF] Sending HTTP request GET http://api.nbp.pl/api/exchangerates/tables/c
2023-11-11 20:46:26.329 +01:00 [INF] Received HTTP response headers after 146.4097ms - 200
2023-11-11 20:46:26.334 +01:00 [INF] End processing HTTP request after 163.8988ms - 200
2023-11-11 20:46:27.627 +01:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Ask], [c].[Bid], [c].[Code], [c].[CratedBy], [c].[CreatedTime], [c].[CurrencyName], [c].[DeletedBy], [c].[DeletedTime], [c].[IsDeleted], [c].[ModifiedBy], [c].[ModifiedTime], [c].[TradingDate]
FROM [Currencies] AS [c]
2023-11-11 20:46:27.877 +01:00 [ERR] Job DEFAULT.NBP threw an unhandled Exception: 
System.FormatException: Unrecognized Guid format.
   at System.Guid.GuidResult.SetFailure(Boolean overflow, String failureMessageID)
   at System.Guid.TryParseGuid(ReadOnlySpan`1 guidString, GuidResult& result)
   at System.Guid.Parse(ReadOnlySpan`1 input)
   at System.Guid.Parse(String input)
   at WalletApp.Services.CurrentUserService.get_Id() in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api\Services\CurrentUserService.cs:line 15
   at WalletApp.Persistence.WalletDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\WalletDbContext.cs:line 51
   at WalletApp.Persistence.Repositories.CurrencyRepository.Save(CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\Repositories\CurrencyRepository.cs:line 49
   at WalletApp.Application.Common.Currency.Update.UpdateCurrencyCommandHandler.Handle(UpdateCurrencyCommand request, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Common\Currency\UpdateCurrency\UpdateCurrencyCommandHandler.cs:line 48
   at MediatR.Wrappers.RequestHandlerWrapperImpl`1.<>c__DisplayClass1_0.<<Handle>g__Handler|0>d.MoveNext()
--- End of stack trace from previous location ---
   at WalletApp.Application.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Behaviours\ValidationBehaviour.cs:line 17
   at WalletApp.Infrastructure.Quartz.CallToNbpApiJob.Execute(IJobExecutionContext context) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Infrastructure\Quartz\CallToNbpApiJob.cs:line 29
   at Quartz.Core.JobRunShell.Run(CancellationToken cancellationToken)
2023-11-11 20:46:27.891 +01:00 [ERR] Job DEFAULT.NBP threw an exception.
Quartz.SchedulerException: Job threw an unhandled exception.
 ---> System.FormatException: Unrecognized Guid format.
   at System.Guid.GuidResult.SetFailure(Boolean overflow, String failureMessageID)
   at System.Guid.TryParseGuid(ReadOnlySpan`1 guidString, GuidResult& result)
   at System.Guid.Parse(ReadOnlySpan`1 input)
   at System.Guid.Parse(String input)
   at WalletApp.Services.CurrentUserService.get_Id() in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api\Services\CurrentUserService.cs:line 15
   at WalletApp.Persistence.WalletDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\WalletDbContext.cs:line 51
   at WalletApp.Persistence.Repositories.CurrencyRepository.Save(CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\Repositories\CurrencyRepository.cs:line 49
   at WalletApp.Application.Common.Currency.Update.UpdateCurrencyCommandHandler.Handle(UpdateCurrencyCommand request, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Common\Currency\UpdateCurrency\UpdateCurrencyCommandHandler.cs:line 48
   at MediatR.Wrappers.RequestHandlerWrapperImpl`1.<>c__DisplayClass1_0.<<Handle>g__Handler|0>d.MoveNext()
--- End of stack trace from previous location ---
   at WalletApp.Application.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Behaviours\ValidationBehaviour.cs:line 17
   at WalletApp.Infrastructure.Quartz.CallToNbpApiJob.Execute(IJobExecutionContext context) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Infrastructure\Quartz\CallToNbpApiJob.cs:line 29
   at Quartz.Core.JobRunShell.Run(CancellationToken cancellationToken)
   --- End of inner exception stack trace --- [See nested exception: System.FormatException: Unrecognized Guid format.
   at System.Guid.GuidResult.SetFailure(Boolean overflow, String failureMessageID)
   at System.Guid.TryParseGuid(ReadOnlySpan`1 guidString, GuidResult& result)
   at System.Guid.Parse(ReadOnlySpan`1 input)
   at System.Guid.Parse(String input)
   at WalletApp.Services.CurrentUserService.get_Id() in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api\Services\CurrentUserService.cs:line 15
   at WalletApp.Persistence.WalletDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\WalletDbContext.cs:line 51
   at WalletApp.Persistence.Repositories.CurrencyRepository.Save(CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\Repositories\CurrencyRepository.cs:line 49
   at WalletApp.Application.Common.Currency.Update.UpdateCurrencyCommandHandler.Handle(UpdateCurrencyCommand request, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Common\Currency\UpdateCurrency\UpdateCurrencyCommandHandler.cs:line 48
   at MediatR.Wrappers.RequestHandlerWrapperImpl`1.<>c__DisplayClass1_0.<<Handle>g__Handler|0>d.MoveNext()
--- End of stack trace from previous location ---
   at WalletApp.Application.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Behaviours\ValidationBehaviour.cs:line 17
   at WalletApp.Infrastructure.Quartz.CallToNbpApiJob.Execute(IJobExecutionContext context) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Infrastructure\Quartz\CallToNbpApiJob.cs:line 29
   at Quartz.Core.JobRunShell.Run(CancellationToken cancellationToken)]
2023-11-11 20:46:35.150 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5238/api/account/authenticate application/json 67
2023-11-11 20:46:35.207 +01:00 [WRN] Failed to determine the https port for redirect.
2023-11-11 20:46:35.256 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.AccountController.Authentication (WalletApp.Api)'
2023-11-11 20:46:35.272 +01:00 [INF] Route matched with {action = "Authentication", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult`1[WalletApp.Application.Account.Authenticate.AuthenticateResponseDto]]] Authentication(WalletApp.Application.Account.Authenticate.AuthenticateDto, System.Threading.CancellationToken) on controller WalletApp.Controllers.AccountController (WalletApp.Api).
2023-11-11 20:49:08.966 +01:00 [INF] User profile is available. Using 'C:\Users\maste\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-11-11 20:49:09.106 +01:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2023-11-11 20:49:09.107 +01:00 [INF] Quartz Scheduler created
2023-11-11 20:49:09.109 +01:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2023-11-11 20:49:09.109 +01:00 [INF] RAMJobStore initialized.
2023-11-11 20:49:09.110 +01:00 [INF] Quartz Scheduler 3.7.0.0 - 'QuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2023-11-11 20:49:09.111 +01:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2023-11-11 20:49:09.112 +01:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2023-11-11 20:49:09.121 +01:00 [INF] Adding 1 jobs, 1 triggers.
2023-11-11 20:49:09.124 +01:00 [INF] Adding job: DEFAULT.NBP
2023-11-11 20:49:09.208 +01:00 [INF] Now listening on: http://localhost:5238
2023-11-11 20:49:09.212 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-11 20:49:09.216 +01:00 [INF] Hosting environment: Development
2023-11-11 20:49:09.217 +01:00 [INF] Content root path: C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api
2023-11-11 20:49:09.218 +01:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2023-11-11 20:49:09.380 +01:00 [INF] Start processing HTTP request GET http://api.nbp.pl/api/exchangerates/tables/c
2023-11-11 20:49:09.382 +01:00 [INF] Sending HTTP request GET http://api.nbp.pl/api/exchangerates/tables/c
2023-11-11 20:49:09.499 +01:00 [INF] Received HTTP response headers after 113.6845ms - 200
2023-11-11 20:49:09.503 +01:00 [INF] End processing HTTP request after 127.6717ms - 200
2023-11-11 20:49:10.713 +01:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Ask], [c].[Bid], [c].[Code], [c].[CratedBy], [c].[CreatedTime], [c].[CurrencyName], [c].[DeletedBy], [c].[DeletedTime], [c].[IsDeleted], [c].[ModifiedBy], [c].[ModifiedTime], [c].[TradingDate]
FROM [Currencies] AS [c]
2023-11-11 20:49:10.963 +01:00 [ERR] Job DEFAULT.NBP threw an unhandled Exception: 
System.FormatException: Unrecognized Guid format.
   at System.Guid.GuidResult.SetFailure(Boolean overflow, String failureMessageID)
   at System.Guid.TryParseGuid(ReadOnlySpan`1 guidString, GuidResult& result)
   at System.Guid.Parse(ReadOnlySpan`1 input)
   at System.Guid.Parse(String input)
   at WalletApp.Services.CurrentUserService.get_Id() in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api\Services\CurrentUserService.cs:line 15
   at WalletApp.Persistence.WalletDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\WalletDbContext.cs:line 51
   at WalletApp.Persistence.Repositories.CurrencyRepository.Save(CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\Repositories\CurrencyRepository.cs:line 49
   at WalletApp.Application.Common.Currency.Update.UpdateCurrencyCommandHandler.Handle(UpdateCurrencyCommand request, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Common\Currency\UpdateCurrency\UpdateCurrencyCommandHandler.cs:line 48
   at MediatR.Wrappers.RequestHandlerWrapperImpl`1.<>c__DisplayClass1_0.<<Handle>g__Handler|0>d.MoveNext()
--- End of stack trace from previous location ---
   at WalletApp.Application.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Behaviours\ValidationBehaviour.cs:line 17
   at WalletApp.Infrastructure.Quartz.CallToNbpApiJob.Execute(IJobExecutionContext context) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Infrastructure\Quartz\CallToNbpApiJob.cs:line 29
   at Quartz.Core.JobRunShell.Run(CancellationToken cancellationToken)
2023-11-11 20:49:10.978 +01:00 [ERR] Job DEFAULT.NBP threw an exception.
Quartz.SchedulerException: Job threw an unhandled exception.
 ---> System.FormatException: Unrecognized Guid format.
   at System.Guid.GuidResult.SetFailure(Boolean overflow, String failureMessageID)
   at System.Guid.TryParseGuid(ReadOnlySpan`1 guidString, GuidResult& result)
   at System.Guid.Parse(ReadOnlySpan`1 input)
   at System.Guid.Parse(String input)
   at WalletApp.Services.CurrentUserService.get_Id() in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api\Services\CurrentUserService.cs:line 15
   at WalletApp.Persistence.WalletDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\WalletDbContext.cs:line 51
   at WalletApp.Persistence.Repositories.CurrencyRepository.Save(CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\Repositories\CurrencyRepository.cs:line 49
   at WalletApp.Application.Common.Currency.Update.UpdateCurrencyCommandHandler.Handle(UpdateCurrencyCommand request, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Common\Currency\UpdateCurrency\UpdateCurrencyCommandHandler.cs:line 48
   at MediatR.Wrappers.RequestHandlerWrapperImpl`1.<>c__DisplayClass1_0.<<Handle>g__Handler|0>d.MoveNext()
--- End of stack trace from previous location ---
   at WalletApp.Application.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Behaviours\ValidationBehaviour.cs:line 17
   at WalletApp.Infrastructure.Quartz.CallToNbpApiJob.Execute(IJobExecutionContext context) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Infrastructure\Quartz\CallToNbpApiJob.cs:line 29
   at Quartz.Core.JobRunShell.Run(CancellationToken cancellationToken)
   --- End of inner exception stack trace --- [See nested exception: System.FormatException: Unrecognized Guid format.
   at System.Guid.GuidResult.SetFailure(Boolean overflow, String failureMessageID)
   at System.Guid.TryParseGuid(ReadOnlySpan`1 guidString, GuidResult& result)
   at System.Guid.Parse(ReadOnlySpan`1 input)
   at System.Guid.Parse(String input)
   at WalletApp.Services.CurrentUserService.get_Id() in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api\Services\CurrentUserService.cs:line 15
   at WalletApp.Persistence.WalletDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\WalletDbContext.cs:line 51
   at WalletApp.Persistence.Repositories.CurrencyRepository.Save(CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\Repositories\CurrencyRepository.cs:line 49
   at WalletApp.Application.Common.Currency.Update.UpdateCurrencyCommandHandler.Handle(UpdateCurrencyCommand request, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Common\Currency\UpdateCurrency\UpdateCurrencyCommandHandler.cs:line 48
   at MediatR.Wrappers.RequestHandlerWrapperImpl`1.<>c__DisplayClass1_0.<<Handle>g__Handler|0>d.MoveNext()
--- End of stack trace from previous location ---
   at WalletApp.Application.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Behaviours\ValidationBehaviour.cs:line 17
   at WalletApp.Infrastructure.Quartz.CallToNbpApiJob.Execute(IJobExecutionContext context) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Infrastructure\Quartz\CallToNbpApiJob.cs:line 29
   at Quartz.Core.JobRunShell.Run(CancellationToken cancellationToken)]
2023-11-11 20:49:20.272 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5238/api/account/authenticate application/json 67
2023-11-11 20:49:20.320 +01:00 [WRN] Failed to determine the https port for redirect.
2023-11-11 20:49:20.368 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.AccountController.Authentication (WalletApp.Api)'
2023-11-11 20:49:20.382 +01:00 [INF] Route matched with {action = "Authentication", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult`1[WalletApp.Application.Account.Authenticate.AuthenticateResponseDto]]] Authentication(WalletApp.Application.Account.Authenticate.AuthenticateDto, System.Threading.CancellationToken) on controller WalletApp.Controllers.AccountController (WalletApp.Api).
2023-11-11 20:52:12.394 +01:00 [INF] User profile is available. Using 'C:\Users\maste\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-11-11 20:52:12.555 +01:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2023-11-11 20:52:12.557 +01:00 [INF] Quartz Scheduler created
2023-11-11 20:52:12.558 +01:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2023-11-11 20:52:12.560 +01:00 [INF] RAMJobStore initialized.
2023-11-11 20:52:12.562 +01:00 [INF] Quartz Scheduler 3.7.0.0 - 'QuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2023-11-11 20:52:12.563 +01:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2023-11-11 20:52:12.565 +01:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2023-11-11 20:52:12.576 +01:00 [INF] Adding 1 jobs, 1 triggers.
2023-11-11 20:52:12.580 +01:00 [INF] Adding job: DEFAULT.NBP
2023-11-11 20:52:12.670 +01:00 [INF] Now listening on: http://localhost:5238
2023-11-11 20:52:12.671 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-11 20:52:12.677 +01:00 [INF] Hosting environment: Development
2023-11-11 20:52:12.678 +01:00 [INF] Content root path: C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api
2023-11-11 20:52:12.681 +01:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2023-11-11 20:52:12.842 +01:00 [INF] Start processing HTTP request GET http://api.nbp.pl/api/exchangerates/tables/c
2023-11-11 20:52:12.845 +01:00 [INF] Sending HTTP request GET http://api.nbp.pl/api/exchangerates/tables/c
2023-11-11 20:52:12.968 +01:00 [INF] Received HTTP response headers after 119.2648ms - 200
2023-11-11 20:52:12.973 +01:00 [INF] End processing HTTP request after 134.8084ms - 200
2023-11-11 20:52:14.302 +01:00 [INF] Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Ask], [c].[Bid], [c].[Code], [c].[CratedBy], [c].[CreatedTime], [c].[CurrencyName], [c].[DeletedBy], [c].[DeletedTime], [c].[IsDeleted], [c].[ModifiedBy], [c].[ModifiedTime], [c].[TradingDate]
FROM [Currencies] AS [c]
2023-11-11 20:52:14.566 +01:00 [ERR] Job DEFAULT.NBP threw an unhandled Exception: 
System.FormatException: Unrecognized Guid format.
   at System.Guid.GuidResult.SetFailure(Boolean overflow, String failureMessageID)
   at System.Guid.TryParseGuid(ReadOnlySpan`1 guidString, GuidResult& result)
   at System.Guid.Parse(ReadOnlySpan`1 input)
   at System.Guid.Parse(String input)
   at WalletApp.Services.CurrentUserService.get_Id() in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api\Services\CurrentUserService.cs:line 15
   at WalletApp.Persistence.WalletDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\WalletDbContext.cs:line 51
   at WalletApp.Persistence.Repositories.CurrencyRepository.Save(CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\Repositories\CurrencyRepository.cs:line 49
   at WalletApp.Application.Common.Currency.Update.UpdateCurrencyCommandHandler.Handle(UpdateCurrencyCommand request, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Common\Currency\UpdateCurrency\UpdateCurrencyCommandHandler.cs:line 48
   at MediatR.Wrappers.RequestHandlerWrapperImpl`1.<>c__DisplayClass1_0.<<Handle>g__Handler|0>d.MoveNext()
--- End of stack trace from previous location ---
   at WalletApp.Application.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Behaviours\ValidationBehaviour.cs:line 17
   at WalletApp.Infrastructure.Quartz.CallToNbpApiJob.Execute(IJobExecutionContext context) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Infrastructure\Quartz\CallToNbpApiJob.cs:line 29
   at Quartz.Core.JobRunShell.Run(CancellationToken cancellationToken)
2023-11-11 20:52:14.577 +01:00 [ERR] Job DEFAULT.NBP threw an exception.
Quartz.SchedulerException: Job threw an unhandled exception.
 ---> System.FormatException: Unrecognized Guid format.
   at System.Guid.GuidResult.SetFailure(Boolean overflow, String failureMessageID)
   at System.Guid.TryParseGuid(ReadOnlySpan`1 guidString, GuidResult& result)
   at System.Guid.Parse(ReadOnlySpan`1 input)
   at System.Guid.Parse(String input)
   at WalletApp.Services.CurrentUserService.get_Id() in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api\Services\CurrentUserService.cs:line 15
   at WalletApp.Persistence.WalletDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\WalletDbContext.cs:line 51
   at WalletApp.Persistence.Repositories.CurrencyRepository.Save(CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\Repositories\CurrencyRepository.cs:line 49
   at WalletApp.Application.Common.Currency.Update.UpdateCurrencyCommandHandler.Handle(UpdateCurrencyCommand request, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Common\Currency\UpdateCurrency\UpdateCurrencyCommandHandler.cs:line 48
   at MediatR.Wrappers.RequestHandlerWrapperImpl`1.<>c__DisplayClass1_0.<<Handle>g__Handler|0>d.MoveNext()
--- End of stack trace from previous location ---
   at WalletApp.Application.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Behaviours\ValidationBehaviour.cs:line 17
   at WalletApp.Infrastructure.Quartz.CallToNbpApiJob.Execute(IJobExecutionContext context) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Infrastructure\Quartz\CallToNbpApiJob.cs:line 29
   at Quartz.Core.JobRunShell.Run(CancellationToken cancellationToken)
   --- End of inner exception stack trace --- [See nested exception: System.FormatException: Unrecognized Guid format.
   at System.Guid.GuidResult.SetFailure(Boolean overflow, String failureMessageID)
   at System.Guid.TryParseGuid(ReadOnlySpan`1 guidString, GuidResult& result)
   at System.Guid.Parse(ReadOnlySpan`1 input)
   at System.Guid.Parse(String input)
   at WalletApp.Services.CurrentUserService.get_Id() in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api\Services\CurrentUserService.cs:line 15
   at WalletApp.Persistence.WalletDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\WalletDbContext.cs:line 51
   at WalletApp.Persistence.Repositories.CurrencyRepository.Save(CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\Repositories\CurrencyRepository.cs:line 49
   at WalletApp.Application.Common.Currency.Update.UpdateCurrencyCommandHandler.Handle(UpdateCurrencyCommand request, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Common\Currency\UpdateCurrency\UpdateCurrencyCommandHandler.cs:line 48
   at MediatR.Wrappers.RequestHandlerWrapperImpl`1.<>c__DisplayClass1_0.<<Handle>g__Handler|0>d.MoveNext()
--- End of stack trace from previous location ---
   at WalletApp.Application.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Behaviours\ValidationBehaviour.cs:line 17
   at WalletApp.Infrastructure.Quartz.CallToNbpApiJob.Execute(IJobExecutionContext context) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Infrastructure\Quartz\CallToNbpApiJob.cs:line 29
   at Quartz.Core.JobRunShell.Run(CancellationToken cancellationToken)]
2023-11-11 20:52:26.685 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5238/api/account/authenticate application/json 67
2023-11-11 20:52:26.728 +01:00 [WRN] Failed to determine the https port for redirect.
2023-11-11 20:52:26.769 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.AccountController.Authentication (WalletApp.Api)'
2023-11-11 20:52:26.781 +01:00 [INF] Route matched with {action = "Authentication", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult`1[WalletApp.Application.Account.Authenticate.AuthenticateResponseDto]]] Authentication(WalletApp.Application.Account.Authenticate.AuthenticateDto, System.Threading.CancellationToken) on controller WalletApp.Controllers.AccountController (WalletApp.Api).
2023-11-11 20:52:50.368 +01:00 [INF] User profile is available. Using 'C:\Users\maste\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-11-11 20:52:50.507 +01:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2023-11-11 20:52:50.508 +01:00 [INF] Quartz Scheduler created
2023-11-11 20:52:50.509 +01:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2023-11-11 20:52:50.510 +01:00 [INF] RAMJobStore initialized.
2023-11-11 20:52:50.511 +01:00 [INF] Quartz Scheduler 3.7.0.0 - 'QuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2023-11-11 20:52:50.512 +01:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2023-11-11 20:52:50.512 +01:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2023-11-11 20:52:50.521 +01:00 [INF] Adding 1 jobs, 1 triggers.
2023-11-11 20:52:50.526 +01:00 [INF] Adding job: DEFAULT.NBP
2023-11-11 20:52:50.605 +01:00 [INF] Now listening on: http://localhost:5238
2023-11-11 20:52:50.606 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-11 20:52:50.611 +01:00 [INF] Hosting environment: Development
2023-11-11 20:52:50.612 +01:00 [INF] Content root path: C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api
2023-11-11 20:52:50.614 +01:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2023-11-11 20:52:50.775 +01:00 [INF] Start processing HTTP request GET http://api.nbp.pl/api/exchangerates/tables/c
2023-11-11 20:52:50.778 +01:00 [INF] Sending HTTP request GET http://api.nbp.pl/api/exchangerates/tables/c
2023-11-11 20:52:50.899 +01:00 [INF] Received HTTP response headers after 115.7314ms - 200
2023-11-11 20:52:50.903 +01:00 [INF] End processing HTTP request after 133.877ms - 200
2023-11-11 20:52:52.158 +01:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Ask], [c].[Bid], [c].[Code], [c].[CratedBy], [c].[CreatedTime], [c].[CurrencyName], [c].[DeletedBy], [c].[DeletedTime], [c].[IsDeleted], [c].[ModifiedBy], [c].[ModifiedTime], [c].[TradingDate]
FROM [Currencies] AS [c]
2023-11-11 20:59:41.443 +01:00 [INF] User profile is available. Using 'C:\Users\maste\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-11-11 20:59:41.599 +01:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2023-11-11 20:59:41.600 +01:00 [INF] Quartz Scheduler created
2023-11-11 20:59:41.601 +01:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2023-11-11 20:59:41.602 +01:00 [INF] RAMJobStore initialized.
2023-11-11 20:59:41.603 +01:00 [INF] Quartz Scheduler 3.7.0.0 - 'QuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2023-11-11 20:59:41.604 +01:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2023-11-11 20:59:41.605 +01:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2023-11-11 20:59:41.613 +01:00 [INF] Adding 1 jobs, 1 triggers.
2023-11-11 20:59:41.617 +01:00 [INF] Adding job: DEFAULT.NBP
2023-11-11 20:59:41.698 +01:00 [INF] Now listening on: http://localhost:5238
2023-11-11 20:59:41.700 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-11 20:59:41.706 +01:00 [INF] Hosting environment: Development
2023-11-11 20:59:41.707 +01:00 [INF] Content root path: C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api
2023-11-11 20:59:41.709 +01:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2023-11-11 20:59:41.878 +01:00 [INF] Start processing HTTP request GET http://api.nbp.pl/api/exchangerates/tables/c
2023-11-11 20:59:41.881 +01:00 [INF] Sending HTTP request GET http://api.nbp.pl/api/exchangerates/tables/c
2023-11-11 20:59:42.032 +01:00 [INF] Received HTTP response headers after 146.9193ms - 200
2023-11-11 20:59:42.037 +01:00 [INF] End processing HTTP request after 163.265ms - 200
2023-11-11 20:59:43.270 +01:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Ask], [c].[Bid], [c].[Code], [c].[CratedBy], [c].[CreatedTime], [c].[CurrencyName], [c].[DeletedBy], [c].[DeletedTime], [c].[IsDeleted], [c].[ModifiedBy], [c].[ModifiedTime], [c].[TradingDate]
FROM [Currencies] AS [c]
2023-11-11 20:59:46.962 +01:00 [ERR] Job DEFAULT.NBP threw an unhandled Exception: 
System.FormatException: Unrecognized Guid format.
   at System.Guid.GuidResult.SetFailure(Boolean overflow, String failureMessageID)
   at System.Guid.TryParseGuid(ReadOnlySpan`1 guidString, GuidResult& result)
   at System.Guid.Parse(ReadOnlySpan`1 input)
   at System.Guid.Parse(String input)
   at WalletApp.Services.CurrentUserService.get_Id() in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api\Services\CurrentUserService.cs:line 15
   at WalletApp.Persistence.WalletDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\WalletDbContext.cs:line 51
   at WalletApp.Persistence.Repositories.CurrencyRepository.Save(CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\Repositories\CurrencyRepository.cs:line 49
   at WalletApp.Application.Common.Currency.Update.UpdateCurrencyCommandHandler.Handle(UpdateCurrencyCommand request, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Common\Currency\UpdateCurrency\UpdateCurrencyCommandHandler.cs:line 48
   at MediatR.Wrappers.RequestHandlerWrapperImpl`1.<>c__DisplayClass1_0.<<Handle>g__Handler|0>d.MoveNext()
--- End of stack trace from previous location ---
   at WalletApp.Application.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Behaviours\ValidationBehaviour.cs:line 17
   at WalletApp.Infrastructure.Quartz.CallToNbpApiJob.Execute(IJobExecutionContext context) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Infrastructure\Quartz\CallToNbpApiJob.cs:line 29
   at Quartz.Core.JobRunShell.Run(CancellationToken cancellationToken)
2023-11-11 20:59:46.977 +01:00 [ERR] Job DEFAULT.NBP threw an exception.
Quartz.SchedulerException: Job threw an unhandled exception.
 ---> System.FormatException: Unrecognized Guid format.
   at System.Guid.GuidResult.SetFailure(Boolean overflow, String failureMessageID)
   at System.Guid.TryParseGuid(ReadOnlySpan`1 guidString, GuidResult& result)
   at System.Guid.Parse(ReadOnlySpan`1 input)
   at System.Guid.Parse(String input)
   at WalletApp.Services.CurrentUserService.get_Id() in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api\Services\CurrentUserService.cs:line 15
   at WalletApp.Persistence.WalletDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\WalletDbContext.cs:line 51
   at WalletApp.Persistence.Repositories.CurrencyRepository.Save(CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\Repositories\CurrencyRepository.cs:line 49
   at WalletApp.Application.Common.Currency.Update.UpdateCurrencyCommandHandler.Handle(UpdateCurrencyCommand request, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Common\Currency\UpdateCurrency\UpdateCurrencyCommandHandler.cs:line 48
   at MediatR.Wrappers.RequestHandlerWrapperImpl`1.<>c__DisplayClass1_0.<<Handle>g__Handler|0>d.MoveNext()
--- End of stack trace from previous location ---
   at WalletApp.Application.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Behaviours\ValidationBehaviour.cs:line 17
   at WalletApp.Infrastructure.Quartz.CallToNbpApiJob.Execute(IJobExecutionContext context) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Infrastructure\Quartz\CallToNbpApiJob.cs:line 29
   at Quartz.Core.JobRunShell.Run(CancellationToken cancellationToken)
   --- End of inner exception stack trace --- [See nested exception: System.FormatException: Unrecognized Guid format.
   at System.Guid.GuidResult.SetFailure(Boolean overflow, String failureMessageID)
   at System.Guid.TryParseGuid(ReadOnlySpan`1 guidString, GuidResult& result)
   at System.Guid.Parse(ReadOnlySpan`1 input)
   at System.Guid.Parse(String input)
   at WalletApp.Services.CurrentUserService.get_Id() in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api\Services\CurrentUserService.cs:line 15
   at WalletApp.Persistence.WalletDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\WalletDbContext.cs:line 51
   at WalletApp.Persistence.Repositories.CurrencyRepository.Save(CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\Repositories\CurrencyRepository.cs:line 49
   at WalletApp.Application.Common.Currency.Update.UpdateCurrencyCommandHandler.Handle(UpdateCurrencyCommand request, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Common\Currency\UpdateCurrency\UpdateCurrencyCommandHandler.cs:line 48
   at MediatR.Wrappers.RequestHandlerWrapperImpl`1.<>c__DisplayClass1_0.<<Handle>g__Handler|0>d.MoveNext()
--- End of stack trace from previous location ---
   at WalletApp.Application.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Behaviours\ValidationBehaviour.cs:line 17
   at WalletApp.Infrastructure.Quartz.CallToNbpApiJob.Execute(IJobExecutionContext context) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Infrastructure\Quartz\CallToNbpApiJob.cs:line 29
   at Quartz.Core.JobRunShell.Run(CancellationToken cancellationToken)]
2023-11-11 21:01:35.610 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5238/api/account/authenticate application/json 67
2023-11-11 21:01:35.652 +01:00 [WRN] Failed to determine the https port for redirect.
2023-11-11 21:01:35.697 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.AccountController.Authentication (WalletApp.Api)'
2023-11-11 21:01:35.710 +01:00 [INF] Route matched with {action = "Authentication", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult`1[WalletApp.Application.Account.Authenticate.AuthenticateResponseDto]]] Authentication(WalletApp.Application.Account.Authenticate.AuthenticateDto, System.Threading.CancellationToken) on controller WalletApp.Controllers.AccountController (WalletApp.Api).
2023-11-11 21:02:29.675 +01:00 [INF] User profile is available. Using 'C:\Users\maste\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-11-11 21:02:29.831 +01:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2023-11-11 21:02:29.832 +01:00 [INF] Quartz Scheduler created
2023-11-11 21:02:29.833 +01:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2023-11-11 21:02:29.834 +01:00 [INF] RAMJobStore initialized.
2023-11-11 21:02:29.835 +01:00 [INF] Quartz Scheduler 3.7.0.0 - 'QuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2023-11-11 21:02:29.836 +01:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2023-11-11 21:02:29.838 +01:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2023-11-11 21:02:29.847 +01:00 [INF] Adding 1 jobs, 1 triggers.
2023-11-11 21:02:29.851 +01:00 [INF] Adding job: DEFAULT.NBP
2023-11-11 21:02:29.933 +01:00 [INF] Now listening on: http://localhost:5238
2023-11-11 21:02:29.934 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-11 21:02:29.940 +01:00 [INF] Hosting environment: Development
2023-11-11 21:02:29.941 +01:00 [INF] Content root path: C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api
2023-11-11 21:02:29.944 +01:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2023-11-11 21:02:30.112 +01:00 [INF] Start processing HTTP request GET http://api.nbp.pl/api/exchangerates/tables/c
2023-11-11 21:02:30.115 +01:00 [INF] Sending HTTP request GET http://api.nbp.pl/api/exchangerates/tables/c
2023-11-11 21:02:30.232 +01:00 [INF] Received HTTP response headers after 113.0749ms - 200
2023-11-11 21:02:30.239 +01:00 [INF] End processing HTTP request after 130.3622ms - 200
2023-11-11 21:02:31.426 +01:00 [INF] Executed DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Ask], [c].[Bid], [c].[Code], [c].[CratedBy], [c].[CreatedTime], [c].[CurrencyName], [c].[DeletedBy], [c].[DeletedTime], [c].[IsDeleted], [c].[ModifiedBy], [c].[ModifiedTime], [c].[TradingDate]
FROM [Currencies] AS [c]
2023-11-11 21:02:31.686 +01:00 [ERR] Job DEFAULT.NBP threw an unhandled Exception: 
System.FormatException: Unrecognized Guid format.
   at System.Guid.GuidResult.SetFailure(Boolean overflow, String failureMessageID)
   at System.Guid.TryParseGuid(ReadOnlySpan`1 guidString, GuidResult& result)
   at System.Guid.Parse(ReadOnlySpan`1 input)
   at System.Guid.Parse(String input)
   at WalletApp.Services.CurrentUserService.get_Id() in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api\Services\CurrentUserService.cs:line 15
   at WalletApp.Persistence.WalletDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\WalletDbContext.cs:line 51
   at WalletApp.Persistence.Repositories.CurrencyRepository.Save(CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\Repositories\CurrencyRepository.cs:line 49
   at WalletApp.Application.Common.Currency.Update.UpdateCurrencyCommandHandler.Handle(UpdateCurrencyCommand request, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Common\Currency\UpdateCurrency\UpdateCurrencyCommandHandler.cs:line 48
   at MediatR.Wrappers.RequestHandlerWrapperImpl`1.<>c__DisplayClass1_0.<<Handle>g__Handler|0>d.MoveNext()
--- End of stack trace from previous location ---
   at WalletApp.Application.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Behaviours\ValidationBehaviour.cs:line 17
   at WalletApp.Infrastructure.Quartz.CallToNbpApiJob.Execute(IJobExecutionContext context) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Infrastructure\Quartz\CallToNbpApiJob.cs:line 29
   at Quartz.Core.JobRunShell.Run(CancellationToken cancellationToken)
2023-11-11 21:02:31.698 +01:00 [ERR] Job DEFAULT.NBP threw an exception.
Quartz.SchedulerException: Job threw an unhandled exception.
 ---> System.FormatException: Unrecognized Guid format.
   at System.Guid.GuidResult.SetFailure(Boolean overflow, String failureMessageID)
   at System.Guid.TryParseGuid(ReadOnlySpan`1 guidString, GuidResult& result)
   at System.Guid.Parse(ReadOnlySpan`1 input)
   at System.Guid.Parse(String input)
   at WalletApp.Services.CurrentUserService.get_Id() in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api\Services\CurrentUserService.cs:line 15
   at WalletApp.Persistence.WalletDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\WalletDbContext.cs:line 51
   at WalletApp.Persistence.Repositories.CurrencyRepository.Save(CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\Repositories\CurrencyRepository.cs:line 49
   at WalletApp.Application.Common.Currency.Update.UpdateCurrencyCommandHandler.Handle(UpdateCurrencyCommand request, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Common\Currency\UpdateCurrency\UpdateCurrencyCommandHandler.cs:line 48
   at MediatR.Wrappers.RequestHandlerWrapperImpl`1.<>c__DisplayClass1_0.<<Handle>g__Handler|0>d.MoveNext()
--- End of stack trace from previous location ---
   at WalletApp.Application.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Behaviours\ValidationBehaviour.cs:line 17
   at WalletApp.Infrastructure.Quartz.CallToNbpApiJob.Execute(IJobExecutionContext context) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Infrastructure\Quartz\CallToNbpApiJob.cs:line 29
   at Quartz.Core.JobRunShell.Run(CancellationToken cancellationToken)
   --- End of inner exception stack trace --- [See nested exception: System.FormatException: Unrecognized Guid format.
   at System.Guid.GuidResult.SetFailure(Boolean overflow, String failureMessageID)
   at System.Guid.TryParseGuid(ReadOnlySpan`1 guidString, GuidResult& result)
   at System.Guid.Parse(ReadOnlySpan`1 input)
   at System.Guid.Parse(String input)
   at WalletApp.Services.CurrentUserService.get_Id() in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api\Services\CurrentUserService.cs:line 15
   at WalletApp.Persistence.WalletDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\WalletDbContext.cs:line 51
   at WalletApp.Persistence.Repositories.CurrencyRepository.Save(CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\Repositories\CurrencyRepository.cs:line 49
   at WalletApp.Application.Common.Currency.Update.UpdateCurrencyCommandHandler.Handle(UpdateCurrencyCommand request, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Common\Currency\UpdateCurrency\UpdateCurrencyCommandHandler.cs:line 48
   at MediatR.Wrappers.RequestHandlerWrapperImpl`1.<>c__DisplayClass1_0.<<Handle>g__Handler|0>d.MoveNext()
--- End of stack trace from previous location ---
   at WalletApp.Application.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Behaviours\ValidationBehaviour.cs:line 17
   at WalletApp.Infrastructure.Quartz.CallToNbpApiJob.Execute(IJobExecutionContext context) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Infrastructure\Quartz\CallToNbpApiJob.cs:line 29
   at Quartz.Core.JobRunShell.Run(CancellationToken cancellationToken)]
2023-11-11 21:02:43.310 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5238/api/account/authenticate application/json 67
2023-11-11 21:02:43.353 +01:00 [WRN] Failed to determine the https port for redirect.
2023-11-11 21:02:43.391 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.AccountController.Authentication (WalletApp.Api)'
2023-11-11 21:02:43.405 +01:00 [INF] Route matched with {action = "Authentication", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult`1[WalletApp.Application.Account.Authenticate.AuthenticateResponseDto]]] Authentication(WalletApp.Application.Account.Authenticate.AuthenticateDto, System.Threading.CancellationToken) on controller WalletApp.Controllers.AccountController (WalletApp.Api).
2023-11-11 21:05:57.289 +01:00 [INF] User profile is available. Using 'C:\Users\maste\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-11-11 21:05:57.444 +01:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2023-11-11 21:05:57.445 +01:00 [INF] Quartz Scheduler created
2023-11-11 21:05:57.446 +01:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2023-11-11 21:05:57.448 +01:00 [INF] RAMJobStore initialized.
2023-11-11 21:05:57.449 +01:00 [INF] Quartz Scheduler 3.7.0.0 - 'QuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2023-11-11 21:05:57.449 +01:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2023-11-11 21:05:57.450 +01:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2023-11-11 21:05:57.460 +01:00 [INF] Adding 1 jobs, 1 triggers.
2023-11-11 21:05:57.463 +01:00 [INF] Adding job: DEFAULT.NBP
2023-11-11 21:05:57.539 +01:00 [INF] Now listening on: http://localhost:5238
2023-11-11 21:05:57.541 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-11 21:05:57.545 +01:00 [INF] Hosting environment: Development
2023-11-11 21:05:57.546 +01:00 [INF] Content root path: C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api
2023-11-11 21:05:57.548 +01:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2023-11-11 21:05:57.715 +01:00 [INF] Start processing HTTP request GET http://api.nbp.pl/api/exchangerates/tables/c
2023-11-11 21:05:57.718 +01:00 [INF] Sending HTTP request GET http://api.nbp.pl/api/exchangerates/tables/c
2023-11-11 21:05:57.870 +01:00 [INF] Received HTTP response headers after 148.2762ms - 200
2023-11-11 21:05:57.874 +01:00 [INF] End processing HTTP request after 163.996ms - 200
2023-11-11 21:05:59.090 +01:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Ask], [c].[Bid], [c].[Code], [c].[CratedBy], [c].[CreatedTime], [c].[CurrencyName], [c].[DeletedBy], [c].[DeletedTime], [c].[IsDeleted], [c].[ModifiedBy], [c].[ModifiedTime], [c].[TradingDate]
FROM [Currencies] AS [c]
2023-11-11 22:24:39.134 +01:00 [INF] User profile is available. Using 'C:\Users\maste\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-11-11 22:24:39.295 +01:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2023-11-11 22:24:39.296 +01:00 [INF] Quartz Scheduler created
2023-11-11 22:24:39.298 +01:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2023-11-11 22:24:39.299 +01:00 [INF] RAMJobStore initialized.
2023-11-11 22:24:39.300 +01:00 [INF] Quartz Scheduler 3.7.0.0 - 'QuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2023-11-11 22:24:39.301 +01:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2023-11-11 22:24:39.302 +01:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2023-11-11 22:24:39.312 +01:00 [INF] Adding 1 jobs, 1 triggers.
2023-11-11 22:24:39.316 +01:00 [INF] Adding job: DEFAULT.NBP
2023-11-11 22:24:39.409 +01:00 [INF] Now listening on: http://localhost:5238
2023-11-11 22:24:39.443 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-11 22:24:39.444 +01:00 [INF] Hosting environment: Development
2023-11-11 22:24:39.445 +01:00 [INF] Content root path: C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api
2023-11-11 22:24:39.448 +01:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2023-11-11 22:24:39.637 +01:00 [INF] Start processing HTTP request GET http://api.nbp.pl/api/exchangerates/tables/c
2023-11-11 22:24:39.641 +01:00 [INF] Sending HTTP request GET http://api.nbp.pl/api/exchangerates/tables/c
2023-11-11 22:24:39.803 +01:00 [INF] Received HTTP response headers after 158.793ms - 200
2023-11-11 22:24:39.807 +01:00 [INF] End processing HTTP request after 174.8001ms - 200
2023-11-11 22:24:41.351 +01:00 [INF] Executed DbCommand (42ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Ask], [c].[Bid], [c].[Code], [c].[CratedBy], [c].[CreatedTime], [c].[CurrencyName], [c].[DeletedBy], [c].[DeletedTime], [c].[IsDeleted], [c].[ModifiedBy], [c].[ModifiedTime], [c].[TradingDate]
FROM [Currencies] AS [c]
2023-11-11 22:24:41.625 +01:00 [ERR] Job DEFAULT.NBP threw an unhandled Exception: 
System.FormatException: Unrecognized Guid format.
   at System.Guid.GuidResult.SetFailure(Boolean overflow, String failureMessageID)
   at System.Guid.TryParseGuid(ReadOnlySpan`1 guidString, GuidResult& result)
   at System.Guid.Parse(ReadOnlySpan`1 input)
   at System.Guid.Parse(String input)
   at WalletApp.Services.CurrentUserService.get_Id() in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api\Services\CurrentUserService.cs:line 15
   at WalletApp.Persistence.WalletDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\WalletDbContext.cs:line 51
   at WalletApp.Persistence.Repositories.CurrencyRepository.Save(CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\Repositories\CurrencyRepository.cs:line 49
   at WalletApp.Application.Common.Currency.Update.UpdateCurrencyCommandHandler.Handle(UpdateCurrencyCommand request, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Common\Currency\UpdateCurrency\UpdateCurrencyCommandHandler.cs:line 48
   at MediatR.Wrappers.RequestHandlerWrapperImpl`1.<>c__DisplayClass1_0.<<Handle>g__Handler|0>d.MoveNext()
--- End of stack trace from previous location ---
   at WalletApp.Application.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Behaviours\ValidationBehaviour.cs:line 17
   at WalletApp.Infrastructure.Quartz.CallToNbpApiJob.Execute(IJobExecutionContext context) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Infrastructure\Quartz\CallToNbpApiJob.cs:line 29
   at Quartz.Core.JobRunShell.Run(CancellationToken cancellationToken)
2023-11-11 22:24:41.641 +01:00 [ERR] Job DEFAULT.NBP threw an exception.
Quartz.SchedulerException: Job threw an unhandled exception.
 ---> System.FormatException: Unrecognized Guid format.
   at System.Guid.GuidResult.SetFailure(Boolean overflow, String failureMessageID)
   at System.Guid.TryParseGuid(ReadOnlySpan`1 guidString, GuidResult& result)
   at System.Guid.Parse(ReadOnlySpan`1 input)
   at System.Guid.Parse(String input)
   at WalletApp.Services.CurrentUserService.get_Id() in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api\Services\CurrentUserService.cs:line 15
   at WalletApp.Persistence.WalletDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\WalletDbContext.cs:line 51
   at WalletApp.Persistence.Repositories.CurrencyRepository.Save(CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\Repositories\CurrencyRepository.cs:line 49
   at WalletApp.Application.Common.Currency.Update.UpdateCurrencyCommandHandler.Handle(UpdateCurrencyCommand request, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Common\Currency\UpdateCurrency\UpdateCurrencyCommandHandler.cs:line 48
   at MediatR.Wrappers.RequestHandlerWrapperImpl`1.<>c__DisplayClass1_0.<<Handle>g__Handler|0>d.MoveNext()
--- End of stack trace from previous location ---
   at WalletApp.Application.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Behaviours\ValidationBehaviour.cs:line 17
   at WalletApp.Infrastructure.Quartz.CallToNbpApiJob.Execute(IJobExecutionContext context) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Infrastructure\Quartz\CallToNbpApiJob.cs:line 29
   at Quartz.Core.JobRunShell.Run(CancellationToken cancellationToken)
   --- End of inner exception stack trace --- [See nested exception: System.FormatException: Unrecognized Guid format.
   at System.Guid.GuidResult.SetFailure(Boolean overflow, String failureMessageID)
   at System.Guid.TryParseGuid(ReadOnlySpan`1 guidString, GuidResult& result)
   at System.Guid.Parse(ReadOnlySpan`1 input)
   at System.Guid.Parse(String input)
   at WalletApp.Services.CurrentUserService.get_Id() in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api\Services\CurrentUserService.cs:line 15
   at WalletApp.Persistence.WalletDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\WalletDbContext.cs:line 51
   at WalletApp.Persistence.Repositories.CurrencyRepository.Save(CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\Repositories\CurrencyRepository.cs:line 49
   at WalletApp.Application.Common.Currency.Update.UpdateCurrencyCommandHandler.Handle(UpdateCurrencyCommand request, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Common\Currency\UpdateCurrency\UpdateCurrencyCommandHandler.cs:line 48
   at MediatR.Wrappers.RequestHandlerWrapperImpl`1.<>c__DisplayClass1_0.<<Handle>g__Handler|0>d.MoveNext()
--- End of stack trace from previous location ---
   at WalletApp.Application.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Behaviours\ValidationBehaviour.cs:line 17
   at WalletApp.Infrastructure.Quartz.CallToNbpApiJob.Execute(IJobExecutionContext context) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Infrastructure\Quartz\CallToNbpApiJob.cs:line 29
   at Quartz.Core.JobRunShell.Run(CancellationToken cancellationToken)]
2023-11-11 22:24:49.408 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5238/api/account/authenticate application/json 67
2023-11-11 22:24:49.448 +01:00 [WRN] Failed to determine the https port for redirect.
2023-11-11 22:24:49.501 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.AccountController.Authentication (WalletApp.Api)'
2023-11-11 22:24:49.514 +01:00 [INF] Route matched with {action = "Authentication", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult`1[WalletApp.Application.Account.Authenticate.AuthenticateResponseDto]]] Authentication(WalletApp.Application.Account.Authenticate.AuthenticateDto, System.Threading.CancellationToken) on controller WalletApp.Controllers.AccountController (WalletApp.Api).
2023-11-11 22:24:49.719 +01:00 [INF] Executed DbCommand (48ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IconType], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-11-11 22:24:49.734 +01:00 [INF] Executing NotFoundObjectResult, writing value of type 'WalletApp.Application.Common.ApiResult`1[[WalletApp.Application.Account.Authenticate.AuthenticateResponseDto, WalletApp.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-11-11 22:24:49.760 +01:00 [INF] Executed action WalletApp.Controllers.AccountController.Authentication (WalletApp.Api) in 239.8163ms
2023-11-11 22:24:49.762 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.AccountController.Authentication (WalletApp.Api)'
2023-11-11 22:24:49.778 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5238/api/account/authenticate application/json 67 - 404 - application/json;+charset=utf-8 367.8611ms
2023-11-11 22:25:06.816 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5238/api/account/authenticate application/json 67
2023-11-11 22:25:06.819 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.AccountController.Authentication (WalletApp.Api)'
2023-11-11 22:25:06.821 +01:00 [INF] Route matched with {action = "Authentication", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult`1[WalletApp.Application.Account.Authenticate.AuthenticateResponseDto]]] Authentication(WalletApp.Application.Account.Authenticate.AuthenticateDto, System.Threading.CancellationToken) on controller WalletApp.Controllers.AccountController (WalletApp.Api).
2023-11-11 22:25:06.855 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IconType], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-11-11 22:25:06.858 +01:00 [INF] Executing NotFoundObjectResult, writing value of type 'WalletApp.Application.Common.ApiResult`1[[WalletApp.Application.Account.Authenticate.AuthenticateResponseDto, WalletApp.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-11-11 22:25:06.859 +01:00 [INF] Executed action WalletApp.Controllers.AccountController.Authentication (WalletApp.Api) in 36.4644ms
2023-11-11 22:25:06.860 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.AccountController.Authentication (WalletApp.Api)'
2023-11-11 22:25:06.861 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5238/api/account/authenticate application/json 67 - 404 - application/json;+charset=utf-8 45.0172ms
2023-11-11 22:25:46.693 +01:00 [INF] User profile is available. Using 'C:\Users\maste\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-11-11 22:25:46.831 +01:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2023-11-11 22:25:46.832 +01:00 [INF] Quartz Scheduler created
2023-11-11 22:25:46.833 +01:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2023-11-11 22:25:46.835 +01:00 [INF] RAMJobStore initialized.
2023-11-11 22:25:46.836 +01:00 [INF] Quartz Scheduler 3.7.0.0 - 'QuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2023-11-11 22:25:46.837 +01:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2023-11-11 22:25:46.838 +01:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2023-11-11 22:25:46.847 +01:00 [INF] Adding 1 jobs, 1 triggers.
2023-11-11 22:25:46.851 +01:00 [INF] Adding job: DEFAULT.NBP
2023-11-11 22:25:46.932 +01:00 [INF] Now listening on: http://localhost:5238
2023-11-11 22:25:46.933 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-11 22:25:46.939 +01:00 [INF] Hosting environment: Development
2023-11-11 22:25:46.942 +01:00 [INF] Content root path: C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api
2023-11-11 22:25:46.944 +01:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2023-11-11 22:25:47.115 +01:00 [INF] Start processing HTTP request GET http://api.nbp.pl/api/exchangerates/tables/c
2023-11-11 22:25:47.118 +01:00 [INF] Sending HTTP request GET http://api.nbp.pl/api/exchangerates/tables/c
2023-11-11 22:25:47.233 +01:00 [INF] Received HTTP response headers after 112.0874ms - 200
2023-11-11 22:25:47.237 +01:00 [INF] End processing HTTP request after 126.5195ms - 200
2023-11-11 22:25:48.414 +01:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Ask], [c].[Bid], [c].[Code], [c].[CratedBy], [c].[CreatedTime], [c].[CurrencyName], [c].[DeletedBy], [c].[DeletedTime], [c].[IsDeleted], [c].[ModifiedBy], [c].[ModifiedTime], [c].[TradingDate]
FROM [Currencies] AS [c]
2023-11-11 22:28:46.445 +01:00 [ERR] Job DEFAULT.NBP threw an unhandled Exception: 
System.FormatException: Unrecognized Guid format.
   at System.Guid.GuidResult.SetFailure(Boolean overflow, String failureMessageID)
   at System.Guid.TryParseGuid(ReadOnlySpan`1 guidString, GuidResult& result)
   at System.Guid.Parse(ReadOnlySpan`1 input)
   at System.Guid.Parse(String input)
   at WalletApp.Services.CurrentUserService.get_Id()
   at WalletApp.Persistence.WalletDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\WalletDbContext.cs:line 51
   at WalletApp.Persistence.Repositories.CurrencyRepository.Save(CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\Repositories\CurrencyRepository.cs:line 49
   at WalletApp.Application.Common.Currency.Update.UpdateCurrencyCommandHandler.Handle(UpdateCurrencyCommand request, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Common\Currency\UpdateCurrency\UpdateCurrencyCommandHandler.cs:line 48
   at MediatR.Wrappers.RequestHandlerWrapperImpl`1.<>c__DisplayClass1_0.<<Handle>g__Handler|0>d.MoveNext()
--- End of stack trace from previous location ---
   at WalletApp.Application.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Behaviours\ValidationBehaviour.cs:line 17
   at WalletApp.Infrastructure.Quartz.CallToNbpApiJob.Execute(IJobExecutionContext context) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Infrastructure\Quartz\CallToNbpApiJob.cs:line 29
   at Quartz.Core.JobRunShell.Run(CancellationToken cancellationToken)
2023-11-11 22:28:46.458 +01:00 [ERR] Job DEFAULT.NBP threw an exception.
Quartz.SchedulerException: Job threw an unhandled exception.
 ---> System.FormatException: Unrecognized Guid format.
   at System.Guid.GuidResult.SetFailure(Boolean overflow, String failureMessageID)
   at System.Guid.TryParseGuid(ReadOnlySpan`1 guidString, GuidResult& result)
   at System.Guid.Parse(ReadOnlySpan`1 input)
   at System.Guid.Parse(String input)
   at WalletApp.Services.CurrentUserService.get_Id()
   at WalletApp.Persistence.WalletDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\WalletDbContext.cs:line 51
   at WalletApp.Persistence.Repositories.CurrencyRepository.Save(CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\Repositories\CurrencyRepository.cs:line 49
   at WalletApp.Application.Common.Currency.Update.UpdateCurrencyCommandHandler.Handle(UpdateCurrencyCommand request, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Common\Currency\UpdateCurrency\UpdateCurrencyCommandHandler.cs:line 48
   at MediatR.Wrappers.RequestHandlerWrapperImpl`1.<>c__DisplayClass1_0.<<Handle>g__Handler|0>d.MoveNext()
--- End of stack trace from previous location ---
   at WalletApp.Application.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Behaviours\ValidationBehaviour.cs:line 17
   at WalletApp.Infrastructure.Quartz.CallToNbpApiJob.Execute(IJobExecutionContext context) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Infrastructure\Quartz\CallToNbpApiJob.cs:line 29
   at Quartz.Core.JobRunShell.Run(CancellationToken cancellationToken)
   --- End of inner exception stack trace --- [See nested exception: System.FormatException: Unrecognized Guid format.
   at System.Guid.GuidResult.SetFailure(Boolean overflow, String failureMessageID)
   at System.Guid.TryParseGuid(ReadOnlySpan`1 guidString, GuidResult& result)
   at System.Guid.Parse(ReadOnlySpan`1 input)
   at System.Guid.Parse(String input)
   at WalletApp.Services.CurrentUserService.get_Id()
   at WalletApp.Persistence.WalletDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\WalletDbContext.cs:line 51
   at WalletApp.Persistence.Repositories.CurrencyRepository.Save(CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\Repositories\CurrencyRepository.cs:line 49
   at WalletApp.Application.Common.Currency.Update.UpdateCurrencyCommandHandler.Handle(UpdateCurrencyCommand request, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Common\Currency\UpdateCurrency\UpdateCurrencyCommandHandler.cs:line 48
   at MediatR.Wrappers.RequestHandlerWrapperImpl`1.<>c__DisplayClass1_0.<<Handle>g__Handler|0>d.MoveNext()
--- End of stack trace from previous location ---
   at WalletApp.Application.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Behaviours\ValidationBehaviour.cs:line 17
   at WalletApp.Infrastructure.Quartz.CallToNbpApiJob.Execute(IJobExecutionContext context) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Infrastructure\Quartz\CallToNbpApiJob.cs:line 29
   at Quartz.Core.JobRunShell.Run(CancellationToken cancellationToken)]
2023-11-11 22:30:33.716 +01:00 [INF] User profile is available. Using 'C:\Users\maste\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-11-11 22:30:33.862 +01:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2023-11-11 22:30:33.864 +01:00 [INF] Quartz Scheduler created
2023-11-11 22:30:33.865 +01:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2023-11-11 22:30:33.866 +01:00 [INF] RAMJobStore initialized.
2023-11-11 22:30:33.867 +01:00 [INF] Quartz Scheduler 3.7.0.0 - 'QuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2023-11-11 22:30:33.869 +01:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2023-11-11 22:30:33.873 +01:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2023-11-11 22:30:33.882 +01:00 [INF] Adding 1 jobs, 1 triggers.
2023-11-11 22:30:33.887 +01:00 [INF] Adding job: DEFAULT.NBP
2023-11-11 22:30:33.969 +01:00 [INF] Now listening on: http://localhost:5238
2023-11-11 22:30:33.970 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-11 22:30:33.975 +01:00 [INF] Hosting environment: Development
2023-11-11 22:30:33.976 +01:00 [INF] Content root path: C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api
2023-11-11 22:30:33.979 +01:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2023-11-11 22:30:34.142 +01:00 [INF] Start processing HTTP request GET http://api.nbp.pl/api/exchangerates/tables/c
2023-11-11 22:30:34.145 +01:00 [INF] Sending HTTP request GET http://api.nbp.pl/api/exchangerates/tables/c
2023-11-11 22:30:34.302 +01:00 [INF] Received HTTP response headers after 153.8037ms - 200
2023-11-11 22:30:34.307 +01:00 [INF] End processing HTTP request after 169.4774ms - 200
2023-11-11 22:30:35.567 +01:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Ask], [c].[Bid], [c].[Code], [c].[CratedBy], [c].[CreatedTime], [c].[CurrencyName], [c].[DeletedBy], [c].[DeletedTime], [c].[IsDeleted], [c].[ModifiedBy], [c].[ModifiedTime], [c].[TradingDate]
FROM [Currencies] AS [c]
2023-11-11 22:30:35.792 +01:00 [INF] Executed DbCommand (46ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p2='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p3='?' (Size = 3) (DbType = AnsiString), @p4='?' (DbType = Guid), @p5='?' (DbType = DateTime2), @p6='?' (Size = 30) (DbType = AnsiString), @p7='?' (DbType = Guid), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = Guid), @p11='?' (DbType = DateTime2), @p12='?' (DbType = DateTime), @p13='?' (DbType = Guid), @p14='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p15='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p16='?' (Size = 3) (DbType = AnsiString), @p17='?' (DbType = Guid), @p18='?' (DbType = DateTime2), @p19='?' (Size = 30) (DbType = AnsiString), @p20='?' (DbType = Guid), @p21='?' (DbType = DateTime2), @p22='?' (DbType = Boolean), @p23='?' (DbType = Guid), @p24='?' (DbType = DateTime2), @p25='?' (DbType = DateTime), @p26='?' (DbType = Guid), @p27='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p28='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p29='?' (Size = 3) (DbType = AnsiString), @p30='?' (DbType = Guid), @p31='?' (DbType = DateTime2), @p32='?' (Size = 30) (DbType = AnsiString), @p33='?' (DbType = Guid), @p34='?' (DbType = DateTime2), @p35='?' (DbType = Boolean), @p36='?' (DbType = Guid), @p37='?' (DbType = DateTime2), @p38='?' (DbType = DateTime), @p39='?' (DbType = Guid), @p40='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p41='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p42='?' (Size = 3) (DbType = AnsiString), @p43='?' (DbType = Guid), @p44='?' (DbType = DateTime2), @p45='?' (Size = 30) (DbType = AnsiString), @p46='?' (DbType = Guid), @p47='?' (DbType = DateTime2), @p48='?' (DbType = Boolean), @p49='?' (DbType = Guid), @p50='?' (DbType = DateTime2), @p51='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Currencies] ([Id], [Ask], [Bid], [Code], [CratedBy], [CreatedTime], [CurrencyName], [DeletedBy], [DeletedTime], [IsDeleted], [ModifiedBy], [ModifiedTime], [TradingDate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12),
(@p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25),
(@p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38),
(@p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51);
2023-11-11 22:31:35.590 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5238/api/account/authenticate application/json 67
2023-11-11 22:31:35.627 +01:00 [WRN] Failed to determine the https port for redirect.
2023-11-11 22:31:35.673 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.AccountController.Authentication (WalletApp.Api)'
2023-11-11 22:31:35.689 +01:00 [INF] Route matched with {action = "Authentication", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult`1[WalletApp.Application.Account.Authenticate.AuthenticateResponseDto]]] Authentication(WalletApp.Application.Account.Authenticate.AuthenticateDto, System.Threading.CancellationToken) on controller WalletApp.Controllers.AccountController (WalletApp.Api).
2023-11-11 22:31:35.875 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IconType], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-11-11 22:31:35.891 +01:00 [INF] Executing NotFoundObjectResult, writing value of type 'WalletApp.Application.Common.ApiResult`1[[WalletApp.Application.Account.Authenticate.AuthenticateResponseDto, WalletApp.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-11-11 22:31:35.918 +01:00 [INF] Executed action WalletApp.Controllers.AccountController.Authentication (WalletApp.Api) in 223.8186ms
2023-11-11 22:31:35.920 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.AccountController.Authentication (WalletApp.Api)'
2023-11-11 22:31:35.928 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5238/api/account/authenticate application/json 67 - 404 - application/json;+charset=utf-8 339.2452ms
2023-11-11 22:31:42.042 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5238/api/account/authenticate application/json 67
2023-11-11 22:31:42.045 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.AccountController.Authentication (WalletApp.Api)'
2023-11-11 22:31:42.046 +01:00 [INF] Route matched with {action = "Authentication", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult`1[WalletApp.Application.Account.Authenticate.AuthenticateResponseDto]]] Authentication(WalletApp.Application.Account.Authenticate.AuthenticateDto, System.Threading.CancellationToken) on controller WalletApp.Controllers.AccountController (WalletApp.Api).
2023-11-11 22:32:13.458 +01:00 [INF] User profile is available. Using 'C:\Users\maste\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-11-11 22:32:13.603 +01:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2023-11-11 22:32:13.605 +01:00 [INF] Quartz Scheduler created
2023-11-11 22:32:13.606 +01:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2023-11-11 22:32:13.606 +01:00 [INF] RAMJobStore initialized.
2023-11-11 22:32:13.607 +01:00 [INF] Quartz Scheduler 3.7.0.0 - 'QuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2023-11-11 22:32:13.608 +01:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2023-11-11 22:32:13.609 +01:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2023-11-11 22:32:13.618 +01:00 [INF] Adding 1 jobs, 1 triggers.
2023-11-11 22:32:13.621 +01:00 [INF] Adding job: DEFAULT.NBP
2023-11-11 22:32:13.700 +01:00 [INF] Now listening on: http://localhost:5238
2023-11-11 22:32:13.701 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-11 22:32:13.707 +01:00 [INF] Hosting environment: Development
2023-11-11 22:32:13.708 +01:00 [INF] Content root path: C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api
2023-11-11 22:32:13.710 +01:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2023-11-11 22:32:13.874 +01:00 [INF] Start processing HTTP request GET http://api.nbp.pl/api/exchangerates/tables/c
2023-11-11 22:32:13.877 +01:00 [INF] Sending HTTP request GET http://api.nbp.pl/api/exchangerates/tables/c
2023-11-11 22:32:13.995 +01:00 [INF] Received HTTP response headers after 112.953ms - 200
2023-11-11 22:32:14.002 +01:00 [INF] End processing HTTP request after 132.4973ms - 200
2023-11-11 22:32:15.259 +01:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Ask], [c].[Bid], [c].[Code], [c].[CratedBy], [c].[CreatedTime], [c].[CurrencyName], [c].[DeletedBy], [c].[DeletedTime], [c].[IsDeleted], [c].[ModifiedBy], [c].[ModifiedTime], [c].[TradingDate]
FROM [Currencies] AS [c]
2023-11-11 22:32:38.573 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5238/api/account/authenticate application/json 67
2023-11-11 22:32:38.620 +01:00 [WRN] Failed to determine the https port for redirect.
2023-11-11 22:32:38.666 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.AccountController.Authentication (WalletApp.Api)'
2023-11-11 22:32:38.687 +01:00 [INF] Route matched with {action = "Authentication", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult`1[WalletApp.Application.Account.Authenticate.AuthenticateResponseDto]]] Authentication(WalletApp.Application.Account.Authenticate.AuthenticateDto, System.Threading.CancellationToken) on controller WalletApp.Controllers.AccountController (WalletApp.Api).
2023-11-11 22:32:38.708 +01:00 [INF] Executed DbCommand (47ms) [Parameters=[@p12='?' (DbType = Guid), @p0='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p1='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p2='?' (Size = 3) (DbType = AnsiString), @p3='?' (DbType = Guid), @p4='?' (DbType = DateTime2), @p5='?' (Size = 30) (DbType = AnsiString), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = Guid), @p10='?' (DbType = DateTime2), @p11='?' (DbType = DateTime), @p25='?' (DbType = Guid), @p13='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p14='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p15='?' (Size = 3) (DbType = AnsiString), @p16='?' (DbType = Guid), @p17='?' (DbType = DateTime2), @p18='?' (Size = 30) (DbType = AnsiString), @p19='?' (DbType = Guid), @p20='?' (DbType = DateTime2), @p21='?' (DbType = Boolean), @p22='?' (DbType = Guid), @p23='?' (DbType = DateTime2), @p24='?' (DbType = DateTime), @p38='?' (DbType = Guid), @p26='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p27='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p28='?' (Size = 3) (DbType = AnsiString), @p29='?' (DbType = Guid), @p30='?' (DbType = DateTime2), @p31='?' (Size = 30) (DbType = AnsiString), @p32='?' (DbType = Guid), @p33='?' (DbType = DateTime2), @p34='?' (DbType = Boolean), @p35='?' (DbType = Guid), @p36='?' (DbType = DateTime2), @p37='?' (DbType = DateTime), @p51='?' (DbType = Guid), @p39='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p40='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p41='?' (Size = 3) (DbType = AnsiString), @p42='?' (DbType = Guid), @p43='?' (DbType = DateTime2), @p44='?' (Size = 30) (DbType = AnsiString), @p45='?' (DbType = Guid), @p46='?' (DbType = DateTime2), @p47='?' (DbType = Boolean), @p48='?' (DbType = Guid), @p49='?' (DbType = DateTime2), @p50='?' (DbType = DateTime), @p52='?' (DbType = Guid), @p53='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p54='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p55='?' (Size = 3) (DbType = AnsiString), @p56='?' (DbType = Guid), @p57='?' (DbType = DateTime2), @p58='?' (Size = 30) (DbType = AnsiString), @p59='?' (DbType = Guid), @p60='?' (DbType = DateTime2), @p61='?' (DbType = Boolean), @p62='?' (DbType = Guid), @p63='?' (DbType = DateTime2), @p64='?' (DbType = DateTime), @p65='?' (DbType = Guid), @p66='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p67='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p68='?' (Size = 3) (DbType = AnsiString), @p69='?' (DbType = Guid), @p70='?' (DbType = DateTime2), @p71='?' (Size = 30) (DbType = AnsiString), @p72='?' (DbType = Guid), @p73='?' (DbType = DateTime2), @p74='?' (DbType = Boolean), @p75='?' (DbType = Guid), @p76='?' (DbType = DateTime2), @p77='?' (DbType = DateTime), @p78='?' (DbType = Guid), @p79='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p80='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p81='?' (Size = 3) (DbType = AnsiString), @p82='?' (DbType = Guid), @p83='?' (DbType = DateTime2), @p84='?' (Size = 30) (DbType = AnsiString), @p85='?' (DbType = Guid), @p86='?' (DbType = DateTime2), @p87='?' (DbType = Boolean), @p88='?' (DbType = Guid), @p89='?' (DbType = DateTime2), @p90='?' (DbType = DateTime), @p91='?' (DbType = Guid), @p92='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p93='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p94='?' (Size = 3) (DbType = AnsiString), @p95='?' (DbType = Guid), @p96='?' (DbType = DateTime2), @p97='?' (Size = 30) (DbType = AnsiString), @p98='?' (DbType = Guid), @p99='?' (DbType = DateTime2), @p100='?' (DbType = Boolean), @p101='?' (DbType = Guid), @p102='?' (DbType = DateTime2), @p103='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Currencies] SET [Ask] = @p0, [Bid] = @p1, [Code] = @p2, [CratedBy] = @p3, [CreatedTime] = @p4, [CurrencyName] = @p5, [DeletedBy] = @p6, [DeletedTime] = @p7, [IsDeleted] = @p8, [ModifiedBy] = @p9, [ModifiedTime] = @p10, [TradingDate] = @p11
OUTPUT 1
WHERE [Id] = @p12;
UPDATE [Currencies] SET [Ask] = @p13, [Bid] = @p14, [Code] = @p15, [CratedBy] = @p16, [CreatedTime] = @p17, [CurrencyName] = @p18, [DeletedBy] = @p19, [DeletedTime] = @p20, [IsDeleted] = @p21, [ModifiedBy] = @p22, [ModifiedTime] = @p23, [TradingDate] = @p24
OUTPUT 1
WHERE [Id] = @p25;
UPDATE [Currencies] SET [Ask] = @p26, [Bid] = @p27, [Code] = @p28, [CratedBy] = @p29, [CreatedTime] = @p30, [CurrencyName] = @p31, [DeletedBy] = @p32, [DeletedTime] = @p33, [IsDeleted] = @p34, [ModifiedBy] = @p35, [ModifiedTime] = @p36, [TradingDate] = @p37
OUTPUT 1
WHERE [Id] = @p38;
UPDATE [Currencies] SET [Ask] = @p39, [Bid] = @p40, [Code] = @p41, [CratedBy] = @p42, [CreatedTime] = @p43, [CurrencyName] = @p44, [DeletedBy] = @p45, [DeletedTime] = @p46, [IsDeleted] = @p47, [ModifiedBy] = @p48, [ModifiedTime] = @p49, [TradingDate] = @p50
OUTPUT 1
WHERE [Id] = @p51;
INSERT INTO [Currencies] ([Id], [Ask], [Bid], [Code], [CratedBy], [CreatedTime], [CurrencyName], [DeletedBy], [DeletedTime], [IsDeleted], [ModifiedBy], [ModifiedTime], [TradingDate])
VALUES (@p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59, @p60, @p61, @p62, @p63, @p64),
(@p65, @p66, @p67, @p68, @p69, @p70, @p71, @p72, @p73, @p74, @p75, @p76, @p77),
(@p78, @p79, @p80, @p81, @p82, @p83, @p84, @p85, @p86, @p87, @p88, @p89, @p90),
(@p91, @p92, @p93, @p94, @p95, @p96, @p97, @p98, @p99, @p100, @p101, @p102, @p103);
2023-11-11 22:33:34.847 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IconType], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-11-11 22:33:34.863 +01:00 [INF] Executing NotFoundObjectResult, writing value of type 'WalletApp.Application.Common.ApiResult`1[[WalletApp.Application.Account.Authenticate.AuthenticateResponseDto, WalletApp.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-11-11 22:33:34.888 +01:00 [INF] Executed action WalletApp.Controllers.AccountController.Authentication (WalletApp.Api) in 56195.2043ms
2023-11-11 22:33:34.891 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.AccountController.Authentication (WalletApp.Api)'
2023-11-11 22:33:34.900 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5238/api/account/authenticate application/json 67 - 404 - application/json;+charset=utf-8 56327.6796ms
2023-11-11 22:34:31.598 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5238/api/account/authenticate application/json 74
2023-11-11 22:34:31.601 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.AccountController.Authentication (WalletApp.Api)'
2023-11-11 22:34:31.602 +01:00 [INF] Route matched with {action = "Authentication", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult`1[WalletApp.Application.Account.Authenticate.AuthenticateResponseDto]]] Authentication(WalletApp.Application.Account.Authenticate.AuthenticateDto, System.Threading.CancellationToken) on controller WalletApp.Controllers.AccountController (WalletApp.Api).
2023-11-11 22:34:41.808 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IconType], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-11-11 22:34:41.810 +01:00 [INF] Executing NotFoundObjectResult, writing value of type 'WalletApp.Application.Common.ApiResult`1[[WalletApp.Application.Account.Authenticate.AuthenticateResponseDto, WalletApp.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-11-11 22:34:41.813 +01:00 [INF] Executed action WalletApp.Controllers.AccountController.Authentication (WalletApp.Api) in 10209.2405ms
2023-11-11 22:34:41.814 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.AccountController.Authentication (WalletApp.Api)'
2023-11-11 22:34:41.815 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5238/api/account/authenticate application/json 74 - 404 - application/json;+charset=utf-8 10216.6759ms
2023-11-11 22:35:17.719 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5238/api/account/register application/json 165
2023-11-11 22:35:17.722 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.AccountController.Register (WalletApp.Api)'
2023-11-11 22:35:17.725 +01:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult]] Register(WalletApp.Application.Account.Register.RegisterDto, System.Threading.CancellationToken) on controller WalletApp.Controllers.AccountController (WalletApp.Api).
2023-11-11 22:35:17.731 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-11-11 22:35:17.733 +01:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2023-11-11 22:35:17.735 +01:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2023-11-11 22:35:17.738 +01:00 [INF] Executed action WalletApp.Controllers.AccountController.Register (WalletApp.Api) in 10.2726ms
2023-11-11 22:35:17.739 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.AccountController.Register (WalletApp.Api)'
2023-11-11 22:35:17.741 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No authenticationScheme was specified, and there was no DefaultChallengeScheme found. The default schemes can be set using either AddAuthentication(string defaultScheme) or AddAuthentication(Action<AuthenticationOptions> configureOptions).
   at Microsoft.AspNetCore.Authentication.AuthenticationService.ChallengeAsync(HttpContext context, String scheme, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Mvc.ChallengeResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeAlwaysRunResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-11-11 22:35:17.754 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5238/api/account/register application/json 165 - 500 - text/plain;+charset=utf-8 38.1858ms
2023-11-11 22:36:48.541 +01:00 [INF] User profile is available. Using 'C:\Users\maste\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-11-11 22:36:48.673 +01:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2023-11-11 22:36:48.674 +01:00 [INF] Quartz Scheduler created
2023-11-11 22:36:48.675 +01:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2023-11-11 22:36:48.676 +01:00 [INF] RAMJobStore initialized.
2023-11-11 22:36:48.677 +01:00 [INF] Quartz Scheduler 3.7.0.0 - 'QuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2023-11-11 22:36:48.678 +01:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2023-11-11 22:36:48.678 +01:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2023-11-11 22:36:48.687 +01:00 [INF] Adding 1 jobs, 1 triggers.
2023-11-11 22:36:48.690 +01:00 [INF] Adding job: DEFAULT.NBP
2023-11-11 22:36:48.769 +01:00 [INF] Now listening on: http://localhost:5238
2023-11-11 22:36:48.771 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-11 22:36:48.775 +01:00 [INF] Hosting environment: Development
2023-11-11 22:36:48.776 +01:00 [INF] Content root path: C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api
2023-11-11 22:36:48.778 +01:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2023-11-11 22:36:48.926 +01:00 [INF] Start processing HTTP request GET http://api.nbp.pl/api/exchangerates/tables/c
2023-11-11 22:36:48.929 +01:00 [INF] Sending HTTP request GET http://api.nbp.pl/api/exchangerates/tables/c
2023-11-11 22:36:49.073 +01:00 [INF] Received HTTP response headers after 140.6996ms - 200
2023-11-11 22:36:49.077 +01:00 [INF] End processing HTTP request after 155.1343ms - 200
2023-11-11 22:36:50.181 +01:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Ask], [c].[Bid], [c].[Code], [c].[CratedBy], [c].[CreatedTime], [c].[CurrencyName], [c].[DeletedBy], [c].[DeletedTime], [c].[IsDeleted], [c].[ModifiedBy], [c].[ModifiedTime], [c].[TradingDate]
FROM [Currencies] AS [c]
2023-11-11 22:36:50.420 +01:00 [INF] Executed DbCommand (38ms) [Parameters=[@p12='?' (DbType = Guid), @p0='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p1='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p2='?' (Size = 3) (DbType = AnsiString), @p3='?' (DbType = Guid), @p4='?' (DbType = DateTime2), @p5='?' (Size = 30) (DbType = AnsiString), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = Guid), @p10='?' (DbType = DateTime2), @p11='?' (DbType = DateTime), @p25='?' (DbType = Guid), @p13='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p14='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p15='?' (Size = 3) (DbType = AnsiString), @p16='?' (DbType = Guid), @p17='?' (DbType = DateTime2), @p18='?' (Size = 30) (DbType = AnsiString), @p19='?' (DbType = Guid), @p20='?' (DbType = DateTime2), @p21='?' (DbType = Boolean), @p22='?' (DbType = Guid), @p23='?' (DbType = DateTime2), @p24='?' (DbType = DateTime), @p38='?' (DbType = Guid), @p26='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p27='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p28='?' (Size = 3) (DbType = AnsiString), @p29='?' (DbType = Guid), @p30='?' (DbType = DateTime2), @p31='?' (Size = 30) (DbType = AnsiString), @p32='?' (DbType = Guid), @p33='?' (DbType = DateTime2), @p34='?' (DbType = Boolean), @p35='?' (DbType = Guid), @p36='?' (DbType = DateTime2), @p37='?' (DbType = DateTime), @p51='?' (DbType = Guid), @p39='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p40='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p41='?' (Size = 3) (DbType = AnsiString), @p42='?' (DbType = Guid), @p43='?' (DbType = DateTime2), @p44='?' (Size = 30) (DbType = AnsiString), @p45='?' (DbType = Guid), @p46='?' (DbType = DateTime2), @p47='?' (DbType = Boolean), @p48='?' (DbType = Guid), @p49='?' (DbType = DateTime2), @p50='?' (DbType = DateTime), @p64='?' (DbType = Guid), @p52='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p53='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p54='?' (Size = 3) (DbType = AnsiString), @p55='?' (DbType = Guid), @p56='?' (DbType = DateTime2), @p57='?' (Size = 30) (DbType = AnsiString), @p58='?' (DbType = Guid), @p59='?' (DbType = DateTime2), @p60='?' (DbType = Boolean), @p61='?' (DbType = Guid), @p62='?' (DbType = DateTime2), @p63='?' (DbType = DateTime), @p77='?' (DbType = Guid), @p65='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p66='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p67='?' (Size = 3) (DbType = AnsiString), @p68='?' (DbType = Guid), @p69='?' (DbType = DateTime2), @p70='?' (Size = 30) (DbType = AnsiString), @p71='?' (DbType = Guid), @p72='?' (DbType = DateTime2), @p73='?' (DbType = Boolean), @p74='?' (DbType = Guid), @p75='?' (DbType = DateTime2), @p76='?' (DbType = DateTime), @p90='?' (DbType = Guid), @p78='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p79='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p80='?' (Size = 3) (DbType = AnsiString), @p81='?' (DbType = Guid), @p82='?' (DbType = DateTime2), @p83='?' (Size = 30) (DbType = AnsiString), @p84='?' (DbType = Guid), @p85='?' (DbType = DateTime2), @p86='?' (DbType = Boolean), @p87='?' (DbType = Guid), @p88='?' (DbType = DateTime2), @p89='?' (DbType = DateTime), @p103='?' (DbType = Guid), @p91='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p92='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p93='?' (Size = 3) (DbType = AnsiString), @p94='?' (DbType = Guid), @p95='?' (DbType = DateTime2), @p96='?' (Size = 30) (DbType = AnsiString), @p97='?' (DbType = Guid), @p98='?' (DbType = DateTime2), @p99='?' (DbType = Boolean), @p100='?' (DbType = Guid), @p101='?' (DbType = DateTime2), @p102='?' (DbType = DateTime), @p104='?' (DbType = Guid), @p105='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p106='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p107='?' (Size = 3) (DbType = AnsiString), @p108='?' (DbType = Guid), @p109='?' (DbType = DateTime2), @p110='?' (Size = 30) (DbType = AnsiString), @p111='?' (DbType = Guid), @p112='?' (DbType = DateTime2), @p113='?' (DbType = Boolean), @p114='?' (DbType = Guid), @p115='?' (DbType = DateTime2), @p116='?' (DbType = DateTime), @p117='?' (DbType = Guid), @p118='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p119='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p120='?' (Size = 3) (DbType = AnsiString), @p121='?' (DbType = Guid), @p122='?' (DbType = DateTime2), @p123='?' (Size = 30) (DbType = AnsiString), @p124='?' (DbType = Guid), @p125='?' (DbType = DateTime2), @p126='?' (DbType = Boolean), @p127='?' (DbType = Guid), @p128='?' (DbType = DateTime2), @p129='?' (DbType = DateTime), @p130='?' (DbType = Guid), @p131='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p132='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p133='?' (Size = 3) (DbType = AnsiString), @p134='?' (DbType = Guid), @p135='?' (DbType = DateTime2), @p136='?' (Size = 30) (DbType = AnsiString), @p137='?' (DbType = Guid), @p138='?' (DbType = DateTime2), @p139='?' (DbType = Boolean), @p140='?' (DbType = Guid), @p141='?' (DbType = DateTime2), @p142='?' (DbType = DateTime), @p143='?' (DbType = Guid), @p144='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p145='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p146='?' (Size = 3) (DbType = AnsiString), @p147='?' (DbType = Guid), @p148='?' (DbType = DateTime2), @p149='?' (Size = 30) (DbType = AnsiString), @p150='?' (DbType = Guid), @p151='?' (DbType = DateTime2), @p152='?' (DbType = Boolean), @p153='?' (DbType = Guid), @p154='?' (DbType = DateTime2), @p155='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Currencies] SET [Ask] = @p0, [Bid] = @p1, [Code] = @p2, [CratedBy] = @p3, [CreatedTime] = @p4, [CurrencyName] = @p5, [DeletedBy] = @p6, [DeletedTime] = @p7, [IsDeleted] = @p8, [ModifiedBy] = @p9, [ModifiedTime] = @p10, [TradingDate] = @p11
OUTPUT 1
WHERE [Id] = @p12;
UPDATE [Currencies] SET [Ask] = @p13, [Bid] = @p14, [Code] = @p15, [CratedBy] = @p16, [CreatedTime] = @p17, [CurrencyName] = @p18, [DeletedBy] = @p19, [DeletedTime] = @p20, [IsDeleted] = @p21, [ModifiedBy] = @p22, [ModifiedTime] = @p23, [TradingDate] = @p24
OUTPUT 1
WHERE [Id] = @p25;
UPDATE [Currencies] SET [Ask] = @p26, [Bid] = @p27, [Code] = @p28, [CratedBy] = @p29, [CreatedTime] = @p30, [CurrencyName] = @p31, [DeletedBy] = @p32, [DeletedTime] = @p33, [IsDeleted] = @p34, [ModifiedBy] = @p35, [ModifiedTime] = @p36, [TradingDate] = @p37
OUTPUT 1
WHERE [Id] = @p38;
UPDATE [Currencies] SET [Ask] = @p39, [Bid] = @p40, [Code] = @p41, [CratedBy] = @p42, [CreatedTime] = @p43, [CurrencyName] = @p44, [DeletedBy] = @p45, [DeletedTime] = @p46, [IsDeleted] = @p47, [ModifiedBy] = @p48, [ModifiedTime] = @p49, [TradingDate] = @p50
OUTPUT 1
WHERE [Id] = @p51;
UPDATE [Currencies] SET [Ask] = @p52, [Bid] = @p53, [Code] = @p54, [CratedBy] = @p55, [CreatedTime] = @p56, [CurrencyName] = @p57, [DeletedBy] = @p58, [DeletedTime] = @p59, [IsDeleted] = @p60, [ModifiedBy] = @p61, [ModifiedTime] = @p62, [TradingDate] = @p63
OUTPUT 1
WHERE [Id] = @p64;
UPDATE [Currencies] SET [Ask] = @p65, [Bid] = @p66, [Code] = @p67, [CratedBy] = @p68, [CreatedTime] = @p69, [CurrencyName] = @p70, [DeletedBy] = @p71, [DeletedTime] = @p72, [IsDeleted] = @p73, [ModifiedBy] = @p74, [ModifiedTime] = @p75, [TradingDate] = @p76
OUTPUT 1
WHERE [Id] = @p77;
UPDATE [Currencies] SET [Ask] = @p78, [Bid] = @p79, [Code] = @p80, [CratedBy] = @p81, [CreatedTime] = @p82, [CurrencyName] = @p83, [DeletedBy] = @p84, [DeletedTime] = @p85, [IsDeleted] = @p86, [ModifiedBy] = @p87, [ModifiedTime] = @p88, [TradingDate] = @p89
OUTPUT 1
WHERE [Id] = @p90;
UPDATE [Currencies] SET [Ask] = @p91, [Bid] = @p92, [Code] = @p93, [CratedBy] = @p94, [CreatedTime] = @p95, [CurrencyName] = @p96, [DeletedBy] = @p97, [DeletedTime] = @p98, [IsDeleted] = @p99, [ModifiedBy] = @p100, [ModifiedTime] = @p101, [TradingDate] = @p102
OUTPUT 1
WHERE [Id] = @p103;
INSERT INTO [Currencies] ([Id], [Ask], [Bid], [Code], [CratedBy], [CreatedTime], [CurrencyName], [DeletedBy], [DeletedTime], [IsDeleted], [ModifiedBy], [ModifiedTime], [TradingDate])
VALUES (@p104, @p105, @p106, @p107, @p108, @p109, @p110, @p111, @p112, @p113, @p114, @p115, @p116),
(@p117, @p118, @p119, @p120, @p121, @p122, @p123, @p124, @p125, @p126, @p127, @p128, @p129),
(@p130, @p131, @p132, @p133, @p134, @p135, @p136, @p137, @p138, @p139, @p140, @p141, @p142),
(@p143, @p144, @p145, @p146, @p147, @p148, @p149, @p150, @p151, @p152, @p153, @p154, @p155);
2023-11-11 22:37:49.636 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5238/api/account/register application/json 165
2023-11-11 22:37:49.676 +01:00 [WRN] Failed to determine the https port for redirect.
2023-11-11 22:37:49.715 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.AccountController.Register (WalletApp.Api)'
2023-11-11 22:37:49.727 +01:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult]] Register(WalletApp.Application.Account.Register.RegisterDto, System.Threading.CancellationToken) on controller WalletApp.Controllers.AccountController (WalletApp.Api).
2023-11-11 22:37:56.377 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IconType], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2023-11-11 22:37:56.568 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IconType], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-11-11 22:37:56.615 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Int32), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Guid), @p17='?' (DbType = Guid), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Guid), @p20='?' (DbType = DateTime2), @p21='?' (DbType = Boolean), @p22='?' (DbType = Guid), @p23='?' (DbType = DateTime2), @p24='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [IconType], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
INSERT INTO [AccountData] ([Id], [CratedBy], [CreatedTime], [DeletedBy], [DeletedTime], [IsDeleted], [ModifiedBy], [ModifiedTime], [UserIdentityId])
OUTPUT INSERTED.[ActualMoney]
VALUES (@p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24);
2023-11-11 22:37:56.637 +01:00 [INF] Executing OkObjectResult, writing value of type 'WalletApp.Application.Common.ApiResult'.
2023-11-11 22:37:56.655 +01:00 [INF] Executed action WalletApp.Controllers.AccountController.Register (WalletApp.Api) in 6922.5718ms
2023-11-11 22:37:56.658 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.AccountController.Register (WalletApp.Api)'
2023-11-11 22:37:56.667 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5238/api/account/register application/json 165 - 200 - application/json;+charset=utf-8 7032.4620ms
2023-11-11 22:38:26.099 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5238/api/account/authenticate application/json 74
2023-11-11 22:38:26.107 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.AccountController.Authentication (WalletApp.Api)'
2023-11-11 22:38:26.110 +01:00 [INF] Route matched with {action = "Authentication", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult`1[WalletApp.Application.Account.Authenticate.AuthenticateResponseDto]]] Authentication(WalletApp.Application.Account.Authenticate.AuthenticateDto, System.Threading.CancellationToken) on controller WalletApp.Controllers.AccountController (WalletApp.Api).
2023-11-11 22:38:35.411 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IconType], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-11-11 22:38:35.416 +01:00 [INF] Executing NotFoundObjectResult, writing value of type 'WalletApp.Application.Common.ApiResult`1[[WalletApp.Application.Account.Authenticate.AuthenticateResponseDto, WalletApp.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-11-11 22:38:35.419 +01:00 [INF] Executed action WalletApp.Controllers.AccountController.Authentication (WalletApp.Api) in 9307.6691ms
2023-11-11 22:38:35.421 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.AccountController.Authentication (WalletApp.Api)'
2023-11-11 22:38:35.422 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5238/api/account/authenticate application/json 74 - 404 - application/json;+charset=utf-8 9322.5733ms
2023-11-11 22:43:06.438 +01:00 [INF] User profile is available. Using 'C:\Users\maste\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-11-11 22:43:06.585 +01:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2023-11-11 22:43:06.586 +01:00 [INF] Quartz Scheduler created
2023-11-11 22:43:06.587 +01:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2023-11-11 22:43:06.588 +01:00 [INF] RAMJobStore initialized.
2023-11-11 22:43:06.589 +01:00 [INF] Quartz Scheduler 3.7.0.0 - 'QuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2023-11-11 22:43:06.590 +01:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2023-11-11 22:43:06.591 +01:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2023-11-11 22:43:06.600 +01:00 [INF] Adding 1 jobs, 1 triggers.
2023-11-11 22:43:06.606 +01:00 [INF] Adding job: DEFAULT.NBP
2023-11-11 22:43:06.682 +01:00 [INF] Now listening on: http://localhost:5238
2023-11-11 22:43:06.683 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-11 22:43:06.688 +01:00 [INF] Hosting environment: Development
2023-11-11 22:43:06.689 +01:00 [INF] Content root path: C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api
2023-11-11 22:43:06.692 +01:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2023-11-11 22:43:06.856 +01:00 [INF] Start processing HTTP request GET http://api.nbp.pl/api/exchangerates/tables/c
2023-11-11 22:43:06.859 +01:00 [INF] Sending HTTP request GET http://api.nbp.pl/api/exchangerates/tables/c
2023-11-11 22:43:06.988 +01:00 [INF] Received HTTP response headers after 125.6401ms - 200
2023-11-11 22:43:06.993 +01:00 [INF] End processing HTTP request after 141.5819ms - 200
2023-11-11 22:43:08.195 +01:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Ask], [c].[Bid], [c].[Code], [c].[CratedBy], [c].[CreatedTime], [c].[CurrencyName], [c].[DeletedBy], [c].[DeletedTime], [c].[IsDeleted], [c].[ModifiedBy], [c].[ModifiedTime], [c].[TradingDate]
FROM [Currencies] AS [c]
2023-11-11 22:43:08.465 +01:00 [INF] Executed DbCommand (43ms) [Parameters=[@p12='?' (DbType = Guid), @p0='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p1='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p2='?' (Size = 3) (DbType = AnsiString), @p3='?' (DbType = Guid), @p4='?' (DbType = DateTime2), @p5='?' (Size = 30) (DbType = AnsiString), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = Guid), @p10='?' (DbType = DateTime2), @p11='?' (DbType = DateTime), @p25='?' (DbType = Guid), @p13='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p14='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p15='?' (Size = 3) (DbType = AnsiString), @p16='?' (DbType = Guid), @p17='?' (DbType = DateTime2), @p18='?' (Size = 30) (DbType = AnsiString), @p19='?' (DbType = Guid), @p20='?' (DbType = DateTime2), @p21='?' (DbType = Boolean), @p22='?' (DbType = Guid), @p23='?' (DbType = DateTime2), @p24='?' (DbType = DateTime), @p38='?' (DbType = Guid), @p26='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p27='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p28='?' (Size = 3) (DbType = AnsiString), @p29='?' (DbType = Guid), @p30='?' (DbType = DateTime2), @p31='?' (Size = 30) (DbType = AnsiString), @p32='?' (DbType = Guid), @p33='?' (DbType = DateTime2), @p34='?' (DbType = Boolean), @p35='?' (DbType = Guid), @p36='?' (DbType = DateTime2), @p37='?' (DbType = DateTime), @p51='?' (DbType = Guid), @p39='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p40='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p41='?' (Size = 3) (DbType = AnsiString), @p42='?' (DbType = Guid), @p43='?' (DbType = DateTime2), @p44='?' (Size = 30) (DbType = AnsiString), @p45='?' (DbType = Guid), @p46='?' (DbType = DateTime2), @p47='?' (DbType = Boolean), @p48='?' (DbType = Guid), @p49='?' (DbType = DateTime2), @p50='?' (DbType = DateTime), @p64='?' (DbType = Guid), @p52='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p53='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p54='?' (Size = 3) (DbType = AnsiString), @p55='?' (DbType = Guid), @p56='?' (DbType = DateTime2), @p57='?' (Size = 30) (DbType = AnsiString), @p58='?' (DbType = Guid), @p59='?' (DbType = DateTime2), @p60='?' (DbType = Boolean), @p61='?' (DbType = Guid), @p62='?' (DbType = DateTime2), @p63='?' (DbType = DateTime), @p77='?' (DbType = Guid), @p65='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p66='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p67='?' (Size = 3) (DbType = AnsiString), @p68='?' (DbType = Guid), @p69='?' (DbType = DateTime2), @p70='?' (Size = 30) (DbType = AnsiString), @p71='?' (DbType = Guid), @p72='?' (DbType = DateTime2), @p73='?' (DbType = Boolean), @p74='?' (DbType = Guid), @p75='?' (DbType = DateTime2), @p76='?' (DbType = DateTime), @p90='?' (DbType = Guid), @p78='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p79='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p80='?' (Size = 3) (DbType = AnsiString), @p81='?' (DbType = Guid), @p82='?' (DbType = DateTime2), @p83='?' (Size = 30) (DbType = AnsiString), @p84='?' (DbType = Guid), @p85='?' (DbType = DateTime2), @p86='?' (DbType = Boolean), @p87='?' (DbType = Guid), @p88='?' (DbType = DateTime2), @p89='?' (DbType = DateTime), @p103='?' (DbType = Guid), @p91='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p92='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p93='?' (Size = 3) (DbType = AnsiString), @p94='?' (DbType = Guid), @p95='?' (DbType = DateTime2), @p96='?' (Size = 30) (DbType = AnsiString), @p97='?' (DbType = Guid), @p98='?' (DbType = DateTime2), @p99='?' (DbType = Boolean), @p100='?' (DbType = Guid), @p101='?' (DbType = DateTime2), @p102='?' (DbType = DateTime), @p116='?' (DbType = Guid), @p104='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p105='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p106='?' (Size = 3) (DbType = AnsiString), @p107='?' (DbType = Guid), @p108='?' (DbType = DateTime2), @p109='?' (Size = 30) (DbType = AnsiString), @p110='?' (DbType = Guid), @p111='?' (DbType = DateTime2), @p112='?' (DbType = Boolean), @p113='?' (DbType = Guid), @p114='?' (DbType = DateTime2), @p115='?' (DbType = DateTime), @p129='?' (DbType = Guid), @p117='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p118='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p119='?' (Size = 3) (DbType = AnsiString), @p120='?' (DbType = Guid), @p121='?' (DbType = DateTime2), @p122='?' (Size = 30) (DbType = AnsiString), @p123='?' (DbType = Guid), @p124='?' (DbType = DateTime2), @p125='?' (DbType = Boolean), @p126='?' (DbType = Guid), @p127='?' (DbType = DateTime2), @p128='?' (DbType = DateTime), @p142='?' (DbType = Guid), @p130='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p131='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p132='?' (Size = 3) (DbType = AnsiString), @p133='?' (DbType = Guid), @p134='?' (DbType = DateTime2), @p135='?' (Size = 30) (DbType = AnsiString), @p136='?' (DbType = Guid), @p137='?' (DbType = DateTime2), @p138='?' (DbType = Boolean), @p139='?' (DbType = Guid), @p140='?' (DbType = DateTime2), @p141='?' (DbType = DateTime), @p155='?' (DbType = Guid), @p143='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p144='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p145='?' (Size = 3) (DbType = AnsiString), @p146='?' (DbType = Guid), @p147='?' (DbType = DateTime2), @p148='?' (Size = 30) (DbType = AnsiString), @p149='?' (DbType = Guid), @p150='?' (DbType = DateTime2), @p151='?' (DbType = Boolean), @p152='?' (DbType = Guid), @p153='?' (DbType = DateTime2), @p154='?' (DbType = DateTime), @p156='?' (DbType = Guid), @p157='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p158='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p159='?' (Size = 3) (DbType = AnsiString), @p160='?' (DbType = Guid), @p161='?' (DbType = DateTime2), @p162='?' (Size = 30) (DbType = AnsiString), @p163='?' (DbType = Guid), @p164='?' (DbType = DateTime2), @p165='?' (DbType = Boolean), @p166='?' (DbType = Guid), @p167='?' (DbType = DateTime2), @p168='?' (DbType = DateTime), @p169='?' (DbType = Guid), @p170='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p171='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p172='?' (Size = 3) (DbType = AnsiString), @p173='?' (DbType = Guid), @p174='?' (DbType = DateTime2), @p175='?' (Size = 30) (DbType = AnsiString), @p176='?' (DbType = Guid), @p177='?' (DbType = DateTime2), @p178='?' (DbType = Boolean), @p179='?' (DbType = Guid), @p180='?' (DbType = DateTime2), @p181='?' (DbType = DateTime), @p182='?' (DbType = Guid), @p183='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p184='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p185='?' (Size = 3) (DbType = AnsiString), @p186='?' (DbType = Guid), @p187='?' (DbType = DateTime2), @p188='?' (Size = 30) (DbType = AnsiString), @p189='?' (DbType = Guid), @p190='?' (DbType = DateTime2), @p191='?' (DbType = Boolean), @p192='?' (DbType = Guid), @p193='?' (DbType = DateTime2), @p194='?' (DbType = DateTime), @p195='?' (DbType = Guid), @p196='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p197='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p198='?' (Size = 3) (DbType = AnsiString), @p199='?' (DbType = Guid), @p200='?' (DbType = DateTime2), @p201='?' (Size = 30) (DbType = AnsiString), @p202='?' (DbType = Guid), @p203='?' (DbType = DateTime2), @p204='?' (DbType = Boolean), @p205='?' (DbType = Guid), @p206='?' (DbType = DateTime2), @p207='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Currencies] SET [Ask] = @p0, [Bid] = @p1, [Code] = @p2, [CratedBy] = @p3, [CreatedTime] = @p4, [CurrencyName] = @p5, [DeletedBy] = @p6, [DeletedTime] = @p7, [IsDeleted] = @p8, [ModifiedBy] = @p9, [ModifiedTime] = @p10, [TradingDate] = @p11
OUTPUT 1
WHERE [Id] = @p12;
UPDATE [Currencies] SET [Ask] = @p13, [Bid] = @p14, [Code] = @p15, [CratedBy] = @p16, [CreatedTime] = @p17, [CurrencyName] = @p18, [DeletedBy] = @p19, [DeletedTime] = @p20, [IsDeleted] = @p21, [ModifiedBy] = @p22, [ModifiedTime] = @p23, [TradingDate] = @p24
OUTPUT 1
WHERE [Id] = @p25;
UPDATE [Currencies] SET [Ask] = @p26, [Bid] = @p27, [Code] = @p28, [CratedBy] = @p29, [CreatedTime] = @p30, [CurrencyName] = @p31, [DeletedBy] = @p32, [DeletedTime] = @p33, [IsDeleted] = @p34, [ModifiedBy] = @p35, [ModifiedTime] = @p36, [TradingDate] = @p37
OUTPUT 1
WHERE [Id] = @p38;
UPDATE [Currencies] SET [Ask] = @p39, [Bid] = @p40, [Code] = @p41, [CratedBy] = @p42, [CreatedTime] = @p43, [CurrencyName] = @p44, [DeletedBy] = @p45, [DeletedTime] = @p46, [IsDeleted] = @p47, [ModifiedBy] = @p48, [ModifiedTime] = @p49, [TradingDate] = @p50
OUTPUT 1
WHERE [Id] = @p51;
UPDATE [Currencies] SET [Ask] = @p52, [Bid] = @p53, [Code] = @p54, [CratedBy] = @p55, [CreatedTime] = @p56, [CurrencyName] = @p57, [DeletedBy] = @p58, [DeletedTime] = @p59, [IsDeleted] = @p60, [ModifiedBy] = @p61, [ModifiedTime] = @p62, [TradingDate] = @p63
OUTPUT 1
WHERE [Id] = @p64;
UPDATE [Currencies] SET [Ask] = @p65, [Bid] = @p66, [Code] = @p67, [CratedBy] = @p68, [CreatedTime] = @p69, [CurrencyName] = @p70, [DeletedBy] = @p71, [DeletedTime] = @p72, [IsDeleted] = @p73, [ModifiedBy] = @p74, [ModifiedTime] = @p75, [TradingDate] = @p76
OUTPUT 1
WHERE [Id] = @p77;
UPDATE [Currencies] SET [Ask] = @p78, [Bid] = @p79, [Code] = @p80, [CratedBy] = @p81, [CreatedTime] = @p82, [CurrencyName] = @p83, [DeletedBy] = @p84, [DeletedTime] = @p85, [IsDeleted] = @p86, [ModifiedBy] = @p87, [ModifiedTime] = @p88, [TradingDate] = @p89
OUTPUT 1
WHERE [Id] = @p90;
UPDATE [Currencies] SET [Ask] = @p91, [Bid] = @p92, [Code] = @p93, [CratedBy] = @p94, [CreatedTime] = @p95, [CurrencyName] = @p96, [DeletedBy] = @p97, [DeletedTime] = @p98, [IsDeleted] = @p99, [ModifiedBy] = @p100, [ModifiedTime] = @p101, [TradingDate] = @p102
OUTPUT 1
WHERE [Id] = @p103;
UPDATE [Currencies] SET [Ask] = @p104, [Bid] = @p105, [Code] = @p106, [CratedBy] = @p107, [CreatedTime] = @p108, [CurrencyName] = @p109, [DeletedBy] = @p110, [DeletedTime] = @p111, [IsDeleted] = @p112, [ModifiedBy] = @p113, [ModifiedTime] = @p114, [TradingDate] = @p115
OUTPUT 1
WHERE [Id] = @p116;
UPDATE [Currencies] SET [Ask] = @p117, [Bid] = @p118, [Code] = @p119, [CratedBy] = @p120, [CreatedTime] = @p121, [CurrencyName] = @p122, [DeletedBy] = @p123, [DeletedTime] = @p124, [IsDeleted] = @p125, [ModifiedBy] = @p126, [ModifiedTime] = @p127, [TradingDate] = @p128
OUTPUT 1
WHERE [Id] = @p129;
UPDATE [Currencies] SET [Ask] = @p130, [Bid] = @p131, [Code] = @p132, [CratedBy] = @p133, [CreatedTime] = @p134, [CurrencyName] = @p135, [DeletedBy] = @p136, [DeletedTime] = @p137, [IsDeleted] = @p138, [ModifiedBy] = @p139, [ModifiedTime] = @p140, [TradingDate] = @p141
OUTPUT 1
WHERE [Id] = @p142;
UPDATE [Currencies] SET [Ask] = @p143, [Bid] = @p144, [Code] = @p145, [CratedBy] = @p146, [CreatedTime] = @p147, [CurrencyName] = @p148, [DeletedBy] = @p149, [DeletedTime] = @p150, [IsDeleted] = @p151, [ModifiedBy] = @p152, [ModifiedTime] = @p153, [TradingDate] = @p154
OUTPUT 1
WHERE [Id] = @p155;
INSERT INTO [Currencies] ([Id], [Ask], [Bid], [Code], [CratedBy], [CreatedTime], [CurrencyName], [DeletedBy], [DeletedTime], [IsDeleted], [ModifiedBy], [ModifiedTime], [TradingDate])
VALUES (@p156, @p157, @p158, @p159, @p160, @p161, @p162, @p163, @p164, @p165, @p166, @p167, @p168),
(@p169, @p170, @p171, @p172, @p173, @p174, @p175, @p176, @p177, @p178, @p179, @p180, @p181),
(@p182, @p183, @p184, @p185, @p186, @p187, @p188, @p189, @p190, @p191, @p192, @p193, @p194),
(@p195, @p196, @p197, @p198, @p199, @p200, @p201, @p202, @p203, @p204, @p205, @p206, @p207);
2023-11-11 22:43:13.195 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5238/api/account/authenticate application/json 67
2023-11-11 22:43:13.236 +01:00 [WRN] Failed to determine the https port for redirect.
2023-11-11 22:43:13.281 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.AccountController.Authentication (WalletApp.Api)'
2023-11-11 22:43:13.295 +01:00 [INF] Route matched with {action = "Authentication", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult`1[WalletApp.Application.Account.Authenticate.AuthenticateResponseDto]]] Authentication(WalletApp.Application.Account.Authenticate.AuthenticateDto, System.Threading.CancellationToken) on controller WalletApp.Controllers.AccountController (WalletApp.Api).
2023-11-11 22:43:13.344 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2023-11-11 22:43:13.354 +01:00 [INF] Executed action WalletApp.Controllers.AccountController.Authentication (WalletApp.Api) in 53.722ms
2023-11-11 22:43:13.356 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.AccountController.Authentication (WalletApp.Api)'
2023-11-11 22:43:13.358 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5238/api/account/authenticate application/json 67 - 400 - application/problem+json;+charset=utf-8 165.2148ms
2023-11-11 22:44:10.749 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5238/api/account/authenticate application/json 67
2023-11-11 22:44:10.753 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.AccountController.Authentication (WalletApp.Api)'
2023-11-11 22:44:10.755 +01:00 [INF] Route matched with {action = "Authentication", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult`1[WalletApp.Application.Account.Authenticate.AuthenticateResponseDto]]] Authentication(WalletApp.Application.Account.Authenticate.AuthenticateDto, System.Threading.CancellationToken) on controller WalletApp.Controllers.AccountController (WalletApp.Api).
2023-11-11 22:44:10.759 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2023-11-11 22:44:10.760 +01:00 [INF] Executed action WalletApp.Controllers.AccountController.Authentication (WalletApp.Api) in 3.6498ms
2023-11-11 22:44:10.761 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.AccountController.Authentication (WalletApp.Api)'
2023-11-11 22:44:10.762 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5238/api/account/authenticate application/json 67 - 400 - application/problem+json;+charset=utf-8 12.9798ms
2023-11-11 22:45:17.475 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5238/api/account/authenticate application/json 67
2023-11-11 22:45:17.480 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.AccountController.Authentication (WalletApp.Api)'
2023-11-11 22:45:17.481 +01:00 [INF] Route matched with {action = "Authentication", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult`1[WalletApp.Application.Account.Authenticate.AuthenticateResponseDto]]] Authentication(WalletApp.Application.Account.Authenticate.AuthenticateDto, System.Threading.CancellationToken) on controller WalletApp.Controllers.AccountController (WalletApp.Api).
2023-11-11 22:45:17.483 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2023-11-11 22:45:17.484 +01:00 [INF] Executed action WalletApp.Controllers.AccountController.Authentication (WalletApp.Api) in 1.6255ms
2023-11-11 22:45:17.485 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.AccountController.Authentication (WalletApp.Api)'
2023-11-11 22:45:17.486 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5238/api/account/authenticate application/json 67 - 400 - application/problem+json;+charset=utf-8 11.1426ms
2023-11-11 22:45:56.648 +01:00 [INF] User profile is available. Using 'C:\Users\maste\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-11-11 22:45:56.791 +01:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2023-11-11 22:45:56.792 +01:00 [INF] Quartz Scheduler created
2023-11-11 22:45:56.794 +01:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2023-11-11 22:45:56.795 +01:00 [INF] RAMJobStore initialized.
2023-11-11 22:45:56.797 +01:00 [INF] Quartz Scheduler 3.7.0.0 - 'QuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2023-11-11 22:45:56.806 +01:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2023-11-11 22:45:56.809 +01:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2023-11-11 22:45:56.821 +01:00 [INF] Adding 1 jobs, 1 triggers.
2023-11-11 22:45:56.826 +01:00 [INF] Adding job: DEFAULT.NBP
2023-11-11 22:45:56.916 +01:00 [INF] Now listening on: http://localhost:5238
2023-11-11 22:45:56.918 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-11 22:45:56.923 +01:00 [INF] Hosting environment: Development
2023-11-11 22:45:56.924 +01:00 [INF] Content root path: C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api
2023-11-11 22:45:56.926 +01:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2023-11-11 22:45:57.123 +01:00 [INF] Start processing HTTP request GET http://api.nbp.pl/api/exchangerates/tables/c
2023-11-11 22:45:57.125 +01:00 [INF] Sending HTTP request GET http://api.nbp.pl/api/exchangerates/tables/c
2023-11-11 22:45:57.252 +01:00 [INF] Received HTTP response headers after 123.5215ms - 200
2023-11-11 22:45:57.256 +01:00 [INF] End processing HTTP request after 137.6376ms - 200
2023-11-11 22:45:58.592 +01:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Ask], [c].[Bid], [c].[Code], [c].[CratedBy], [c].[CreatedTime], [c].[CurrencyName], [c].[DeletedBy], [c].[DeletedTime], [c].[IsDeleted], [c].[ModifiedBy], [c].[ModifiedTime], [c].[TradingDate]
FROM [Currencies] AS [c]
2023-11-11 22:45:58.870 +01:00 [INF] Executed DbCommand (53ms) [Parameters=[@p12='?' (DbType = Guid), @p0='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p1='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p2='?' (Size = 3) (DbType = AnsiString), @p3='?' (DbType = Guid), @p4='?' (DbType = DateTime2), @p5='?' (Size = 30) (DbType = AnsiString), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = Guid), @p10='?' (DbType = DateTime2), @p11='?' (DbType = DateTime), @p25='?' (DbType = Guid), @p13='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p14='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p15='?' (Size = 3) (DbType = AnsiString), @p16='?' (DbType = Guid), @p17='?' (DbType = DateTime2), @p18='?' (Size = 30) (DbType = AnsiString), @p19='?' (DbType = Guid), @p20='?' (DbType = DateTime2), @p21='?' (DbType = Boolean), @p22='?' (DbType = Guid), @p23='?' (DbType = DateTime2), @p24='?' (DbType = DateTime), @p38='?' (DbType = Guid), @p26='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p27='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p28='?' (Size = 3) (DbType = AnsiString), @p29='?' (DbType = Guid), @p30='?' (DbType = DateTime2), @p31='?' (Size = 30) (DbType = AnsiString), @p32='?' (DbType = Guid), @p33='?' (DbType = DateTime2), @p34='?' (DbType = Boolean), @p35='?' (DbType = Guid), @p36='?' (DbType = DateTime2), @p37='?' (DbType = DateTime), @p51='?' (DbType = Guid), @p39='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p40='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p41='?' (Size = 3) (DbType = AnsiString), @p42='?' (DbType = Guid), @p43='?' (DbType = DateTime2), @p44='?' (Size = 30) (DbType = AnsiString), @p45='?' (DbType = Guid), @p46='?' (DbType = DateTime2), @p47='?' (DbType = Boolean), @p48='?' (DbType = Guid), @p49='?' (DbType = DateTime2), @p50='?' (DbType = DateTime), @p64='?' (DbType = Guid), @p52='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p53='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p54='?' (Size = 3) (DbType = AnsiString), @p55='?' (DbType = Guid), @p56='?' (DbType = DateTime2), @p57='?' (Size = 30) (DbType = AnsiString), @p58='?' (DbType = Guid), @p59='?' (DbType = DateTime2), @p60='?' (DbType = Boolean), @p61='?' (DbType = Guid), @p62='?' (DbType = DateTime2), @p63='?' (DbType = DateTime), @p77='?' (DbType = Guid), @p65='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p66='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p67='?' (Size = 3) (DbType = AnsiString), @p68='?' (DbType = Guid), @p69='?' (DbType = DateTime2), @p70='?' (Size = 30) (DbType = AnsiString), @p71='?' (DbType = Guid), @p72='?' (DbType = DateTime2), @p73='?' (DbType = Boolean), @p74='?' (DbType = Guid), @p75='?' (DbType = DateTime2), @p76='?' (DbType = DateTime), @p90='?' (DbType = Guid), @p78='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p79='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p80='?' (Size = 3) (DbType = AnsiString), @p81='?' (DbType = Guid), @p82='?' (DbType = DateTime2), @p83='?' (Size = 30) (DbType = AnsiString), @p84='?' (DbType = Guid), @p85='?' (DbType = DateTime2), @p86='?' (DbType = Boolean), @p87='?' (DbType = Guid), @p88='?' (DbType = DateTime2), @p89='?' (DbType = DateTime), @p103='?' (DbType = Guid), @p91='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p92='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p93='?' (Size = 3) (DbType = AnsiString), @p94='?' (DbType = Guid), @p95='?' (DbType = DateTime2), @p96='?' (Size = 30) (DbType = AnsiString), @p97='?' (DbType = Guid), @p98='?' (DbType = DateTime2), @p99='?' (DbType = Boolean), @p100='?' (DbType = Guid), @p101='?' (DbType = DateTime2), @p102='?' (DbType = DateTime), @p116='?' (DbType = Guid), @p104='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p105='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p106='?' (Size = 3) (DbType = AnsiString), @p107='?' (DbType = Guid), @p108='?' (DbType = DateTime2), @p109='?' (Size = 30) (DbType = AnsiString), @p110='?' (DbType = Guid), @p111='?' (DbType = DateTime2), @p112='?' (DbType = Boolean), @p113='?' (DbType = Guid), @p114='?' (DbType = DateTime2), @p115='?' (DbType = DateTime), @p129='?' (DbType = Guid), @p117='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p118='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p119='?' (Size = 3) (DbType = AnsiString), @p120='?' (DbType = Guid), @p121='?' (DbType = DateTime2), @p122='?' (Size = 30) (DbType = AnsiString), @p123='?' (DbType = Guid), @p124='?' (DbType = DateTime2), @p125='?' (DbType = Boolean), @p126='?' (DbType = Guid), @p127='?' (DbType = DateTime2), @p128='?' (DbType = DateTime), @p142='?' (DbType = Guid), @p130='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p131='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p132='?' (Size = 3) (DbType = AnsiString), @p133='?' (DbType = Guid), @p134='?' (DbType = DateTime2), @p135='?' (Size = 30) (DbType = AnsiString), @p136='?' (DbType = Guid), @p137='?' (DbType = DateTime2), @p138='?' (DbType = Boolean), @p139='?' (DbType = Guid), @p140='?' (DbType = DateTime2), @p141='?' (DbType = DateTime), @p155='?' (DbType = Guid), @p143='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p144='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p145='?' (Size = 3) (DbType = AnsiString), @p146='?' (DbType = Guid), @p147='?' (DbType = DateTime2), @p148='?' (Size = 30) (DbType = AnsiString), @p149='?' (DbType = Guid), @p150='?' (DbType = DateTime2), @p151='?' (DbType = Boolean), @p152='?' (DbType = Guid), @p153='?' (DbType = DateTime2), @p154='?' (DbType = DateTime), @p168='?' (DbType = Guid), @p156='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p157='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p158='?' (Size = 3) (DbType = AnsiString), @p159='?' (DbType = Guid), @p160='?' (DbType = DateTime2), @p161='?' (Size = 30) (DbType = AnsiString), @p162='?' (DbType = Guid), @p163='?' (DbType = DateTime2), @p164='?' (DbType = Boolean), @p165='?' (DbType = Guid), @p166='?' (DbType = DateTime2), @p167='?' (DbType = DateTime), @p181='?' (DbType = Guid), @p169='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p170='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p171='?' (Size = 3) (DbType = AnsiString), @p172='?' (DbType = Guid), @p173='?' (DbType = DateTime2), @p174='?' (Size = 30) (DbType = AnsiString), @p175='?' (DbType = Guid), @p176='?' (DbType = DateTime2), @p177='?' (DbType = Boolean), @p178='?' (DbType = Guid), @p179='?' (DbType = DateTime2), @p180='?' (DbType = DateTime), @p194='?' (DbType = Guid), @p182='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p183='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p184='?' (Size = 3) (DbType = AnsiString), @p185='?' (DbType = Guid), @p186='?' (DbType = DateTime2), @p187='?' (Size = 30) (DbType = AnsiString), @p188='?' (DbType = Guid), @p189='?' (DbType = DateTime2), @p190='?' (DbType = Boolean), @p191='?' (DbType = Guid), @p192='?' (DbType = DateTime2), @p193='?' (DbType = DateTime), @p207='?' (DbType = Guid), @p195='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p196='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p197='?' (Size = 3) (DbType = AnsiString), @p198='?' (DbType = Guid), @p199='?' (DbType = DateTime2), @p200='?' (Size = 30) (DbType = AnsiString), @p201='?' (DbType = Guid), @p202='?' (DbType = DateTime2), @p203='?' (DbType = Boolean), @p204='?' (DbType = Guid), @p205='?' (DbType = DateTime2), @p206='?' (DbType = DateTime), @p208='?' (DbType = Guid), @p209='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p210='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p211='?' (Size = 3) (DbType = AnsiString), @p212='?' (DbType = Guid), @p213='?' (DbType = DateTime2), @p214='?' (Size = 30) (DbType = AnsiString), @p215='?' (DbType = Guid), @p216='?' (DbType = DateTime2), @p217='?' (DbType = Boolean), @p218='?' (DbType = Guid), @p219='?' (DbType = DateTime2), @p220='?' (DbType = DateTime), @p221='?' (DbType = Guid), @p222='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p223='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p224='?' (Size = 3) (DbType = AnsiString), @p225='?' (DbType = Guid), @p226='?' (DbType = DateTime2), @p227='?' (Size = 30) (DbType = AnsiString), @p228='?' (DbType = Guid), @p229='?' (DbType = DateTime2), @p230='?' (DbType = Boolean), @p231='?' (DbType = Guid), @p232='?' (DbType = DateTime2), @p233='?' (DbType = DateTime), @p234='?' (DbType = Guid), @p235='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p236='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p237='?' (Size = 3) (DbType = AnsiString), @p238='?' (DbType = Guid), @p239='?' (DbType = DateTime2), @p240='?' (Size = 30) (DbType = AnsiString), @p241='?' (DbType = Guid), @p242='?' (DbType = DateTime2), @p243='?' (DbType = Boolean), @p244='?' (DbType = Guid), @p245='?' (DbType = DateTime2), @p246='?' (DbType = DateTime), @p247='?' (DbType = Guid), @p248='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p249='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p250='?' (Size = 3) (DbType = AnsiString), @p251='?' (DbType = Guid), @p252='?' (DbType = DateTime2), @p253='?' (Size = 30) (DbType = AnsiString), @p254='?' (DbType = Guid), @p255='?' (DbType = DateTime2), @p256='?' (DbType = Boolean), @p257='?' (DbType = Guid), @p258='?' (DbType = DateTime2), @p259='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Currencies] SET [Ask] = @p0, [Bid] = @p1, [Code] = @p2, [CratedBy] = @p3, [CreatedTime] = @p4, [CurrencyName] = @p5, [DeletedBy] = @p6, [DeletedTime] = @p7, [IsDeleted] = @p8, [ModifiedBy] = @p9, [ModifiedTime] = @p10, [TradingDate] = @p11
OUTPUT 1
WHERE [Id] = @p12;
UPDATE [Currencies] SET [Ask] = @p13, [Bid] = @p14, [Code] = @p15, [CratedBy] = @p16, [CreatedTime] = @p17, [CurrencyName] = @p18, [DeletedBy] = @p19, [DeletedTime] = @p20, [IsDeleted] = @p21, [ModifiedBy] = @p22, [ModifiedTime] = @p23, [TradingDate] = @p24
OUTPUT 1
WHERE [Id] = @p25;
UPDATE [Currencies] SET [Ask] = @p26, [Bid] = @p27, [Code] = @p28, [CratedBy] = @p29, [CreatedTime] = @p30, [CurrencyName] = @p31, [DeletedBy] = @p32, [DeletedTime] = @p33, [IsDeleted] = @p34, [ModifiedBy] = @p35, [ModifiedTime] = @p36, [TradingDate] = @p37
OUTPUT 1
WHERE [Id] = @p38;
UPDATE [Currencies] SET [Ask] = @p39, [Bid] = @p40, [Code] = @p41, [CratedBy] = @p42, [CreatedTime] = @p43, [CurrencyName] = @p44, [DeletedBy] = @p45, [DeletedTime] = @p46, [IsDeleted] = @p47, [ModifiedBy] = @p48, [ModifiedTime] = @p49, [TradingDate] = @p50
OUTPUT 1
WHERE [Id] = @p51;
UPDATE [Currencies] SET [Ask] = @p52, [Bid] = @p53, [Code] = @p54, [CratedBy] = @p55, [CreatedTime] = @p56, [CurrencyName] = @p57, [DeletedBy] = @p58, [DeletedTime] = @p59, [IsDeleted] = @p60, [ModifiedBy] = @p61, [ModifiedTime] = @p62, [TradingDate] = @p63
OUTPUT 1
WHERE [Id] = @p64;
UPDATE [Currencies] SET [Ask] = @p65, [Bid] = @p66, [Code] = @p67, [CratedBy] = @p68, [CreatedTime] = @p69, [CurrencyName] = @p70, [DeletedBy] = @p71, [DeletedTime] = @p72, [IsDeleted] = @p73, [ModifiedBy] = @p74, [ModifiedTime] = @p75, [TradingDate] = @p76
OUTPUT 1
WHERE [Id] = @p77;
UPDATE [Currencies] SET [Ask] = @p78, [Bid] = @p79, [Code] = @p80, [CratedBy] = @p81, [CreatedTime] = @p82, [CurrencyName] = @p83, [DeletedBy] = @p84, [DeletedTime] = @p85, [IsDeleted] = @p86, [ModifiedBy] = @p87, [ModifiedTime] = @p88, [TradingDate] = @p89
OUTPUT 1
WHERE [Id] = @p90;
UPDATE [Currencies] SET [Ask] = @p91, [Bid] = @p92, [Code] = @p93, [CratedBy] = @p94, [CreatedTime] = @p95, [CurrencyName] = @p96, [DeletedBy] = @p97, [DeletedTime] = @p98, [IsDeleted] = @p99, [ModifiedBy] = @p100, [ModifiedTime] = @p101, [TradingDate] = @p102
OUTPUT 1
WHERE [Id] = @p103;
UPDATE [Currencies] SET [Ask] = @p104, [Bid] = @p105, [Code] = @p106, [CratedBy] = @p107, [CreatedTime] = @p108, [CurrencyName] = @p109, [DeletedBy] = @p110, [DeletedTime] = @p111, [IsDeleted] = @p112, [ModifiedBy] = @p113, [ModifiedTime] = @p114, [TradingDate] = @p115
OUTPUT 1
WHERE [Id] = @p116;
UPDATE [Currencies] SET [Ask] = @p117, [Bid] = @p118, [Code] = @p119, [CratedBy] = @p120, [CreatedTime] = @p121, [CurrencyName] = @p122, [DeletedBy] = @p123, [DeletedTime] = @p124, [IsDeleted] = @p125, [ModifiedBy] = @p126, [ModifiedTime] = @p127, [TradingDate] = @p128
OUTPUT 1
WHERE [Id] = @p129;
UPDATE [Currencies] SET [Ask] = @p130, [Bid] = @p131, [Code] = @p132, [CratedBy] = @p133, [CreatedTime] = @p134, [CurrencyName] = @p135, [DeletedBy] = @p136, [DeletedTime] = @p137, [IsDeleted] = @p138, [ModifiedBy] = @p139, [ModifiedTime] = @p140, [TradingDate] = @p141
OUTPUT 1
WHERE [Id] = @p142;
UPDATE [Currencies] SET [Ask] = @p143, [Bid] = @p144, [Code] = @p145, [CratedBy] = @p146, [CreatedTime] = @p147, [CurrencyName] = @p148, [DeletedBy] = @p149, [DeletedTime] = @p150, [IsDeleted] = @p151, [ModifiedBy] = @p152, [ModifiedTime] = @p153, [TradingDate] = @p154
OUTPUT 1
WHERE [Id] = @p155;
UPDATE [Currencies] SET [Ask] = @p156, [Bid] = @p157, [Code] = @p158, [CratedBy] = @p159, [CreatedTime] = @p160, [CurrencyName] = @p161, [DeletedBy] = @p162, [DeletedTime] = @p163, [IsDeleted] = @p164, [ModifiedBy] = @p165, [ModifiedTime] = @p166, [TradingDate] = @p167
OUTPUT 1
WHERE [Id] = @p168;
UPDATE [Currencies] SET [Ask] = @p169, [Bid] = @p170, [Code] = @p171, [CratedBy] = @p172, [CreatedTime] = @p173, [CurrencyName] = @p174, [DeletedBy] = @p175, [DeletedTime] = @p176, [IsDeleted] = @p177, [ModifiedBy] = @p178, [ModifiedTime] = @p179, [TradingDate] = @p180
OUTPUT 1
WHERE [Id] = @p181;
UPDATE [Currencies] SET [Ask] = @p182, [Bid] = @p183, [Code] = @p184, [CratedBy] = @p185, [CreatedTime] = @p186, [CurrencyName] = @p187, [DeletedBy] = @p188, [DeletedTime] = @p189, [IsDeleted] = @p190, [ModifiedBy] = @p191, [ModifiedTime] = @p192, [TradingDate] = @p193
OUTPUT 1
WHERE [Id] = @p194;
UPDATE [Currencies] SET [Ask] = @p195, [Bid] = @p196, [Code] = @p197, [CratedBy] = @p198, [CreatedTime] = @p199, [CurrencyName] = @p200, [DeletedBy] = @p201, [DeletedTime] = @p202, [IsDeleted] = @p203, [ModifiedBy] = @p204, [ModifiedTime] = @p205, [TradingDate] = @p206
OUTPUT 1
WHERE [Id] = @p207;
INSERT INTO [Currencies] ([Id], [Ask], [Bid], [Code], [CratedBy], [CreatedTime], [CurrencyName], [DeletedBy], [DeletedTime], [IsDeleted], [ModifiedBy], [ModifiedTime], [TradingDate])
VALUES (@p208, @p209, @p210, @p211, @p212, @p213, @p214, @p215, @p216, @p217, @p218, @p219, @p220),
(@p221, @p222, @p223, @p224, @p225, @p226, @p227, @p228, @p229, @p230, @p231, @p232, @p233),
(@p234, @p235, @p236, @p237, @p238, @p239, @p240, @p241, @p242, @p243, @p244, @p245, @p246),
(@p247, @p248, @p249, @p250, @p251, @p252, @p253, @p254, @p255, @p256, @p257, @p258, @p259);
2023-11-11 22:45:59.345 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5238/api/account/authenticate application/json 67
2023-11-11 22:45:59.387 +01:00 [WRN] Failed to determine the https port for redirect.
2023-11-11 22:45:59.430 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.AccountController.Authentication (WalletApp.Api)'
2023-11-11 22:45:59.444 +01:00 [INF] Route matched with {action = "Authentication", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult`1[WalletApp.Application.Account.Authenticate.AuthenticateResponseDto]]] Authentication(WalletApp.Application.Account.Authenticate.AuthenticateDto, System.Threading.CancellationToken) on controller WalletApp.Controllers.AccountController (WalletApp.Api).
2023-11-11 22:46:04.570 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IconType], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-11-11 22:46:04.740 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__user_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2023-11-11 22:46:04.772 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-11-11 22:46:04.788 +01:00 [INF] AuthenticationScheme: Identity.Application signed in.
2023-11-11 22:46:04.795 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IconType], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-11-11 22:46:04.875 +01:00 [INF] Executing NotFoundObjectResult, writing value of type 'WalletApp.Application.Common.ApiResult`1[[WalletApp.Application.Account.Authenticate.AuthenticateResponseDto, WalletApp.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-11-11 22:46:04.905 +01:00 [INF] Executed action WalletApp.Controllers.AccountController.Authentication (WalletApp.Api) in 5453.7286ms
2023-11-11 22:46:04.907 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.AccountController.Authentication (WalletApp.Api)'
2023-11-11 22:46:04.916 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5238/api/account/authenticate application/json 67 - 404 - application/json;+charset=utf-8 5572.0635ms
2023-11-11 22:46:17.853 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5238/api/account/authenticate application/json 67
2023-11-11 22:46:17.859 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.AccountController.Authentication (WalletApp.Api)'
2023-11-11 22:46:17.861 +01:00 [INF] Route matched with {action = "Authentication", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult`1[WalletApp.Application.Account.Authenticate.AuthenticateResponseDto]]] Authentication(WalletApp.Application.Account.Authenticate.AuthenticateDto, System.Threading.CancellationToken) on controller WalletApp.Controllers.AccountController (WalletApp.Api).
2023-11-11 22:46:26.200 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IconType], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-11-11 22:46:26.276 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2023-11-11 22:46:26.281 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-11-11 22:46:26.285 +01:00 [INF] AuthenticationScheme: Identity.Application signed in.
2023-11-11 22:46:26.289 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IconType], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-11-11 22:46:26.362 +01:00 [INF] Executing NotFoundObjectResult, writing value of type 'WalletApp.Application.Common.ApiResult`1[[WalletApp.Application.Account.Authenticate.AuthenticateResponseDto, WalletApp.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-11-11 22:46:26.365 +01:00 [INF] Executed action WalletApp.Controllers.AccountController.Authentication (WalletApp.Api) in 8502.404ms
2023-11-11 22:46:26.365 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.AccountController.Authentication (WalletApp.Api)'
2023-11-11 22:46:26.367 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5238/api/account/authenticate application/json 67 - 404 - application/json;+charset=utf-8 8513.9832ms
2023-11-11 22:46:38.449 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5238/api/account/authenticate application/json 67
2023-11-11 22:46:38.450 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.AccountController.Authentication (WalletApp.Api)'
2023-11-11 22:46:38.451 +01:00 [INF] Route matched with {action = "Authentication", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult`1[WalletApp.Application.Account.Authenticate.AuthenticateResponseDto]]] Authentication(WalletApp.Application.Account.Authenticate.AuthenticateDto, System.Threading.CancellationToken) on controller WalletApp.Controllers.AccountController (WalletApp.Api).
2023-11-11 22:46:43.116 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IconType], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-11-11 22:46:43.329 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2023-11-11 22:46:43.332 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-11-11 22:46:43.334 +01:00 [INF] AuthenticationScheme: Identity.Application signed in.
2023-11-11 22:46:53.738 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IconType], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-11-11 22:47:30.831 +01:00 [INF] User profile is available. Using 'C:\Users\maste\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-11-11 22:47:30.974 +01:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2023-11-11 22:47:30.982 +01:00 [INF] Quartz Scheduler created
2023-11-11 22:47:30.984 +01:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2023-11-11 22:47:30.984 +01:00 [INF] RAMJobStore initialized.
2023-11-11 22:47:30.985 +01:00 [INF] Quartz Scheduler 3.7.0.0 - 'QuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2023-11-11 22:47:30.986 +01:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2023-11-11 22:47:30.987 +01:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2023-11-11 22:47:30.996 +01:00 [INF] Adding 1 jobs, 1 triggers.
2023-11-11 22:47:30.999 +01:00 [INF] Adding job: DEFAULT.NBP
2023-11-11 22:47:31.071 +01:00 [INF] Now listening on: http://localhost:5238
2023-11-11 22:47:31.077 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-11 22:47:31.082 +01:00 [INF] Hosting environment: Development
2023-11-11 22:47:31.083 +01:00 [INF] Content root path: C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api
2023-11-11 22:47:31.085 +01:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2023-11-11 22:47:31.243 +01:00 [INF] Start processing HTTP request GET http://api.nbp.pl/api/exchangerates/tables/c
2023-11-11 22:47:31.247 +01:00 [INF] Sending HTTP request GET http://api.nbp.pl/api/exchangerates/tables/c
2023-11-11 22:47:31.382 +01:00 [INF] Received HTTP response headers after 132.2893ms - 200
2023-11-11 22:47:31.388 +01:00 [INF] End processing HTTP request after 148.0245ms - 200
2023-11-11 22:47:32.572 +01:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Ask], [c].[Bid], [c].[Code], [c].[CratedBy], [c].[CreatedTime], [c].[CurrencyName], [c].[DeletedBy], [c].[DeletedTime], [c].[IsDeleted], [c].[ModifiedBy], [c].[ModifiedTime], [c].[TradingDate]
FROM [Currencies] AS [c]
2023-11-11 22:47:32.854 +01:00 [INF] Executed DbCommand (62ms) [Parameters=[@p12='?' (DbType = Guid), @p0='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p1='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p2='?' (Size = 3) (DbType = AnsiString), @p3='?' (DbType = Guid), @p4='?' (DbType = DateTime2), @p5='?' (Size = 30) (DbType = AnsiString), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = Guid), @p10='?' (DbType = DateTime2), @p11='?' (DbType = DateTime), @p25='?' (DbType = Guid), @p13='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p14='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p15='?' (Size = 3) (DbType = AnsiString), @p16='?' (DbType = Guid), @p17='?' (DbType = DateTime2), @p18='?' (Size = 30) (DbType = AnsiString), @p19='?' (DbType = Guid), @p20='?' (DbType = DateTime2), @p21='?' (DbType = Boolean), @p22='?' (DbType = Guid), @p23='?' (DbType = DateTime2), @p24='?' (DbType = DateTime), @p38='?' (DbType = Guid), @p26='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p27='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p28='?' (Size = 3) (DbType = AnsiString), @p29='?' (DbType = Guid), @p30='?' (DbType = DateTime2), @p31='?' (Size = 30) (DbType = AnsiString), @p32='?' (DbType = Guid), @p33='?' (DbType = DateTime2), @p34='?' (DbType = Boolean), @p35='?' (DbType = Guid), @p36='?' (DbType = DateTime2), @p37='?' (DbType = DateTime), @p51='?' (DbType = Guid), @p39='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p40='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p41='?' (Size = 3) (DbType = AnsiString), @p42='?' (DbType = Guid), @p43='?' (DbType = DateTime2), @p44='?' (Size = 30) (DbType = AnsiString), @p45='?' (DbType = Guid), @p46='?' (DbType = DateTime2), @p47='?' (DbType = Boolean), @p48='?' (DbType = Guid), @p49='?' (DbType = DateTime2), @p50='?' (DbType = DateTime), @p64='?' (DbType = Guid), @p52='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p53='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p54='?' (Size = 3) (DbType = AnsiString), @p55='?' (DbType = Guid), @p56='?' (DbType = DateTime2), @p57='?' (Size = 30) (DbType = AnsiString), @p58='?' (DbType = Guid), @p59='?' (DbType = DateTime2), @p60='?' (DbType = Boolean), @p61='?' (DbType = Guid), @p62='?' (DbType = DateTime2), @p63='?' (DbType = DateTime), @p77='?' (DbType = Guid), @p65='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p66='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p67='?' (Size = 3) (DbType = AnsiString), @p68='?' (DbType = Guid), @p69='?' (DbType = DateTime2), @p70='?' (Size = 30) (DbType = AnsiString), @p71='?' (DbType = Guid), @p72='?' (DbType = DateTime2), @p73='?' (DbType = Boolean), @p74='?' (DbType = Guid), @p75='?' (DbType = DateTime2), @p76='?' (DbType = DateTime), @p90='?' (DbType = Guid), @p78='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p79='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p80='?' (Size = 3) (DbType = AnsiString), @p81='?' (DbType = Guid), @p82='?' (DbType = DateTime2), @p83='?' (Size = 30) (DbType = AnsiString), @p84='?' (DbType = Guid), @p85='?' (DbType = DateTime2), @p86='?' (DbType = Boolean), @p87='?' (DbType = Guid), @p88='?' (DbType = DateTime2), @p89='?' (DbType = DateTime), @p103='?' (DbType = Guid), @p91='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p92='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p93='?' (Size = 3) (DbType = AnsiString), @p94='?' (DbType = Guid), @p95='?' (DbType = DateTime2), @p96='?' (Size = 30) (DbType = AnsiString), @p97='?' (DbType = Guid), @p98='?' (DbType = DateTime2), @p99='?' (DbType = Boolean), @p100='?' (DbType = Guid), @p101='?' (DbType = DateTime2), @p102='?' (DbType = DateTime), @p116='?' (DbType = Guid), @p104='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p105='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p106='?' (Size = 3) (DbType = AnsiString), @p107='?' (DbType = Guid), @p108='?' (DbType = DateTime2), @p109='?' (Size = 30) (DbType = AnsiString), @p110='?' (DbType = Guid), @p111='?' (DbType = DateTime2), @p112='?' (DbType = Boolean), @p113='?' (DbType = Guid), @p114='?' (DbType = DateTime2), @p115='?' (DbType = DateTime), @p129='?' (DbType = Guid), @p117='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p118='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p119='?' (Size = 3) (DbType = AnsiString), @p120='?' (DbType = Guid), @p121='?' (DbType = DateTime2), @p122='?' (Size = 30) (DbType = AnsiString), @p123='?' (DbType = Guid), @p124='?' (DbType = DateTime2), @p125='?' (DbType = Boolean), @p126='?' (DbType = Guid), @p127='?' (DbType = DateTime2), @p128='?' (DbType = DateTime), @p142='?' (DbType = Guid), @p130='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p131='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p132='?' (Size = 3) (DbType = AnsiString), @p133='?' (DbType = Guid), @p134='?' (DbType = DateTime2), @p135='?' (Size = 30) (DbType = AnsiString), @p136='?' (DbType = Guid), @p137='?' (DbType = DateTime2), @p138='?' (DbType = Boolean), @p139='?' (DbType = Guid), @p140='?' (DbType = DateTime2), @p141='?' (DbType = DateTime), @p155='?' (DbType = Guid), @p143='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p144='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p145='?' (Size = 3) (DbType = AnsiString), @p146='?' (DbType = Guid), @p147='?' (DbType = DateTime2), @p148='?' (Size = 30) (DbType = AnsiString), @p149='?' (DbType = Guid), @p150='?' (DbType = DateTime2), @p151='?' (DbType = Boolean), @p152='?' (DbType = Guid), @p153='?' (DbType = DateTime2), @p154='?' (DbType = DateTime), @p168='?' (DbType = Guid), @p156='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p157='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p158='?' (Size = 3) (DbType = AnsiString), @p159='?' (DbType = Guid), @p160='?' (DbType = DateTime2), @p161='?' (Size = 30) (DbType = AnsiString), @p162='?' (DbType = Guid), @p163='?' (DbType = DateTime2), @p164='?' (DbType = Boolean), @p165='?' (DbType = Guid), @p166='?' (DbType = DateTime2), @p167='?' (DbType = DateTime), @p181='?' (DbType = Guid), @p169='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p170='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p171='?' (Size = 3) (DbType = AnsiString), @p172='?' (DbType = Guid), @p173='?' (DbType = DateTime2), @p174='?' (Size = 30) (DbType = AnsiString), @p175='?' (DbType = Guid), @p176='?' (DbType = DateTime2), @p177='?' (DbType = Boolean), @p178='?' (DbType = Guid), @p179='?' (DbType = DateTime2), @p180='?' (DbType = DateTime), @p194='?' (DbType = Guid), @p182='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p183='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p184='?' (Size = 3) (DbType = AnsiString), @p185='?' (DbType = Guid), @p186='?' (DbType = DateTime2), @p187='?' (Size = 30) (DbType = AnsiString), @p188='?' (DbType = Guid), @p189='?' (DbType = DateTime2), @p190='?' (DbType = Boolean), @p191='?' (DbType = Guid), @p192='?' (DbType = DateTime2), @p193='?' (DbType = DateTime), @p207='?' (DbType = Guid), @p195='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p196='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p197='?' (Size = 3) (DbType = AnsiString), @p198='?' (DbType = Guid), @p199='?' (DbType = DateTime2), @p200='?' (Size = 30) (DbType = AnsiString), @p201='?' (DbType = Guid), @p202='?' (DbType = DateTime2), @p203='?' (DbType = Boolean), @p204='?' (DbType = Guid), @p205='?' (DbType = DateTime2), @p206='?' (DbType = DateTime), @p220='?' (DbType = Guid), @p208='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p209='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p210='?' (Size = 3) (DbType = AnsiString), @p211='?' (DbType = Guid), @p212='?' (DbType = DateTime2), @p213='?' (Size = 30) (DbType = AnsiString), @p214='?' (DbType = Guid), @p215='?' (DbType = DateTime2), @p216='?' (DbType = Boolean), @p217='?' (DbType = Guid), @p218='?' (DbType = DateTime2), @p219='?' (DbType = DateTime), @p233='?' (DbType = Guid), @p221='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p222='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p223='?' (Size = 3) (DbType = AnsiString), @p224='?' (DbType = Guid), @p225='?' (DbType = DateTime2), @p226='?' (Size = 30) (DbType = AnsiString), @p227='?' (DbType = Guid), @p228='?' (DbType = DateTime2), @p229='?' (DbType = Boolean), @p230='?' (DbType = Guid), @p231='?' (DbType = DateTime2), @p232='?' (DbType = DateTime), @p246='?' (DbType = Guid), @p234='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p235='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p236='?' (Size = 3) (DbType = AnsiString), @p237='?' (DbType = Guid), @p238='?' (DbType = DateTime2), @p239='?' (Size = 30) (DbType = AnsiString), @p240='?' (DbType = Guid), @p241='?' (DbType = DateTime2), @p242='?' (DbType = Boolean), @p243='?' (DbType = Guid), @p244='?' (DbType = DateTime2), @p245='?' (DbType = DateTime), @p259='?' (DbType = Guid), @p247='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p248='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p249='?' (Size = 3) (DbType = AnsiString), @p250='?' (DbType = Guid), @p251='?' (DbType = DateTime2), @p252='?' (Size = 30) (DbType = AnsiString), @p253='?' (DbType = Guid), @p254='?' (DbType = DateTime2), @p255='?' (DbType = Boolean), @p256='?' (DbType = Guid), @p257='?' (DbType = DateTime2), @p258='?' (DbType = DateTime), @p260='?' (DbType = Guid), @p261='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p262='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p263='?' (Size = 3) (DbType = AnsiString), @p264='?' (DbType = Guid), @p265='?' (DbType = DateTime2), @p266='?' (Size = 30) (DbType = AnsiString), @p267='?' (DbType = Guid), @p268='?' (DbType = DateTime2), @p269='?' (DbType = Boolean), @p270='?' (DbType = Guid), @p271='?' (DbType = DateTime2), @p272='?' (DbType = DateTime), @p273='?' (DbType = Guid), @p274='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p275='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p276='?' (Size = 3) (DbType = AnsiString), @p277='?' (DbType = Guid), @p278='?' (DbType = DateTime2), @p279='?' (Size = 30) (DbType = AnsiString), @p280='?' (DbType = Guid), @p281='?' (DbType = DateTime2), @p282='?' (DbType = Boolean), @p283='?' (DbType = Guid), @p284='?' (DbType = DateTime2), @p285='?' (DbType = DateTime), @p286='?' (DbType = Guid), @p287='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p288='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p289='?' (Size = 3) (DbType = AnsiString), @p290='?' (DbType = Guid), @p291='?' (DbType = DateTime2), @p292='?' (Size = 30) (DbType = AnsiString), @p293='?' (DbType = Guid), @p294='?' (DbType = DateTime2), @p295='?' (DbType = Boolean), @p296='?' (DbType = Guid), @p297='?' (DbType = DateTime2), @p298='?' (DbType = DateTime), @p299='?' (DbType = Guid), @p300='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p301='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p302='?' (Size = 3) (DbType = AnsiString), @p303='?' (DbType = Guid), @p304='?' (DbType = DateTime2), @p305='?' (Size = 30) (DbType = AnsiString), @p306='?' (DbType = Guid), @p307='?' (DbType = DateTime2), @p308='?' (DbType = Boolean), @p309='?' (DbType = Guid), @p310='?' (DbType = DateTime2), @p311='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Currencies] SET [Ask] = @p0, [Bid] = @p1, [Code] = @p2, [CratedBy] = @p3, [CreatedTime] = @p4, [CurrencyName] = @p5, [DeletedBy] = @p6, [DeletedTime] = @p7, [IsDeleted] = @p8, [ModifiedBy] = @p9, [ModifiedTime] = @p10, [TradingDate] = @p11
OUTPUT 1
WHERE [Id] = @p12;
UPDATE [Currencies] SET [Ask] = @p13, [Bid] = @p14, [Code] = @p15, [CratedBy] = @p16, [CreatedTime] = @p17, [CurrencyName] = @p18, [DeletedBy] = @p19, [DeletedTime] = @p20, [IsDeleted] = @p21, [ModifiedBy] = @p22, [ModifiedTime] = @p23, [TradingDate] = @p24
OUTPUT 1
WHERE [Id] = @p25;
UPDATE [Currencies] SET [Ask] = @p26, [Bid] = @p27, [Code] = @p28, [CratedBy] = @p29, [CreatedTime] = @p30, [CurrencyName] = @p31, [DeletedBy] = @p32, [DeletedTime] = @p33, [IsDeleted] = @p34, [ModifiedBy] = @p35, [ModifiedTime] = @p36, [TradingDate] = @p37
OUTPUT 1
WHERE [Id] = @p38;
UPDATE [Currencies] SET [Ask] = @p39, [Bid] = @p40, [Code] = @p41, [CratedBy] = @p42, [CreatedTime] = @p43, [CurrencyName] = @p44, [DeletedBy] = @p45, [DeletedTime] = @p46, [IsDeleted] = @p47, [ModifiedBy] = @p48, [ModifiedTime] = @p49, [TradingDate] = @p50
OUTPUT 1
WHERE [Id] = @p51;
UPDATE [Currencies] SET [Ask] = @p52, [Bid] = @p53, [Code] = @p54, [CratedBy] = @p55, [CreatedTime] = @p56, [CurrencyName] = @p57, [DeletedBy] = @p58, [DeletedTime] = @p59, [IsDeleted] = @p60, [ModifiedBy] = @p61, [ModifiedTime] = @p62, [TradingDate] = @p63
OUTPUT 1
WHERE [Id] = @p64;
UPDATE [Currencies] SET [Ask] = @p65, [Bid] = @p66, [Code] = @p67, [CratedBy] = @p68, [CreatedTime] = @p69, [CurrencyName] = @p70, [DeletedBy] = @p71, [DeletedTime] = @p72, [IsDeleted] = @p73, [ModifiedBy] = @p74, [ModifiedTime] = @p75, [TradingDate] = @p76
OUTPUT 1
WHERE [Id] = @p77;
UPDATE [Currencies] SET [Ask] = @p78, [Bid] = @p79, [Code] = @p80, [CratedBy] = @p81, [CreatedTime] = @p82, [CurrencyName] = @p83, [DeletedBy] = @p84, [DeletedTime] = @p85, [IsDeleted] = @p86, [ModifiedBy] = @p87, [ModifiedTime] = @p88, [TradingDate] = @p89
OUTPUT 1
WHERE [Id] = @p90;
UPDATE [Currencies] SET [Ask] = @p91, [Bid] = @p92, [Code] = @p93, [CratedBy] = @p94, [CreatedTime] = @p95, [CurrencyName] = @p96, [DeletedBy] = @p97, [DeletedTime] = @p98, [IsDeleted] = @p99, [ModifiedBy] = @p100, [ModifiedTime] = @p101, [TradingDate] = @p102
OUTPUT 1
WHERE [Id] = @p103;
UPDATE [Currencies] SET [Ask] = @p104, [Bid] = @p105, [Code] = @p106, [CratedBy] = @p107, [CreatedTime] = @p108, [CurrencyName] = @p109, [DeletedBy] = @p110, [DeletedTime] = @p111, [IsDeleted] = @p112, [ModifiedBy] = @p113, [ModifiedTime] = @p114, [TradingDate] = @p115
OUTPUT 1
WHERE [Id] = @p116;
UPDATE [Currencies] SET [Ask] = @p117, [Bid] = @p118, [Code] = @p119, [CratedBy] = @p120, [CreatedTime] = @p121, [CurrencyName] = @p122, [DeletedBy] = @p123, [DeletedTime] = @p124, [IsDeleted] = @p125, [ModifiedBy] = @p126, [ModifiedTime] = @p127, [TradingDate] = @p128
OUTPUT 1
WHERE [Id] = @p129;
UPDATE [Currencies] SET [Ask] = @p130, [Bid] = @p131, [Code] = @p132, [CratedBy] = @p133, [CreatedTime] = @p134, [CurrencyName] = @p135, [DeletedBy] = @p136, [DeletedTime] = @p137, [IsDeleted] = @p138, [ModifiedBy] = @p139, [ModifiedTime] = @p140, [TradingDate] = @p141
OUTPUT 1
WHERE [Id] = @p142;
UPDATE [Currencies] SET [Ask] = @p143, [Bid] = @p144, [Code] = @p145, [CratedBy] = @p146, [CreatedTime] = @p147, [CurrencyName] = @p148, [DeletedBy] = @p149, [DeletedTime] = @p150, [IsDeleted] = @p151, [ModifiedBy] = @p152, [ModifiedTime] = @p153, [TradingDate] = @p154
OUTPUT 1
WHERE [Id] = @p155;
UPDATE [Currencies] SET [Ask] = @p156, [Bid] = @p157, [Code] = @p158, [CratedBy] = @p159, [CreatedTime] = @p160, [CurrencyName] = @p161, [DeletedBy] = @p162, [DeletedTime] = @p163, [IsDeleted] = @p164, [ModifiedBy] = @p165, [ModifiedTime] = @p166, [TradingDate] = @p167
OUTPUT 1
WHERE [Id] = @p168;
UPDATE [Currencies] SET [Ask] = @p169, [Bid] = @p170, [Code] = @p171, [CratedBy] = @p172, [CreatedTime] = @p173, [CurrencyName] = @p174, [DeletedBy] = @p175, [DeletedTime] = @p176, [IsDeleted] = @p177, [ModifiedBy] = @p178, [ModifiedTime] = @p179, [TradingDate] = @p180
OUTPUT 1
WHERE [Id] = @p181;
UPDATE [Currencies] SET [Ask] = @p182, [Bid] = @p183, [Code] = @p184, [CratedBy] = @p185, [CreatedTime] = @p186, [CurrencyName] = @p187, [DeletedBy] = @p188, [DeletedTime] = @p189, [IsDeleted] = @p190, [ModifiedBy] = @p191, [ModifiedTime] = @p192, [TradingDate] = @p193
OUTPUT 1
WHERE [Id] = @p194;
UPDATE [Currencies] SET [Ask] = @p195, [Bid] = @p196, [Code] = @p197, [CratedBy] = @p198, [CreatedTime] = @p199, [CurrencyName] = @p200, [DeletedBy] = @p201, [DeletedTime] = @p202, [IsDeleted] = @p203, [ModifiedBy] = @p204, [ModifiedTime] = @p205, [TradingDate] = @p206
OUTPUT 1
WHERE [Id] = @p207;
UPDATE [Currencies] SET [Ask] = @p208, [Bid] = @p209, [Code] = @p210, [CratedBy] = @p211, [CreatedTime] = @p212, [CurrencyName] = @p213, [DeletedBy] = @p214, [DeletedTime] = @p215, [IsDeleted] = @p216, [ModifiedBy] = @p217, [ModifiedTime] = @p218, [TradingDate] = @p219
OUTPUT 1
WHERE [Id] = @p220;
UPDATE [Currencies] SET [Ask] = @p221, [Bid] = @p222, [Code] = @p223, [CratedBy] = @p224, [CreatedTime] = @p225, [CurrencyName] = @p226, [DeletedBy] = @p227, [DeletedTime] = @p228, [IsDeleted] = @p229, [ModifiedBy] = @p230, [ModifiedTime] = @p231, [TradingDate] = @p232
OUTPUT 1
WHERE [Id] = @p233;
UPDATE [Currencies] SET [Ask] = @p234, [Bid] = @p235, [Code] = @p236, [CratedBy] = @p237, [CreatedTime] = @p238, [CurrencyName] = @p239, [DeletedBy] = @p240, [DeletedTime] = @p241, [IsDeleted] = @p242, [ModifiedBy] = @p243, [ModifiedTime] = @p244, [TradingDate] = @p245
OUTPUT 1
WHERE [Id] = @p246;
UPDATE [Currencies] SET [Ask] = @p247, [Bid] = @p248, [Code] = @p249, [CratedBy] = @p250, [CreatedTime] = @p251, [CurrencyName] = @p252, [DeletedBy] = @p253, [DeletedTime] = @p254, [IsDeleted] = @p255, [ModifiedBy] = @p256, [ModifiedTime] = @p257, [TradingDate] = @p258
OUTPUT 1
WHERE [Id] = @p259;
INSERT INTO [Currencies] ([Id], [Ask], [Bid], [Code], [CratedBy], [CreatedTime], [CurrencyName], [DeletedBy], [DeletedTime], [IsDeleted], [ModifiedBy], [ModifiedTime], [TradingDate])
VALUES (@p260, @p261, @p262, @p263, @p264, @p265, @p266, @p267, @p268, @p269, @p270, @p271, @p272),
(@p273, @p274, @p275, @p276, @p277, @p278, @p279, @p280, @p281, @p282, @p283, @p284, @p285),
(@p286, @p287, @p288, @p289, @p290, @p291, @p292, @p293, @p294, @p295, @p296, @p297, @p298),
(@p299, @p300, @p301, @p302, @p303, @p304, @p305, @p306, @p307, @p308, @p309, @p310, @p311);
2023-11-11 22:48:00.127 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5238/api/account/authenticate application/json 67
2023-11-11 22:48:00.166 +01:00 [WRN] Failed to determine the https port for redirect.
2023-11-11 22:48:00.213 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.AccountController.Authentication (WalletApp.Api)'
2023-11-11 22:48:00.229 +01:00 [INF] Route matched with {action = "Authentication", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult`1[WalletApp.Application.Account.Authenticate.AuthenticateResponseDto]]] Authentication(WalletApp.Application.Account.Authenticate.AuthenticateDto, System.Threading.CancellationToken) on controller WalletApp.Controllers.AccountController (WalletApp.Api).
2023-11-11 22:48:04.498 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IconType], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-11-11 22:48:04.813 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2023-11-11 22:48:04.843 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-11-11 22:48:04.860 +01:00 [INF] AuthenticationScheme: Identity.Application signed in.
2023-11-11 22:48:06.928 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IconType], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-11-11 22:48:13.120 +01:00 [INF] Executing NotFoundObjectResult, writing value of type 'WalletApp.Application.Common.ApiResult`1[[WalletApp.Application.Account.Authenticate.AuthenticateResponseDto, WalletApp.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-11-11 22:48:13.150 +01:00 [INF] Executed action WalletApp.Controllers.AccountController.Authentication (WalletApp.Api) in 12916.8447ms
2023-11-11 22:48:13.153 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.AccountController.Authentication (WalletApp.Api)'
2023-11-11 22:48:13.165 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5238/api/account/authenticate application/json 67 - 404 - application/json;+charset=utf-8 13038.8315ms
2023-11-11 22:48:42.264 +01:00 [INF] User profile is available. Using 'C:\Users\maste\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-11-11 22:48:42.413 +01:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2023-11-11 22:48:42.414 +01:00 [INF] Quartz Scheduler created
2023-11-11 22:48:42.415 +01:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2023-11-11 22:48:42.416 +01:00 [INF] RAMJobStore initialized.
2023-11-11 22:48:42.417 +01:00 [INF] Quartz Scheduler 3.7.0.0 - 'QuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2023-11-11 22:48:42.417 +01:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2023-11-11 22:48:42.419 +01:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2023-11-11 22:48:42.428 +01:00 [INF] Adding 1 jobs, 1 triggers.
2023-11-11 22:48:42.431 +01:00 [INF] Adding job: DEFAULT.NBP
2023-11-11 22:48:42.511 +01:00 [INF] Now listening on: http://localhost:5238
2023-11-11 22:48:42.512 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-11 22:48:42.518 +01:00 [INF] Hosting environment: Development
2023-11-11 22:48:42.519 +01:00 [INF] Content root path: C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api
2023-11-11 22:48:42.520 +01:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2023-11-11 22:48:42.676 +01:00 [INF] Start processing HTTP request GET http://api.nbp.pl/api/exchangerates/tables/c
2023-11-11 22:48:42.679 +01:00 [INF] Sending HTTP request GET http://api.nbp.pl/api/exchangerates/tables/c
2023-11-11 22:48:42.805 +01:00 [INF] Received HTTP response headers after 122.2171ms - 200
2023-11-11 22:48:42.810 +01:00 [INF] End processing HTTP request after 137.5694ms - 200
2023-11-11 22:48:44.016 +01:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Ask], [c].[Bid], [c].[Code], [c].[CratedBy], [c].[CreatedTime], [c].[CurrencyName], [c].[DeletedBy], [c].[DeletedTime], [c].[IsDeleted], [c].[ModifiedBy], [c].[ModifiedTime], [c].[TradingDate]
FROM [Currencies] AS [c]
2023-11-11 22:48:44.300 +01:00 [INF] Executed DbCommand (68ms) [Parameters=[@p12='?' (DbType = Guid), @p0='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p1='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p2='?' (Size = 3) (DbType = AnsiString), @p3='?' (DbType = Guid), @p4='?' (DbType = DateTime2), @p5='?' (Size = 30) (DbType = AnsiString), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = Guid), @p10='?' (DbType = DateTime2), @p11='?' (DbType = DateTime), @p25='?' (DbType = Guid), @p13='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p14='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p15='?' (Size = 3) (DbType = AnsiString), @p16='?' (DbType = Guid), @p17='?' (DbType = DateTime2), @p18='?' (Size = 30) (DbType = AnsiString), @p19='?' (DbType = Guid), @p20='?' (DbType = DateTime2), @p21='?' (DbType = Boolean), @p22='?' (DbType = Guid), @p23='?' (DbType = DateTime2), @p24='?' (DbType = DateTime), @p38='?' (DbType = Guid), @p26='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p27='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p28='?' (Size = 3) (DbType = AnsiString), @p29='?' (DbType = Guid), @p30='?' (DbType = DateTime2), @p31='?' (Size = 30) (DbType = AnsiString), @p32='?' (DbType = Guid), @p33='?' (DbType = DateTime2), @p34='?' (DbType = Boolean), @p35='?' (DbType = Guid), @p36='?' (DbType = DateTime2), @p37='?' (DbType = DateTime), @p51='?' (DbType = Guid), @p39='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p40='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p41='?' (Size = 3) (DbType = AnsiString), @p42='?' (DbType = Guid), @p43='?' (DbType = DateTime2), @p44='?' (Size = 30) (DbType = AnsiString), @p45='?' (DbType = Guid), @p46='?' (DbType = DateTime2), @p47='?' (DbType = Boolean), @p48='?' (DbType = Guid), @p49='?' (DbType = DateTime2), @p50='?' (DbType = DateTime), @p64='?' (DbType = Guid), @p52='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p53='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p54='?' (Size = 3) (DbType = AnsiString), @p55='?' (DbType = Guid), @p56='?' (DbType = DateTime2), @p57='?' (Size = 30) (DbType = AnsiString), @p58='?' (DbType = Guid), @p59='?' (DbType = DateTime2), @p60='?' (DbType = Boolean), @p61='?' (DbType = Guid), @p62='?' (DbType = DateTime2), @p63='?' (DbType = DateTime), @p77='?' (DbType = Guid), @p65='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p66='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p67='?' (Size = 3) (DbType = AnsiString), @p68='?' (DbType = Guid), @p69='?' (DbType = DateTime2), @p70='?' (Size = 30) (DbType = AnsiString), @p71='?' (DbType = Guid), @p72='?' (DbType = DateTime2), @p73='?' (DbType = Boolean), @p74='?' (DbType = Guid), @p75='?' (DbType = DateTime2), @p76='?' (DbType = DateTime), @p90='?' (DbType = Guid), @p78='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p79='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p80='?' (Size = 3) (DbType = AnsiString), @p81='?' (DbType = Guid), @p82='?' (DbType = DateTime2), @p83='?' (Size = 30) (DbType = AnsiString), @p84='?' (DbType = Guid), @p85='?' (DbType = DateTime2), @p86='?' (DbType = Boolean), @p87='?' (DbType = Guid), @p88='?' (DbType = DateTime2), @p89='?' (DbType = DateTime), @p103='?' (DbType = Guid), @p91='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p92='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p93='?' (Size = 3) (DbType = AnsiString), @p94='?' (DbType = Guid), @p95='?' (DbType = DateTime2), @p96='?' (Size = 30) (DbType = AnsiString), @p97='?' (DbType = Guid), @p98='?' (DbType = DateTime2), @p99='?' (DbType = Boolean), @p100='?' (DbType = Guid), @p101='?' (DbType = DateTime2), @p102='?' (DbType = DateTime), @p116='?' (DbType = Guid), @p104='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p105='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p106='?' (Size = 3) (DbType = AnsiString), @p107='?' (DbType = Guid), @p108='?' (DbType = DateTime2), @p109='?' (Size = 30) (DbType = AnsiString), @p110='?' (DbType = Guid), @p111='?' (DbType = DateTime2), @p112='?' (DbType = Boolean), @p113='?' (DbType = Guid), @p114='?' (DbType = DateTime2), @p115='?' (DbType = DateTime), @p129='?' (DbType = Guid), @p117='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p118='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p119='?' (Size = 3) (DbType = AnsiString), @p120='?' (DbType = Guid), @p121='?' (DbType = DateTime2), @p122='?' (Size = 30) (DbType = AnsiString), @p123='?' (DbType = Guid), @p124='?' (DbType = DateTime2), @p125='?' (DbType = Boolean), @p126='?' (DbType = Guid), @p127='?' (DbType = DateTime2), @p128='?' (DbType = DateTime), @p142='?' (DbType = Guid), @p130='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p131='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p132='?' (Size = 3) (DbType = AnsiString), @p133='?' (DbType = Guid), @p134='?' (DbType = DateTime2), @p135='?' (Size = 30) (DbType = AnsiString), @p136='?' (DbType = Guid), @p137='?' (DbType = DateTime2), @p138='?' (DbType = Boolean), @p139='?' (DbType = Guid), @p140='?' (DbType = DateTime2), @p141='?' (DbType = DateTime), @p155='?' (DbType = Guid), @p143='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p144='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p145='?' (Size = 3) (DbType = AnsiString), @p146='?' (DbType = Guid), @p147='?' (DbType = DateTime2), @p148='?' (Size = 30) (DbType = AnsiString), @p149='?' (DbType = Guid), @p150='?' (DbType = DateTime2), @p151='?' (DbType = Boolean), @p152='?' (DbType = Guid), @p153='?' (DbType = DateTime2), @p154='?' (DbType = DateTime), @p168='?' (DbType = Guid), @p156='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p157='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p158='?' (Size = 3) (DbType = AnsiString), @p159='?' (DbType = Guid), @p160='?' (DbType = DateTime2), @p161='?' (Size = 30) (DbType = AnsiString), @p162='?' (DbType = Guid), @p163='?' (DbType = DateTime2), @p164='?' (DbType = Boolean), @p165='?' (DbType = Guid), @p166='?' (DbType = DateTime2), @p167='?' (DbType = DateTime), @p181='?' (DbType = Guid), @p169='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p170='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p171='?' (Size = 3) (DbType = AnsiString), @p172='?' (DbType = Guid), @p173='?' (DbType = DateTime2), @p174='?' (Size = 30) (DbType = AnsiString), @p175='?' (DbType = Guid), @p176='?' (DbType = DateTime2), @p177='?' (DbType = Boolean), @p178='?' (DbType = Guid), @p179='?' (DbType = DateTime2), @p180='?' (DbType = DateTime), @p194='?' (DbType = Guid), @p182='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p183='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p184='?' (Size = 3) (DbType = AnsiString), @p185='?' (DbType = Guid), @p186='?' (DbType = DateTime2), @p187='?' (Size = 30) (DbType = AnsiString), @p188='?' (DbType = Guid), @p189='?' (DbType = DateTime2), @p190='?' (DbType = Boolean), @p191='?' (DbType = Guid), @p192='?' (DbType = DateTime2), @p193='?' (DbType = DateTime), @p207='?' (DbType = Guid), @p195='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p196='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p197='?' (Size = 3) (DbType = AnsiString), @p198='?' (DbType = Guid), @p199='?' (DbType = DateTime2), @p200='?' (Size = 30) (DbType = AnsiString), @p201='?' (DbType = Guid), @p202='?' (DbType = DateTime2), @p203='?' (DbType = Boolean), @p204='?' (DbType = Guid), @p205='?' (DbType = DateTime2), @p206='?' (DbType = DateTime), @p220='?' (DbType = Guid), @p208='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p209='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p210='?' (Size = 3) (DbType = AnsiString), @p211='?' (DbType = Guid), @p212='?' (DbType = DateTime2), @p213='?' (Size = 30) (DbType = AnsiString), @p214='?' (DbType = Guid), @p215='?' (DbType = DateTime2), @p216='?' (DbType = Boolean), @p217='?' (DbType = Guid), @p218='?' (DbType = DateTime2), @p219='?' (DbType = DateTime), @p233='?' (DbType = Guid), @p221='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p222='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p223='?' (Size = 3) (DbType = AnsiString), @p224='?' (DbType = Guid), @p225='?' (DbType = DateTime2), @p226='?' (Size = 30) (DbType = AnsiString), @p227='?' (DbType = Guid), @p228='?' (DbType = DateTime2), @p229='?' (DbType = Boolean), @p230='?' (DbType = Guid), @p231='?' (DbType = DateTime2), @p232='?' (DbType = DateTime), @p246='?' (DbType = Guid), @p234='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p235='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p236='?' (Size = 3) (DbType = AnsiString), @p237='?' (DbType = Guid), @p238='?' (DbType = DateTime2), @p239='?' (Size = 30) (DbType = AnsiString), @p240='?' (DbType = Guid), @p241='?' (DbType = DateTime2), @p242='?' (DbType = Boolean), @p243='?' (DbType = Guid), @p244='?' (DbType = DateTime2), @p245='?' (DbType = DateTime), @p259='?' (DbType = Guid), @p247='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p248='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p249='?' (Size = 3) (DbType = AnsiString), @p250='?' (DbType = Guid), @p251='?' (DbType = DateTime2), @p252='?' (Size = 30) (DbType = AnsiString), @p253='?' (DbType = Guid), @p254='?' (DbType = DateTime2), @p255='?' (DbType = Boolean), @p256='?' (DbType = Guid), @p257='?' (DbType = DateTime2), @p258='?' (DbType = DateTime), @p272='?' (DbType = Guid), @p260='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p261='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p262='?' (Size = 3) (DbType = AnsiString), @p263='?' (DbType = Guid), @p264='?' (DbType = DateTime2), @p265='?' (Size = 30) (DbType = AnsiString), @p266='?' (DbType = Guid), @p267='?' (DbType = DateTime2), @p268='?' (DbType = Boolean), @p269='?' (DbType = Guid), @p270='?' (DbType = DateTime2), @p271='?' (DbType = DateTime), @p285='?' (DbType = Guid), @p273='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p274='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p275='?' (Size = 3) (DbType = AnsiString), @p276='?' (DbType = Guid), @p277='?' (DbType = DateTime2), @p278='?' (Size = 30) (DbType = AnsiString), @p279='?' (DbType = Guid), @p280='?' (DbType = DateTime2), @p281='?' (DbType = Boolean), @p282='?' (DbType = Guid), @p283='?' (DbType = DateTime2), @p284='?' (DbType = DateTime), @p298='?' (DbType = Guid), @p286='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p287='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p288='?' (Size = 3) (DbType = AnsiString), @p289='?' (DbType = Guid), @p290='?' (DbType = DateTime2), @p291='?' (Size = 30) (DbType = AnsiString), @p292='?' (DbType = Guid), @p293='?' (DbType = DateTime2), @p294='?' (DbType = Boolean), @p295='?' (DbType = Guid), @p296='?' (DbType = DateTime2), @p297='?' (DbType = DateTime), @p311='?' (DbType = Guid), @p299='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p300='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p301='?' (Size = 3) (DbType = AnsiString), @p302='?' (DbType = Guid), @p303='?' (DbType = DateTime2), @p304='?' (Size = 30) (DbType = AnsiString), @p305='?' (DbType = Guid), @p306='?' (DbType = DateTime2), @p307='?' (DbType = Boolean), @p308='?' (DbType = Guid), @p309='?' (DbType = DateTime2), @p310='?' (DbType = DateTime), @p312='?' (DbType = Guid), @p313='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p314='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p315='?' (Size = 3) (DbType = AnsiString), @p316='?' (DbType = Guid), @p317='?' (DbType = DateTime2), @p318='?' (Size = 30) (DbType = AnsiString), @p319='?' (DbType = Guid), @p320='?' (DbType = DateTime2), @p321='?' (DbType = Boolean), @p322='?' (DbType = Guid), @p323='?' (DbType = DateTime2), @p324='?' (DbType = DateTime), @p325='?' (DbType = Guid), @p326='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p327='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p328='?' (Size = 3) (DbType = AnsiString), @p329='?' (DbType = Guid), @p330='?' (DbType = DateTime2), @p331='?' (Size = 30) (DbType = AnsiString), @p332='?' (DbType = Guid), @p333='?' (DbType = DateTime2), @p334='?' (DbType = Boolean), @p335='?' (DbType = Guid), @p336='?' (DbType = DateTime2), @p337='?' (DbType = DateTime), @p338='?' (DbType = Guid), @p339='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p340='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p341='?' (Size = 3) (DbType = AnsiString), @p342='?' (DbType = Guid), @p343='?' (DbType = DateTime2), @p344='?' (Size = 30) (DbType = AnsiString), @p345='?' (DbType = Guid), @p346='?' (DbType = DateTime2), @p347='?' (DbType = Boolean), @p348='?' (DbType = Guid), @p349='?' (DbType = DateTime2), @p350='?' (DbType = DateTime), @p351='?' (DbType = Guid), @p352='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p353='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p354='?' (Size = 3) (DbType = AnsiString), @p355='?' (DbType = Guid), @p356='?' (DbType = DateTime2), @p357='?' (Size = 30) (DbType = AnsiString), @p358='?' (DbType = Guid), @p359='?' (DbType = DateTime2), @p360='?' (DbType = Boolean), @p361='?' (DbType = Guid), @p362='?' (DbType = DateTime2), @p363='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Currencies] SET [Ask] = @p0, [Bid] = @p1, [Code] = @p2, [CratedBy] = @p3, [CreatedTime] = @p4, [CurrencyName] = @p5, [DeletedBy] = @p6, [DeletedTime] = @p7, [IsDeleted] = @p8, [ModifiedBy] = @p9, [ModifiedTime] = @p10, [TradingDate] = @p11
OUTPUT 1
WHERE [Id] = @p12;
UPDATE [Currencies] SET [Ask] = @p13, [Bid] = @p14, [Code] = @p15, [CratedBy] = @p16, [CreatedTime] = @p17, [CurrencyName] = @p18, [DeletedBy] = @p19, [DeletedTime] = @p20, [IsDeleted] = @p21, [ModifiedBy] = @p22, [ModifiedTime] = @p23, [TradingDate] = @p24
OUTPUT 1
WHERE [Id] = @p25;
UPDATE [Currencies] SET [Ask] = @p26, [Bid] = @p27, [Code] = @p28, [CratedBy] = @p29, [CreatedTime] = @p30, [CurrencyName] = @p31, [DeletedBy] = @p32, [DeletedTime] = @p33, [IsDeleted] = @p34, [ModifiedBy] = @p35, [ModifiedTime] = @p36, [TradingDate] = @p37
OUTPUT 1
WHERE [Id] = @p38;
UPDATE [Currencies] SET [Ask] = @p39, [Bid] = @p40, [Code] = @p41, [CratedBy] = @p42, [CreatedTime] = @p43, [CurrencyName] = @p44, [DeletedBy] = @p45, [DeletedTime] = @p46, [IsDeleted] = @p47, [ModifiedBy] = @p48, [ModifiedTime] = @p49, [TradingDate] = @p50
OUTPUT 1
WHERE [Id] = @p51;
UPDATE [Currencies] SET [Ask] = @p52, [Bid] = @p53, [Code] = @p54, [CratedBy] = @p55, [CreatedTime] = @p56, [CurrencyName] = @p57, [DeletedBy] = @p58, [DeletedTime] = @p59, [IsDeleted] = @p60, [ModifiedBy] = @p61, [ModifiedTime] = @p62, [TradingDate] = @p63
OUTPUT 1
WHERE [Id] = @p64;
UPDATE [Currencies] SET [Ask] = @p65, [Bid] = @p66, [Code] = @p67, [CratedBy] = @p68, [CreatedTime] = @p69, [CurrencyName] = @p70, [DeletedBy] = @p71, [DeletedTime] = @p72, [IsDeleted] = @p73, [ModifiedBy] = @p74, [ModifiedTime] = @p75, [TradingDate] = @p76
OUTPUT 1
WHERE [Id] = @p77;
UPDATE [Currencies] SET [Ask] = @p78, [Bid] = @p79, [Code] = @p80, [CratedBy] = @p81, [CreatedTime] = @p82, [CurrencyName] = @p83, [DeletedBy] = @p84, [DeletedTime] = @p85, [IsDeleted] = @p86, [ModifiedBy] = @p87, [ModifiedTime] = @p88, [TradingDate] = @p89
OUTPUT 1
WHERE [Id] = @p90;
UPDATE [Currencies] SET [Ask] = @p91, [Bid] = @p92, [Code] = @p93, [CratedBy] = @p94, [CreatedTime] = @p95, [CurrencyName] = @p96, [DeletedBy] = @p97, [DeletedTime] = @p98, [IsDeleted] = @p99, [ModifiedBy] = @p100, [ModifiedTime] = @p101, [TradingDate] = @p102
OUTPUT 1
WHERE [Id] = @p103;
UPDATE [Currencies] SET [Ask] = @p104, [Bid] = @p105, [Code] = @p106, [CratedBy] = @p107, [CreatedTime] = @p108, [CurrencyName] = @p109, [DeletedBy] = @p110, [DeletedTime] = @p111, [IsDeleted] = @p112, [ModifiedBy] = @p113, [ModifiedTime] = @p114, [TradingDate] = @p115
OUTPUT 1
WHERE [Id] = @p116;
UPDATE [Currencies] SET [Ask] = @p117, [Bid] = @p118, [Code] = @p119, [CratedBy] = @p120, [CreatedTime] = @p121, [CurrencyName] = @p122, [DeletedBy] = @p123, [DeletedTime] = @p124, [IsDeleted] = @p125, [ModifiedBy] = @p126, [ModifiedTime] = @p127, [TradingDate] = @p128
OUTPUT 1
WHERE [Id] = @p129;
UPDATE [Currencies] SET [Ask] = @p130, [Bid] = @p131, [Code] = @p132, [CratedBy] = @p133, [CreatedTime] = @p134, [CurrencyName] = @p135, [DeletedBy] = @p136, [DeletedTime] = @p137, [IsDeleted] = @p138, [ModifiedBy] = @p139, [ModifiedTime] = @p140, [TradingDate] = @p141
OUTPUT 1
WHERE [Id] = @p142;
UPDATE [Currencies] SET [Ask] = @p143, [Bid] = @p144, [Code] = @p145, [CratedBy] = @p146, [CreatedTime] = @p147, [CurrencyName] = @p148, [DeletedBy] = @p149, [DeletedTime] = @p150, [IsDeleted] = @p151, [ModifiedBy] = @p152, [ModifiedTime] = @p153, [TradingDate] = @p154
OUTPUT 1
WHERE [Id] = @p155;
UPDATE [Currencies] SET [Ask] = @p156, [Bid] = @p157, [Code] = @p158, [CratedBy] = @p159, [CreatedTime] = @p160, [CurrencyName] = @p161, [DeletedBy] = @p162, [DeletedTime] = @p163, [IsDeleted] = @p164, [ModifiedBy] = @p165, [ModifiedTime] = @p166, [TradingDate] = @p167
OUTPUT 1
WHERE [Id] = @p168;
UPDATE [Currencies] SET [Ask] = @p169, [Bid] = @p170, [Code] = @p171, [CratedBy] = @p172, [CreatedTime] = @p173, [CurrencyName] = @p174, [DeletedBy] = @p175, [DeletedTime] = @p176, [IsDeleted] = @p177, [ModifiedBy] = @p178, [ModifiedTime] = @p179, [TradingDate] = @p180
OUTPUT 1
WHERE [Id] = @p181;
UPDATE [Currencies] SET [Ask] = @p182, [Bid] = @p183, [Code] = @p184, [CratedBy] = @p185, [CreatedTime] = @p186, [CurrencyName] = @p187, [DeletedBy] = @p188, [DeletedTime] = @p189, [IsDeleted] = @p190, [ModifiedBy] = @p191, [ModifiedTime] = @p192, [TradingDate] = @p193
OUTPUT 1
WHERE [Id] = @p194;
UPDATE [Currencies] SET [Ask] = @p195, [Bid] = @p196, [Code] = @p197, [CratedBy] = @p198, [CreatedTime] = @p199, [CurrencyName] = @p200, [DeletedBy] = @p201, [DeletedTime] = @p202, [IsDeleted] = @p203, [ModifiedBy] = @p204, [ModifiedTime] = @p205, [TradingDate] = @p206
OUTPUT 1
WHERE [Id] = @p207;
UPDATE [Currencies] SET [Ask] = @p208, [Bid] = @p209, [Code] = @p210, [CratedBy] = @p211, [CreatedTime] = @p212, [CurrencyName] = @p213, [DeletedBy] = @p214, [DeletedTime] = @p215, [IsDeleted] = @p216, [ModifiedBy] = @p217, [ModifiedTime] = @p218, [TradingDate] = @p219
OUTPUT 1
WHERE [Id] = @p220;
UPDATE [Currencies] SET [Ask] = @p221, [Bid] = @p222, [Code] = @p223, [CratedBy] = @p224, [CreatedTime] = @p225, [CurrencyName] = @p226, [DeletedBy] = @p227, [DeletedTime] = @p228, [IsDeleted] = @p229, [ModifiedBy] = @p230, [ModifiedTime] = @p231, [TradingDate] = @p232
OUTPUT 1
WHERE [Id] = @p233;
UPDATE [Currencies] SET [Ask] = @p234, [Bid] = @p235, [Code] = @p236, [CratedBy] = @p237, [CreatedTime] = @p238, [CurrencyName] = @p239, [DeletedBy] = @p240, [DeletedTime] = @p241, [IsDeleted] = @p242, [ModifiedBy] = @p243, [ModifiedTime] = @p244, [TradingDate] = @p245
OUTPUT 1
WHERE [Id] = @p246;
UPDATE [Currencies] SET [Ask] = @p247, [Bid] = @p248, [Code] = @p249, [CratedBy] = @p250, [CreatedTime] = @p251, [CurrencyName] = @p252, [DeletedBy] = @p253, [DeletedTime] = @p254, [IsDeleted] = @p255, [ModifiedBy] = @p256, [ModifiedTime] = @p257, [TradingDate] = @p258
OUTPUT 1
WHERE [Id] = @p259;
UPDATE [Currencies] SET [Ask] = @p260, [Bid] = @p261, [Code] = @p262, [CratedBy] = @p263, [CreatedTime] = @p264, [CurrencyName] = @p265, [DeletedBy] = @p266, [DeletedTime] = @p267, [IsDeleted] = @p268, [ModifiedBy] = @p269, [ModifiedTime] = @p270, [TradingDate] = @p271
OUTPUT 1
WHERE [Id] = @p272;
UPDATE [Currencies] SET [Ask] = @p273, [Bid] = @p274, [Code] = @p275, [CratedBy] = @p276, [CreatedTime] = @p277, [CurrencyName] = @p278, [DeletedBy] = @p279, [DeletedTime] = @p280, [IsDeleted] = @p281, [ModifiedBy] = @p282, [ModifiedTime] = @p283, [TradingDate] = @p284
OUTPUT 1
WHERE [Id] = @p285;
UPDATE [Currencies] SET [Ask] = @p286, [Bid] = @p287, [Code] = @p288, [CratedBy] = @p289, [CreatedTime] = @p290, [CurrencyName] = @p291, [DeletedBy] = @p292, [DeletedTime] = @p293, [IsDeleted] = @p294, [ModifiedBy] = @p295, [ModifiedTime] = @p296, [TradingDate] = @p297
OUTPUT 1
WHERE [Id] = @p298;
UPDATE [Currencies] SET [Ask] = @p299, [Bid] = @p300, [Code] = @p301, [CratedBy] = @p302, [CreatedTime] = @p303, [CurrencyName] = @p304, [DeletedBy] = @p305, [DeletedTime] = @p306, [IsDeleted] = @p307, [ModifiedBy] = @p308, [ModifiedTime] = @p309, [TradingDate] = @p310
OUTPUT 1
WHERE [Id] = @p311;
INSERT INTO [Currencies] ([Id], [Ask], [Bid], [Code], [CratedBy], [CreatedTime], [CurrencyName], [DeletedBy], [DeletedTime], [IsDeleted], [ModifiedBy], [ModifiedTime], [TradingDate])
VALUES (@p312, @p313, @p314, @p315, @p316, @p317, @p318, @p319, @p320, @p321, @p322, @p323, @p324),
(@p325, @p326, @p327, @p328, @p329, @p330, @p331, @p332, @p333, @p334, @p335, @p336, @p337),
(@p338, @p339, @p340, @p341, @p342, @p343, @p344, @p345, @p346, @p347, @p348, @p349, @p350),
(@p351, @p352, @p353, @p354, @p355, @p356, @p357, @p358, @p359, @p360, @p361, @p362, @p363);
2023-11-11 22:49:23.642 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5238/api/account/authenticate application/json 67
2023-11-11 22:49:23.683 +01:00 [WRN] Failed to determine the https port for redirect.
2023-11-11 22:49:23.726 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.AccountController.Authentication (WalletApp.Api)'
2023-11-11 22:49:23.739 +01:00 [INF] Route matched with {action = "Authentication", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult`1[WalletApp.Application.Account.Authenticate.AuthenticateResponseDto]]] Authentication(WalletApp.Application.Account.Authenticate.AuthenticateDto, System.Threading.CancellationToken) on controller WalletApp.Controllers.AccountController (WalletApp.Api).
2023-11-11 22:49:23.911 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IconType], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-11-11 22:49:24.073 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2023-11-11 22:49:24.101 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-11-11 22:49:24.117 +01:00 [INF] AuthenticationScheme: Identity.Application signed in.
2023-11-11 22:49:24.123 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IconType], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-11-11 22:49:24.129 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-11-11 22:49:24.268 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__ipAddress_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [t].[Id], [t].[IpAddress], [t].[RefreshToken], [t].[RefreshTokenExpiryTime], [t].[UserIdentityId]
FROM [Tokens] AS [t]
WHERE [t].[UserIdentityId] = @__userId_0 AND [t].[IpAddress] = @__ipAddress_1
2023-11-11 22:49:24.290 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IconType], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-11-11 22:49:24.339 +01:00 [INF] Executed DbCommand (23ms) [Parameters=[@p15='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p16='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [IconType] = @p4, [LockoutEnabled] = @p5, [LockoutEnd] = @p6, [NormalizedEmail] = @p7, [NormalizedUserName] = @p8, [PasswordHash] = @p9, [PhoneNumber] = @p10, [PhoneNumberConfirmed] = @p11, [SecurityStamp] = @p12, [TwoFactorEnabled] = @p13, [UserName] = @p14
OUTPUT 1
WHERE [Id] = @p15 AND [ConcurrencyStamp] = @p16;
2023-11-11 22:49:24.362 +01:00 [ERR] Failed executing DbCommand (12ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Tokens] ([Id], [IpAddress], [RefreshToken], [RefreshTokenExpiryTime], [UserIdentityId])
VALUES (@p0, @p1, @p2, @p3, @p4);
2023-11-11 22:49:24.390 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'WalletApp.Persistence.WalletDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'UserIdentityId', table 'WalletApp.dbo.Tokens'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:b27d8881-c43c-4a52-a563-ce96b12196ca
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'UserIdentityId', table 'WalletApp.dbo.Tokens'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:b27d8881-c43c-4a52-a563-ce96b12196ca
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-11-11 22:49:24.620 +01:00 [INF] Executed action WalletApp.Controllers.AccountController.Authentication (WalletApp.Api) in 875.3822ms
2023-11-11 22:49:24.624 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.AccountController.Authentication (WalletApp.Api)'
2023-11-11 22:49:24.630 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'UserIdentityId', table 'WalletApp.dbo.Tokens'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:b27d8881-c43c-4a52-a563-ce96b12196ca
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at WalletApp.Persistence.Repositories.TokenRepository.Save(CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Persistence\Repositories\TokenRepository.cs:line 55
   at WalletApp.Application.Account.Authenticate.AuthenticateCommandHandler.Handle(AuthenticateCommand request, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Common\Account\Authenticate\AuthenticateCommandHandler.cs:line 79
   at WalletApp.Application.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Behaviours\ValidationBehaviour.cs:line 30
   at WalletApp.Controllers.AccountController.Authentication(AuthenticateDto dto, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api\Controllers\AccountController.cs:line 30
   at lambda_method172(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-11-11 22:49:24.671 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5238/api/account/authenticate application/json 67 - 500 - text/plain;+charset=utf-8 1030.2012ms
2023-11-11 22:49:58.215 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5238/api/account/authenticate application/json 67
2023-11-11 22:49:58.218 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.AccountController.Authentication (WalletApp.Api)'
2023-11-11 22:49:58.220 +01:00 [INF] Route matched with {action = "Authentication", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult`1[WalletApp.Application.Account.Authenticate.AuthenticateResponseDto]]] Authentication(WalletApp.Application.Account.Authenticate.AuthenticateDto, System.Threading.CancellationToken) on controller WalletApp.Controllers.AccountController (WalletApp.Api).
2023-11-11 22:49:58.240 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IconType], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-11-11 22:49:58.314 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2023-11-11 22:49:58.318 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-11-11 22:49:58.323 +01:00 [INF] AuthenticationScheme: Identity.Application signed in.
2023-11-11 22:49:58.326 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IconType], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-11-11 22:49:58.329 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-11-11 22:49:58.333 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__ipAddress_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [t].[Id], [t].[IpAddress], [t].[RefreshToken], [t].[RefreshTokenExpiryTime], [t].[UserIdentityId]
FROM [Tokens] AS [t]
WHERE [t].[UserIdentityId] = @__userId_0 AND [t].[IpAddress] = @__ipAddress_1
2023-11-11 22:52:17.084 +01:00 [INF] User profile is available. Using 'C:\Users\maste\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-11-11 22:52:17.218 +01:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2023-11-11 22:52:17.220 +01:00 [INF] Quartz Scheduler created
2023-11-11 22:52:17.221 +01:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2023-11-11 22:52:17.222 +01:00 [INF] RAMJobStore initialized.
2023-11-11 22:52:17.223 +01:00 [INF] Quartz Scheduler 3.7.0.0 - 'QuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2023-11-11 22:52:17.224 +01:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2023-11-11 22:52:17.226 +01:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2023-11-11 22:52:17.235 +01:00 [INF] Adding 1 jobs, 1 triggers.
2023-11-11 22:52:17.238 +01:00 [INF] Adding job: DEFAULT.NBP
2023-11-11 22:52:17.326 +01:00 [INF] Now listening on: http://localhost:5238
2023-11-11 22:52:17.328 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-11 22:52:17.333 +01:00 [INF] Hosting environment: Development
2023-11-11 22:52:17.334 +01:00 [INF] Content root path: C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api
2023-11-11 22:52:17.336 +01:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2023-11-11 22:52:17.494 +01:00 [INF] Start processing HTTP request GET http://api.nbp.pl/api/exchangerates/tables/c
2023-11-11 22:52:17.496 +01:00 [INF] Sending HTTP request GET http://api.nbp.pl/api/exchangerates/tables/c
2023-11-11 22:52:17.645 +01:00 [INF] Received HTTP response headers after 131.923ms - 200
2023-11-11 22:52:17.650 +01:00 [INF] End processing HTTP request after 160.1588ms - 200
2023-11-11 22:52:18.883 +01:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Ask], [c].[Bid], [c].[Code], [c].[CratedBy], [c].[CreatedTime], [c].[CurrencyName], [c].[DeletedBy], [c].[DeletedTime], [c].[IsDeleted], [c].[ModifiedBy], [c].[ModifiedTime], [c].[TradingDate]
FROM [Currencies] AS [c]
2023-11-11 22:52:19.182 +01:00 [INF] Executed DbCommand (70ms) [Parameters=[@p12='?' (DbType = Guid), @p0='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p1='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p2='?' (Size = 3) (DbType = AnsiString), @p3='?' (DbType = Guid), @p4='?' (DbType = DateTime2), @p5='?' (Size = 30) (DbType = AnsiString), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = Guid), @p10='?' (DbType = DateTime2), @p11='?' (DbType = DateTime), @p25='?' (DbType = Guid), @p13='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p14='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p15='?' (Size = 3) (DbType = AnsiString), @p16='?' (DbType = Guid), @p17='?' (DbType = DateTime2), @p18='?' (Size = 30) (DbType = AnsiString), @p19='?' (DbType = Guid), @p20='?' (DbType = DateTime2), @p21='?' (DbType = Boolean), @p22='?' (DbType = Guid), @p23='?' (DbType = DateTime2), @p24='?' (DbType = DateTime), @p38='?' (DbType = Guid), @p26='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p27='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p28='?' (Size = 3) (DbType = AnsiString), @p29='?' (DbType = Guid), @p30='?' (DbType = DateTime2), @p31='?' (Size = 30) (DbType = AnsiString), @p32='?' (DbType = Guid), @p33='?' (DbType = DateTime2), @p34='?' (DbType = Boolean), @p35='?' (DbType = Guid), @p36='?' (DbType = DateTime2), @p37='?' (DbType = DateTime), @p51='?' (DbType = Guid), @p39='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p40='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p41='?' (Size = 3) (DbType = AnsiString), @p42='?' (DbType = Guid), @p43='?' (DbType = DateTime2), @p44='?' (Size = 30) (DbType = AnsiString), @p45='?' (DbType = Guid), @p46='?' (DbType = DateTime2), @p47='?' (DbType = Boolean), @p48='?' (DbType = Guid), @p49='?' (DbType = DateTime2), @p50='?' (DbType = DateTime), @p64='?' (DbType = Guid), @p52='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p53='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p54='?' (Size = 3) (DbType = AnsiString), @p55='?' (DbType = Guid), @p56='?' (DbType = DateTime2), @p57='?' (Size = 30) (DbType = AnsiString), @p58='?' (DbType = Guid), @p59='?' (DbType = DateTime2), @p60='?' (DbType = Boolean), @p61='?' (DbType = Guid), @p62='?' (DbType = DateTime2), @p63='?' (DbType = DateTime), @p77='?' (DbType = Guid), @p65='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p66='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p67='?' (Size = 3) (DbType = AnsiString), @p68='?' (DbType = Guid), @p69='?' (DbType = DateTime2), @p70='?' (Size = 30) (DbType = AnsiString), @p71='?' (DbType = Guid), @p72='?' (DbType = DateTime2), @p73='?' (DbType = Boolean), @p74='?' (DbType = Guid), @p75='?' (DbType = DateTime2), @p76='?' (DbType = DateTime), @p90='?' (DbType = Guid), @p78='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p79='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p80='?' (Size = 3) (DbType = AnsiString), @p81='?' (DbType = Guid), @p82='?' (DbType = DateTime2), @p83='?' (Size = 30) (DbType = AnsiString), @p84='?' (DbType = Guid), @p85='?' (DbType = DateTime2), @p86='?' (DbType = Boolean), @p87='?' (DbType = Guid), @p88='?' (DbType = DateTime2), @p89='?' (DbType = DateTime), @p103='?' (DbType = Guid), @p91='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p92='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p93='?' (Size = 3) (DbType = AnsiString), @p94='?' (DbType = Guid), @p95='?' (DbType = DateTime2), @p96='?' (Size = 30) (DbType = AnsiString), @p97='?' (DbType = Guid), @p98='?' (DbType = DateTime2), @p99='?' (DbType = Boolean), @p100='?' (DbType = Guid), @p101='?' (DbType = DateTime2), @p102='?' (DbType = DateTime), @p116='?' (DbType = Guid), @p104='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p105='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p106='?' (Size = 3) (DbType = AnsiString), @p107='?' (DbType = Guid), @p108='?' (DbType = DateTime2), @p109='?' (Size = 30) (DbType = AnsiString), @p110='?' (DbType = Guid), @p111='?' (DbType = DateTime2), @p112='?' (DbType = Boolean), @p113='?' (DbType = Guid), @p114='?' (DbType = DateTime2), @p115='?' (DbType = DateTime), @p129='?' (DbType = Guid), @p117='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p118='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p119='?' (Size = 3) (DbType = AnsiString), @p120='?' (DbType = Guid), @p121='?' (DbType = DateTime2), @p122='?' (Size = 30) (DbType = AnsiString), @p123='?' (DbType = Guid), @p124='?' (DbType = DateTime2), @p125='?' (DbType = Boolean), @p126='?' (DbType = Guid), @p127='?' (DbType = DateTime2), @p128='?' (DbType = DateTime), @p142='?' (DbType = Guid), @p130='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p131='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p132='?' (Size = 3) (DbType = AnsiString), @p133='?' (DbType = Guid), @p134='?' (DbType = DateTime2), @p135='?' (Size = 30) (DbType = AnsiString), @p136='?' (DbType = Guid), @p137='?' (DbType = DateTime2), @p138='?' (DbType = Boolean), @p139='?' (DbType = Guid), @p140='?' (DbType = DateTime2), @p141='?' (DbType = DateTime), @p155='?' (DbType = Guid), @p143='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p144='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p145='?' (Size = 3) (DbType = AnsiString), @p146='?' (DbType = Guid), @p147='?' (DbType = DateTime2), @p148='?' (Size = 30) (DbType = AnsiString), @p149='?' (DbType = Guid), @p150='?' (DbType = DateTime2), @p151='?' (DbType = Boolean), @p152='?' (DbType = Guid), @p153='?' (DbType = DateTime2), @p154='?' (DbType = DateTime), @p168='?' (DbType = Guid), @p156='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p157='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p158='?' (Size = 3) (DbType = AnsiString), @p159='?' (DbType = Guid), @p160='?' (DbType = DateTime2), @p161='?' (Size = 30) (DbType = AnsiString), @p162='?' (DbType = Guid), @p163='?' (DbType = DateTime2), @p164='?' (DbType = Boolean), @p165='?' (DbType = Guid), @p166='?' (DbType = DateTime2), @p167='?' (DbType = DateTime), @p181='?' (DbType = Guid), @p169='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p170='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p171='?' (Size = 3) (DbType = AnsiString), @p172='?' (DbType = Guid), @p173='?' (DbType = DateTime2), @p174='?' (Size = 30) (DbType = AnsiString), @p175='?' (DbType = Guid), @p176='?' (DbType = DateTime2), @p177='?' (DbType = Boolean), @p178='?' (DbType = Guid), @p179='?' (DbType = DateTime2), @p180='?' (DbType = DateTime), @p194='?' (DbType = Guid), @p182='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p183='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p184='?' (Size = 3) (DbType = AnsiString), @p185='?' (DbType = Guid), @p186='?' (DbType = DateTime2), @p187='?' (Size = 30) (DbType = AnsiString), @p188='?' (DbType = Guid), @p189='?' (DbType = DateTime2), @p190='?' (DbType = Boolean), @p191='?' (DbType = Guid), @p192='?' (DbType = DateTime2), @p193='?' (DbType = DateTime), @p207='?' (DbType = Guid), @p195='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p196='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p197='?' (Size = 3) (DbType = AnsiString), @p198='?' (DbType = Guid), @p199='?' (DbType = DateTime2), @p200='?' (Size = 30) (DbType = AnsiString), @p201='?' (DbType = Guid), @p202='?' (DbType = DateTime2), @p203='?' (DbType = Boolean), @p204='?' (DbType = Guid), @p205='?' (DbType = DateTime2), @p206='?' (DbType = DateTime), @p220='?' (DbType = Guid), @p208='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p209='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p210='?' (Size = 3) (DbType = AnsiString), @p211='?' (DbType = Guid), @p212='?' (DbType = DateTime2), @p213='?' (Size = 30) (DbType = AnsiString), @p214='?' (DbType = Guid), @p215='?' (DbType = DateTime2), @p216='?' (DbType = Boolean), @p217='?' (DbType = Guid), @p218='?' (DbType = DateTime2), @p219='?' (DbType = DateTime), @p233='?' (DbType = Guid), @p221='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p222='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p223='?' (Size = 3) (DbType = AnsiString), @p224='?' (DbType = Guid), @p225='?' (DbType = DateTime2), @p226='?' (Size = 30) (DbType = AnsiString), @p227='?' (DbType = Guid), @p228='?' (DbType = DateTime2), @p229='?' (DbType = Boolean), @p230='?' (DbType = Guid), @p231='?' (DbType = DateTime2), @p232='?' (DbType = DateTime), @p246='?' (DbType = Guid), @p234='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p235='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p236='?' (Size = 3) (DbType = AnsiString), @p237='?' (DbType = Guid), @p238='?' (DbType = DateTime2), @p239='?' (Size = 30) (DbType = AnsiString), @p240='?' (DbType = Guid), @p241='?' (DbType = DateTime2), @p242='?' (DbType = Boolean), @p243='?' (DbType = Guid), @p244='?' (DbType = DateTime2), @p245='?' (DbType = DateTime), @p259='?' (DbType = Guid), @p247='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p248='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p249='?' (Size = 3) (DbType = AnsiString), @p250='?' (DbType = Guid), @p251='?' (DbType = DateTime2), @p252='?' (Size = 30) (DbType = AnsiString), @p253='?' (DbType = Guid), @p254='?' (DbType = DateTime2), @p255='?' (DbType = Boolean), @p256='?' (DbType = Guid), @p257='?' (DbType = DateTime2), @p258='?' (DbType = DateTime), @p272='?' (DbType = Guid), @p260='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p261='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p262='?' (Size = 3) (DbType = AnsiString), @p263='?' (DbType = Guid), @p264='?' (DbType = DateTime2), @p265='?' (Size = 30) (DbType = AnsiString), @p266='?' (DbType = Guid), @p267='?' (DbType = DateTime2), @p268='?' (DbType = Boolean), @p269='?' (DbType = Guid), @p270='?' (DbType = DateTime2), @p271='?' (DbType = DateTime), @p285='?' (DbType = Guid), @p273='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p274='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p275='?' (Size = 3) (DbType = AnsiString), @p276='?' (DbType = Guid), @p277='?' (DbType = DateTime2), @p278='?' (Size = 30) (DbType = AnsiString), @p279='?' (DbType = Guid), @p280='?' (DbType = DateTime2), @p281='?' (DbType = Boolean), @p282='?' (DbType = Guid), @p283='?' (DbType = DateTime2), @p284='?' (DbType = DateTime), @p298='?' (DbType = Guid), @p286='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p287='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p288='?' (Size = 3) (DbType = AnsiString), @p289='?' (DbType = Guid), @p290='?' (DbType = DateTime2), @p291='?' (Size = 30) (DbType = AnsiString), @p292='?' (DbType = Guid), @p293='?' (DbType = DateTime2), @p294='?' (DbType = Boolean), @p295='?' (DbType = Guid), @p296='?' (DbType = DateTime2), @p297='?' (DbType = DateTime), @p311='?' (DbType = Guid), @p299='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p300='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p301='?' (Size = 3) (DbType = AnsiString), @p302='?' (DbType = Guid), @p303='?' (DbType = DateTime2), @p304='?' (Size = 30) (DbType = AnsiString), @p305='?' (DbType = Guid), @p306='?' (DbType = DateTime2), @p307='?' (DbType = Boolean), @p308='?' (DbType = Guid), @p309='?' (DbType = DateTime2), @p310='?' (DbType = DateTime), @p324='?' (DbType = Guid), @p312='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p313='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p314='?' (Size = 3) (DbType = AnsiString), @p315='?' (DbType = Guid), @p316='?' (DbType = DateTime2), @p317='?' (Size = 30) (DbType = AnsiString), @p318='?' (DbType = Guid), @p319='?' (DbType = DateTime2), @p320='?' (DbType = Boolean), @p321='?' (DbType = Guid), @p322='?' (DbType = DateTime2), @p323='?' (DbType = DateTime), @p337='?' (DbType = Guid), @p325='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p326='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p327='?' (Size = 3) (DbType = AnsiString), @p328='?' (DbType = Guid), @p329='?' (DbType = DateTime2), @p330='?' (Size = 30) (DbType = AnsiString), @p331='?' (DbType = Guid), @p332='?' (DbType = DateTime2), @p333='?' (DbType = Boolean), @p334='?' (DbType = Guid), @p335='?' (DbType = DateTime2), @p336='?' (DbType = DateTime), @p350='?' (DbType = Guid), @p338='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p339='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p340='?' (Size = 3) (DbType = AnsiString), @p341='?' (DbType = Guid), @p342='?' (DbType = DateTime2), @p343='?' (Size = 30) (DbType = AnsiString), @p344='?' (DbType = Guid), @p345='?' (DbType = DateTime2), @p346='?' (DbType = Boolean), @p347='?' (DbType = Guid), @p348='?' (DbType = DateTime2), @p349='?' (DbType = DateTime), @p363='?' (DbType = Guid), @p351='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p352='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p353='?' (Size = 3) (DbType = AnsiString), @p354='?' (DbType = Guid), @p355='?' (DbType = DateTime2), @p356='?' (Size = 30) (DbType = AnsiString), @p357='?' (DbType = Guid), @p358='?' (DbType = DateTime2), @p359='?' (DbType = Boolean), @p360='?' (DbType = Guid), @p361='?' (DbType = DateTime2), @p362='?' (DbType = DateTime), @p364='?' (DbType = Guid), @p365='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p366='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p367='?' (Size = 3) (DbType = AnsiString), @p368='?' (DbType = Guid), @p369='?' (DbType = DateTime2), @p370='?' (Size = 30) (DbType = AnsiString), @p371='?' (DbType = Guid), @p372='?' (DbType = DateTime2), @p373='?' (DbType = Boolean), @p374='?' (DbType = Guid), @p375='?' (DbType = DateTime2), @p376='?' (DbType = DateTime), @p377='?' (DbType = Guid), @p378='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p379='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p380='?' (Size = 3) (DbType = AnsiString), @p381='?' (DbType = Guid), @p382='?' (DbType = DateTime2), @p383='?' (Size = 30) (DbType = AnsiString), @p384='?' (DbType = Guid), @p385='?' (DbType = DateTime2), @p386='?' (DbType = Boolean), @p387='?' (DbType = Guid), @p388='?' (DbType = DateTime2), @p389='?' (DbType = DateTime), @p390='?' (DbType = Guid), @p391='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p392='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p393='?' (Size = 3) (DbType = AnsiString), @p394='?' (DbType = Guid), @p395='?' (DbType = DateTime2), @p396='?' (Size = 30) (DbType = AnsiString), @p397='?' (DbType = Guid), @p398='?' (DbType = DateTime2), @p399='?' (DbType = Boolean), @p400='?' (DbType = Guid), @p401='?' (DbType = DateTime2), @p402='?' (DbType = DateTime), @p403='?' (DbType = Guid), @p404='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p405='?' (Precision = 10) (Scale = 3) (DbType = Decimal), @p406='?' (Size = 3) (DbType = AnsiString), @p407='?' (DbType = Guid), @p408='?' (DbType = DateTime2), @p409='?' (Size = 30) (DbType = AnsiString), @p410='?' (DbType = Guid), @p411='?' (DbType = DateTime2), @p412='?' (DbType = Boolean), @p413='?' (DbType = Guid), @p414='?' (DbType = DateTime2), @p415='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Currencies] SET [Ask] = @p0, [Bid] = @p1, [Code] = @p2, [CratedBy] = @p3, [CreatedTime] = @p4, [CurrencyName] = @p5, [DeletedBy] = @p6, [DeletedTime] = @p7, [IsDeleted] = @p8, [ModifiedBy] = @p9, [ModifiedTime] = @p10, [TradingDate] = @p11
OUTPUT 1
WHERE [Id] = @p12;
UPDATE [Currencies] SET [Ask] = @p13, [Bid] = @p14, [Code] = @p15, [CratedBy] = @p16, [CreatedTime] = @p17, [CurrencyName] = @p18, [DeletedBy] = @p19, [DeletedTime] = @p20, [IsDeleted] = @p21, [ModifiedBy] = @p22, [ModifiedTime] = @p23, [TradingDate] = @p24
OUTPUT 1
WHERE [Id] = @p25;
UPDATE [Currencies] SET [Ask] = @p26, [Bid] = @p27, [Code] = @p28, [CratedBy] = @p29, [CreatedTime] = @p30, [CurrencyName] = @p31, [DeletedBy] = @p32, [DeletedTime] = @p33, [IsDeleted] = @p34, [ModifiedBy] = @p35, [ModifiedTime] = @p36, [TradingDate] = @p37
OUTPUT 1
WHERE [Id] = @p38;
UPDATE [Currencies] SET [Ask] = @p39, [Bid] = @p40, [Code] = @p41, [CratedBy] = @p42, [CreatedTime] = @p43, [CurrencyName] = @p44, [DeletedBy] = @p45, [DeletedTime] = @p46, [IsDeleted] = @p47, [ModifiedBy] = @p48, [ModifiedTime] = @p49, [TradingDate] = @p50
OUTPUT 1
WHERE [Id] = @p51;
UPDATE [Currencies] SET [Ask] = @p52, [Bid] = @p53, [Code] = @p54, [CratedBy] = @p55, [CreatedTime] = @p56, [CurrencyName] = @p57, [DeletedBy] = @p58, [DeletedTime] = @p59, [IsDeleted] = @p60, [ModifiedBy] = @p61, [ModifiedTime] = @p62, [TradingDate] = @p63
OUTPUT 1
WHERE [Id] = @p64;
UPDATE [Currencies] SET [Ask] = @p65, [Bid] = @p66, [Code] = @p67, [CratedBy] = @p68, [CreatedTime] = @p69, [CurrencyName] = @p70, [DeletedBy] = @p71, [DeletedTime] = @p72, [IsDeleted] = @p73, [ModifiedBy] = @p74, [ModifiedTime] = @p75, [TradingDate] = @p76
OUTPUT 1
WHERE [Id] = @p77;
UPDATE [Currencies] SET [Ask] = @p78, [Bid] = @p79, [Code] = @p80, [CratedBy] = @p81, [CreatedTime] = @p82, [CurrencyName] = @p83, [DeletedBy] = @p84, [DeletedTime] = @p85, [IsDeleted] = @p86, [ModifiedBy] = @p87, [ModifiedTime] = @p88, [TradingDate] = @p89
OUTPUT 1
WHERE [Id] = @p90;
UPDATE [Currencies] SET [Ask] = @p91, [Bid] = @p92, [Code] = @p93, [CratedBy] = @p94, [CreatedTime] = @p95, [CurrencyName] = @p96, [DeletedBy] = @p97, [DeletedTime] = @p98, [IsDeleted] = @p99, [ModifiedBy] = @p100, [ModifiedTime] = @p101, [TradingDate] = @p102
OUTPUT 1
WHERE [Id] = @p103;
UPDATE [Currencies] SET [Ask] = @p104, [Bid] = @p105, [Code] = @p106, [CratedBy] = @p107, [CreatedTime] = @p108, [CurrencyName] = @p109, [DeletedBy] = @p110, [DeletedTime] = @p111, [IsDeleted] = @p112, [ModifiedBy] = @p113, [ModifiedTime] = @p114, [TradingDate] = @p115
OUTPUT 1
WHERE [Id] = @p116;
UPDATE [Currencies] SET [Ask] = @p117, [Bid] = @p118, [Code] = @p119, [CratedBy] = @p120, [CreatedTime] = @p121, [CurrencyName] = @p122, [DeletedBy] = @p123, [DeletedTime] = @p124, [IsDeleted] = @p125, [ModifiedBy] = @p126, [ModifiedTime] = @p127, [TradingDate] = @p128
OUTPUT 1
WHERE [Id] = @p129;
UPDATE [Currencies] SET [Ask] = @p130, [Bid] = @p131, [Code] = @p132, [CratedBy] = @p133, [CreatedTime] = @p134, [CurrencyName] = @p135, [DeletedBy] = @p136, [DeletedTime] = @p137, [IsDeleted] = @p138, [ModifiedBy] = @p139, [ModifiedTime] = @p140, [TradingDate] = @p141
OUTPUT 1
WHERE [Id] = @p142;
UPDATE [Currencies] SET [Ask] = @p143, [Bid] = @p144, [Code] = @p145, [CratedBy] = @p146, [CreatedTime] = @p147, [CurrencyName] = @p148, [DeletedBy] = @p149, [DeletedTime] = @p150, [IsDeleted] = @p151, [ModifiedBy] = @p152, [ModifiedTime] = @p153, [TradingDate] = @p154
OUTPUT 1
WHERE [Id] = @p155;
UPDATE [Currencies] SET [Ask] = @p156, [Bid] = @p157, [Code] = @p158, [CratedBy] = @p159, [CreatedTime] = @p160, [CurrencyName] = @p161, [DeletedBy] = @p162, [DeletedTime] = @p163, [IsDeleted] = @p164, [ModifiedBy] = @p165, [ModifiedTime] = @p166, [TradingDate] = @p167
OUTPUT 1
WHERE [Id] = @p168;
UPDATE [Currencies] SET [Ask] = @p169, [Bid] = @p170, [Code] = @p171, [CratedBy] = @p172, [CreatedTime] = @p173, [CurrencyName] = @p174, [DeletedBy] = @p175, [DeletedTime] = @p176, [IsDeleted] = @p177, [ModifiedBy] = @p178, [ModifiedTime] = @p179, [TradingDate] = @p180
OUTPUT 1
WHERE [Id] = @p181;
UPDATE [Currencies] SET [Ask] = @p182, [Bid] = @p183, [Code] = @p184, [CratedBy] = @p185, [CreatedTime] = @p186, [CurrencyName] = @p187, [DeletedBy] = @p188, [DeletedTime] = @p189, [IsDeleted] = @p190, [ModifiedBy] = @p191, [ModifiedTime] = @p192, [TradingDate] = @p193
OUTPUT 1
WHERE [Id] = @p194;
UPDATE [Currencies] SET [Ask] = @p195, [Bid] = @p196, [Code] = @p197, [CratedBy] = @p198, [CreatedTime] = @p199, [CurrencyName] = @p200, [DeletedBy] = @p201, [DeletedTime] = @p202, [IsDeleted] = @p203, [ModifiedBy] = @p204, [ModifiedTime] = @p205, [TradingDate] = @p206
OUTPUT 1
WHERE [Id] = @p207;
UPDATE [Currencies] SET [Ask] = @p208, [Bid] = @p209, [Code] = @p210, [CratedBy] = @p211, [CreatedTime] = @p212, [CurrencyName] = @p213, [DeletedBy] = @p214, [DeletedTime] = @p215, [IsDeleted] = @p216, [ModifiedBy] = @p217, [ModifiedTime] = @p218, [TradingDate] = @p219
OUTPUT 1
WHERE [Id] = @p220;
UPDATE [Currencies] SET [Ask] = @p221, [Bid] = @p222, [Code] = @p223, [CratedBy] = @p224, [CreatedTime] = @p225, [CurrencyName] = @p226, [DeletedBy] = @p227, [DeletedTime] = @p228, [IsDeleted] = @p229, [ModifiedBy] = @p230, [ModifiedTime] = @p231, [TradingDate] = @p232
OUTPUT 1
WHERE [Id] = @p233;
UPDATE [Currencies] SET [Ask] = @p234, [Bid] = @p235, [Code] = @p236, [CratedBy] = @p237, [CreatedTime] = @p238, [CurrencyName] = @p239, [DeletedBy] = @p240, [DeletedTime] = @p241, [IsDeleted] = @p242, [ModifiedBy] = @p243, [ModifiedTime] = @p244, [TradingDate] = @p245
OUTPUT 1
WHERE [Id] = @p246;
UPDATE [Currencies] SET [Ask] = @p247, [Bid] = @p248, [Code] = @p249, [CratedBy] = @p250, [CreatedTime] = @p251, [CurrencyName] = @p252, [DeletedBy] = @p253, [DeletedTime] = @p254, [IsDeleted] = @p255, [ModifiedBy] = @p256, [ModifiedTime] = @p257, [TradingDate] = @p258
OUTPUT 1
WHERE [Id] = @p259;
UPDATE [Currencies] SET [Ask] = @p260, [Bid] = @p261, [Code] = @p262, [CratedBy] = @p263, [CreatedTime] = @p264, [CurrencyName] = @p265, [DeletedBy] = @p266, [DeletedTime] = @p267, [IsDeleted] = @p268, [ModifiedBy] = @p269, [ModifiedTime] = @p270, [TradingDate] = @p271
OUTPUT 1
WHERE [Id] = @p272;
UPDATE [Currencies] SET [Ask] = @p273, [Bid] = @p274, [Code] = @p275, [CratedBy] = @p276, [CreatedTime] = @p277, [CurrencyName] = @p278, [DeletedBy] = @p279, [DeletedTime] = @p280, [IsDeleted] = @p281, [ModifiedBy] = @p282, [ModifiedTime] = @p283, [TradingDate] = @p284
OUTPUT 1
WHERE [Id] = @p285;
UPDATE [Currencies] SET [Ask] = @p286, [Bid] = @p287, [Code] = @p288, [CratedBy] = @p289, [CreatedTime] = @p290, [CurrencyName] = @p291, [DeletedBy] = @p292, [DeletedTime] = @p293, [IsDeleted] = @p294, [ModifiedBy] = @p295, [ModifiedTime] = @p296, [TradingDate] = @p297
OUTPUT 1
WHERE [Id] = @p298;
UPDATE [Currencies] SET [Ask] = @p299, [Bid] = @p300, [Code] = @p301, [CratedBy] = @p302, [CreatedTime] = @p303, [CurrencyName] = @p304, [DeletedBy] = @p305, [DeletedTime] = @p306, [IsDeleted] = @p307, [ModifiedBy] = @p308, [ModifiedTime] = @p309, [TradingDate] = @p310
OUTPUT 1
WHERE [Id] = @p311;
UPDATE [Currencies] SET [Ask] = @p312, [Bid] = @p313, [Code] = @p314, [CratedBy] = @p315, [CreatedTime] = @p316, [CurrencyName] = @p317, [DeletedBy] = @p318, [DeletedTime] = @p319, [IsDeleted] = @p320, [ModifiedBy] = @p321, [ModifiedTime] = @p322, [TradingDate] = @p323
OUTPUT 1
WHERE [Id] = @p324;
UPDATE [Currencies] SET [Ask] = @p325, [Bid] = @p326, [Code] = @p327, [CratedBy] = @p328, [CreatedTime] = @p329, [CurrencyName] = @p330, [DeletedBy] = @p331, [DeletedTime] = @p332, [IsDeleted] = @p333, [ModifiedBy] = @p334, [ModifiedTime] = @p335, [TradingDate] = @p336
OUTPUT 1
WHERE [Id] = @p337;
UPDATE [Currencies] SET [Ask] = @p338, [Bid] = @p339, [Code] = @p340, [CratedBy] = @p341, [CreatedTime] = @p342, [CurrencyName] = @p343, [DeletedBy] = @p344, [DeletedTime] = @p345, [IsDeleted] = @p346, [ModifiedBy] = @p347, [ModifiedTime] = @p348, [TradingDate] = @p349
OUTPUT 1
WHERE [Id] = @p350;
UPDATE [Currencies] SET [Ask] = @p351, [Bid] = @p352, [Code] = @p353, [CratedBy] = @p354, [CreatedTime] = @p355, [CurrencyName] = @p356, [DeletedBy] = @p357, [DeletedTime] = @p358, [IsDeleted] = @p359, [ModifiedBy] = @p360, [ModifiedTime] = @p361, [TradingDate] = @p362
OUTPUT 1
WHERE [Id] = @p363;
INSERT INTO [Currencies] ([Id], [Ask], [Bid], [Code], [CratedBy], [CreatedTime], [CurrencyName], [DeletedBy], [DeletedTime], [IsDeleted], [ModifiedBy], [ModifiedTime], [TradingDate])
VALUES (@p364, @p365, @p366, @p367, @p368, @p369, @p370, @p371, @p372, @p373, @p374, @p375, @p376),
(@p377, @p378, @p379, @p380, @p381, @p382, @p383, @p384, @p385, @p386, @p387, @p388, @p389),
(@p390, @p391, @p392, @p393, @p394, @p395, @p396, @p397, @p398, @p399, @p400, @p401, @p402),
(@p403, @p404, @p405, @p406, @p407, @p408, @p409, @p410, @p411, @p412, @p413, @p414, @p415);
2023-11-11 22:53:19.309 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5238/api/account/authenticate application/json 67
2023-11-11 22:53:19.349 +01:00 [WRN] Failed to determine the https port for redirect.
2023-11-11 22:53:19.401 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.AccountController.Authentication (WalletApp.Api)'
2023-11-11 22:53:19.417 +01:00 [INF] Route matched with {action = "Authentication", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult`1[WalletApp.Application.Account.Authenticate.AuthenticateResponseDto]]] Authentication(WalletApp.Application.Account.Authenticate.AuthenticateDto, System.Threading.CancellationToken) on controller WalletApp.Controllers.AccountController (WalletApp.Api).
2023-11-11 22:53:19.572 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IconType], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-11-11 22:53:19.732 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2023-11-11 22:53:19.757 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-11-11 22:53:19.771 +01:00 [INF] AuthenticationScheme: Identity.Application signed in.
2023-11-11 22:53:19.778 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IconType], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-11-11 22:53:19.784 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-11-11 22:53:19.936 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__ipAddress_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [t].[Id], [t].[IpAddress], [t].[RefreshToken], [t].[RefreshTokenExpiryTime], [t].[UserIdentityId]
FROM [Tokens] AS [t]
WHERE [t].[UserIdentityId] = @__userId_0 AND [t].[IpAddress] = @__ipAddress_1
2023-11-11 22:53:19.952 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IconType], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-11-11 22:53:19.983 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@p15='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p16='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [IconType] = @p4, [LockoutEnabled] = @p5, [LockoutEnd] = @p6, [NormalizedEmail] = @p7, [NormalizedUserName] = @p8, [PasswordHash] = @p9, [PhoneNumber] = @p10, [PhoneNumberConfirmed] = @p11, [SecurityStamp] = @p12, [TwoFactorEnabled] = @p13, [UserName] = @p14
OUTPUT 1
WHERE [Id] = @p15 AND [ConcurrencyStamp] = @p16;
2023-11-11 22:53:20.001 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Tokens] ([Id], [IpAddress], [RefreshToken], [RefreshTokenExpiryTime], [UserIdentityId])
VALUES (@p0, @p1, @p2, @p3, @p4);
2023-11-11 22:53:20.147 +01:00 [INF] Executed action WalletApp.Controllers.AccountController.Authentication (WalletApp.Api) in 725.2662ms
2023-11-11 22:53:20.150 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.AccountController.Authentication (WalletApp.Api)'
2023-11-11 22:53:20.153 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at WalletApp.Application.Account.Authenticate.AuthenticateCommandHandler.Handle(AuthenticateCommand request, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Common\Account\Authenticate\AuthenticateCommandHandler.cs:line 81
   at WalletApp.Application.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Application\Behaviours\ValidationBehaviour.cs:line 30
   at WalletApp.Controllers.AccountController.Authentication(AuthenticateDto dto, CancellationToken cancellationToken) in C:\Users\maste\source\repos\wallet-app\wallet-app-backend\WalletApp.Api\Controllers\AccountController.cs:line 30
   at lambda_method172(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-11-11 22:53:20.176 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5238/api/account/authenticate application/json 67 - 500 - text/plain;+charset=utf-8 868.2467ms
2023-11-11 22:53:33.014 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5238/api/account/authenticate application/json 67
2023-11-11 22:53:33.019 +01:00 [INF] Executing endpoint 'WalletApp.Controllers.AccountController.Authentication (WalletApp.Api)'
2023-11-11 22:53:33.020 +01:00 [INF] Route matched with {action = "Authentication", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WalletApp.Application.Common.ApiResult`1[WalletApp.Application.Account.Authenticate.AuthenticateResponseDto]]] Authentication(WalletApp.Application.Account.Authenticate.AuthenticateDto, System.Threading.CancellationToken) on controller WalletApp.Controllers.AccountController (WalletApp.Api).
2023-11-11 22:53:33.029 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IconType], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-11-11 22:53:33.109 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2023-11-11 22:53:33.112 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-11-11 22:53:33.116 +01:00 [INF] AuthenticationScheme: Identity.Application signed in.
2023-11-11 22:53:33.119 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IconType], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-11-11 22:53:33.122 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-11-11 22:53:33.140 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__ipAddress_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [t].[Id], [t].[IpAddress], [t].[RefreshToken], [t].[RefreshTokenExpiryTime], [t].[UserIdentityId]
FROM [Tokens] AS [t]
WHERE [t].[UserIdentityId] = @__userId_0 AND [t].[IpAddress] = @__ipAddress_1
2023-11-11 22:53:52.961 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IconType], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-11-11 22:53:52.993 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@p15='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p16='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [IconType] = @p4, [LockoutEnabled] = @p5, [LockoutEnd] = @p6, [NormalizedEmail] = @p7, [NormalizedUserName] = @p8, [PasswordHash] = @p9, [PhoneNumber] = @p10, [PhoneNumberConfirmed] = @p11, [SecurityStamp] = @p12, [TwoFactorEnabled] = @p13, [UserName] = @p14
OUTPUT 1
WHERE [Id] = @p15 AND [ConcurrencyStamp] = @p16;
2023-11-11 22:53:54.647 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Tokens] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2023-11-11 22:54:07.327 +01:00 [INF] Executing OkObjectResult, writing value of type 'WalletApp.Application.Common.ApiResult`1[[WalletApp.Application.Account.Authenticate.AuthenticateResponseDto, WalletApp.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-11-11 22:54:07.348 +01:00 [INF] Executed action WalletApp.Controllers.AccountController.Authentication (WalletApp.Api) in 34326.7646ms
2023-11-11 22:54:07.350 +01:00 [INF] Executed endpoint 'WalletApp.Controllers.AccountController.Authentication (WalletApp.Api)'
2023-11-11 22:54:07.352 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5238/api/account/authenticate application/json 67 - 200 - application/json;+charset=utf-8 34337.0680ms
